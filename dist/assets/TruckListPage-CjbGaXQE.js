import{i as j,u as v,r as n,q as N,k as y,o as w,j as e,a as A,T as r,c as $}from"./index-lpKxc9Tz.js";import{P as S}from"./phone-CFSfF0wP.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L=j("funnel",T),O=({currentLang:o})=>{const{primaryColor:c,textColor:a}=v(),t=A[o],[l,h]=n.useState("all"),[f,b]=n.useState([]),[p,d]=n.useState(!0);n.useEffect(()=>{d(!0);const s=N(y($,"trucks")),i=w(s,g=>{const m=[];g.forEach(u=>{m.push({id:u.id,...u.data()})}),b(m),d(!1)});return()=>i()},[]);const x=f.filter(s=>l==="all"?!0:l==="online"?s.isAvailable:l==="offline"?!s.isAvailable:!0);return e.jsxs("div",{className:`p-4 pb-20 ${o==="ar"?"rtl":""}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:`font-bold text-lg text-${a}-800`,children:t.truckList||"Trucks in your area"}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white px-2 py-1 rounded-lg border border-gray-200",children:[e.jsx(L,{size:14,className:"text-gray-400"}),e.jsxs("select",{value:l,onChange:s=>h(s.target.value),className:`text-xs font-medium outline-none bg-transparent text-${a}-600`,children:[e.jsx("option",{value:"all",children:t.showAll||"All"}),e.jsx("option",{value:"online",children:t.showOnline||"Online"}),e.jsx("option",{value:"offline",children:t.showOffline||"Offline"})]})]})]}),p?e.jsxs("div",{className:"text-center text-sm text-gray-500 py-8 bg-white rounded-lg shadow-sm",children:[e.jsx(r,{size:24,className:"mx-auto mb-2 text-gray-300 animate-pulse"}),"Loading trucks..."]}):e.jsxs("div",{className:"space-y-3",children:[x.map(s=>e.jsxs("div",{className:`bg-white p-4 rounded-lg shadow-sm border border-${a}-100 flex items-center justify-between`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`bg-${c}-100 p-3 rounded-full text-${c}-600`,children:e.jsx(r,{size:20})}),e.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 border-2 border-white rounded-full ${s.isAvailable?"bg-green-500":"bg-gray-400"}`})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold text-sm text-${a}-800`,children:s.companyName}),e.jsxs("div",{className:`text-xs text-${a}-500 flex flex-col`,children:[e.jsx("span",{children:s.name}),e.jsxs("span",{className:"flex items-center mt-0.5",children:[e.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full mr-1 ${s.isAvailable?"bg-green-500":"bg-gray-400"}`}),s.isAvailable?t.online:t.offlineStatus]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[e.jsxs("a",{href:`tel:${s.phone}`,className:`flex items-center justify-center space-x-1 px-3 py-1.5 rounded-full text-xs font-bold text-white shadow-sm ${s.isAvailable?"bg-green-500 hover:bg-green-600":"bg-gray-300 cursor-not-allowed"}`,onClick:i=>!s.isAvailable&&i.preventDefault(),children:[e.jsx(S,{size:14}),e.jsx("span",{children:t.call})]}),e.jsx("span",{className:`text-[10px] text-${a}-400`,children:s.phone})]})]},s.id)),x.length===0&&e.jsxs("div",{className:"text-center text-sm text-gray-500 py-8 bg-white rounded-lg shadow-sm",children:[e.jsx(r,{size:24,className:"mx-auto mb-2 text-gray-300"}),"No trucks found matching this filter."]})]})]})};export{O as default};
