import{i as u,v as $,r as a,u as z,j as e,x as R,a as I}from"./index-Dwgq_cU1.js";import{C as j}from"./camera-BZtazpkm.js";import{C as L}from"./check-BljgwfBQ.js";import{X as M,P as S}from"./x-Dtjl1VX9.js";import{T as U}from"./triangle-alert-DvbEXuzs.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],A=u("car",T);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],P=u("log-out",E);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],O=u("settings",_),X=({user:t,onLogout:y,onUpdateUser:d,currentLang:v})=>{const b=$(),p=a.useRef(null),f=a.useRef(null),{primaryColor:r,textColor:c}=z(),o=I[v],[N,x]=a.useState(!1),[h,m]=a.useState(t.name);a.useEffect(()=>{m(t.name)},[t.name]);const l=a.useMemo(()=>({background:c==="gray"?"bg-gray-200":"bg-blue-200",text:c==="gray"?"text-gray-700":"text-blue-700",textMuted:c==="gray"?"text-gray-500":"text-blue-500",textLight:c==="gray"?"text-gray-400":"text-blue-400",primary:r==="blue"?"bg-blue-600 hover:bg-blue-700":"bg-gray-600 hover:bg-gray-700",primaryText:r==="blue"?"text-blue-800":"text-gray-800",primaryBg:r==="blue"?"bg-blue-100":"bg-gray-100",ring:r==="blue"?"ring-blue-100 border-blue-400":"ring-gray-100 border-gray-400",hover:r==="blue"?"hover:text-blue-500":"hover:text-gray-500"}),[r,c]),w=s=>{var n;const i=(n=s.target.files)==null?void 0:n[0];if(i){const g=URL.createObjectURL(i);d({...t,photoUrl:g})}},k=s=>{var n;const i=(n=s.target.files)==null?void 0:n[0];if(i&&"vehicle"in t){const g=URL.createObjectURL(i);d({...t,vehicle:{...t.vehicle,photoUrl:g}})}},C=()=>{h.trim()&&(d({...t,name:h}),x(!1))};return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-4 flex flex-col items-center",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx("div",{className:`w-24 h-24 ${l.background} rounded-full flex items-center justify-center ${l.textLight} overflow-hidden border-4 border-white shadow-sm`,children:t.photoUrl?e.jsx("img",{src:t.photoUrl,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(R,{size:40})}),e.jsx("button",{onClick:()=>{var s;return(s=p.current)==null?void 0:s.click()},className:`absolute bottom-0 right-0 text-white p-2 rounded-full shadow-md transition-colors ${l.primary}`,children:e.jsx(j,{size:16})}),e.jsx("input",{type:"file",ref:p,className:"hidden",accept:"image/*",onChange:w})]}),N?e.jsxs("div",{className:"flex items-center space-x-2 mb-1 w-full justify-center",children:[e.jsx("input",{type:"text",value:h,onChange:s=>m(s.target.value),className:`border rounded p-1 text-lg font-bold text-center w-40 outline-none ring-2 ${l.ring}`,autoFocus:!0}),e.jsx("button",{onClick:C,className:"p-1.5 bg-green-100 text-green-600 rounded-full hover:bg-green-200",children:e.jsx(L,{size:16})}),e.jsx("button",{onClick:()=>{x(!1),m(t.name)},className:"p-1.5 bg-red-100 text-red-600 rounded-full hover:bg-red-200",children:e.jsx(M,{size:16})})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[e.jsx("h2",{className:"font-bold text-lg",children:t.name}),e.jsx("button",{onClick:()=>x(!0),className:`p-1 text-gray-400 ${l.hover}`,children:e.jsx(S,{size:14})})]}),e.jsx("p",{className:`${l.textMuted} text-sm`,children:t.phone}),e.jsx("span",{className:`mt-2 ${l.primaryBg} ${l.primaryText} text-xs px-2 py-1 rounded font-medium`,children:t.role}),t.role==="USER"&&t.vehicle&&e.jsxs("div",{className:"mt-4 w-full bg-gray-50 p-3 rounded-lg text-left text-sm relative",children:[e.jsx("p",{className:"text-gray-400 text-xs uppercase font-bold mb-1",children:o.vehicle}),e.jsx("p",{className:"font-medium",children:t.vehicle.model}),e.jsx("p",{className:"text-gray-400 mb-2",children:t.vehicle.plate}),e.jsxs("div",{className:"w-full h-32 bg-gray-200 rounded-lg overflow-hidden relative flex items-center justify-center border border-dashed border-gray-300",children:[t.vehicle.photoUrl?e.jsx("img",{src:t.vehicle.photoUrl,alt:"Vehicle",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(A,{size:24}),e.jsx("span",{className:"text-[10px] mt-1",children:"Add Photo"})]}),e.jsx("button",{onClick:()=>{var s;return(s=f.current)==null?void 0:s.click()},className:"absolute bottom-2 right-2 bg-white p-1.5 rounded-full shadow-sm text-gray-600 hover:text-blue-600",children:e.jsx(j,{size:14})}),e.jsx("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:k})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[e.jsx("button",{onClick:()=>b("/settings"),className:"w-full flex items-center justify-between p-4 border-b hover:bg-gray-50",children:e.jsxs("div",{className:`flex items-center space-x-3 ${l.text}`,children:[e.jsx(O,{size:20}),e.jsx("span",{children:o.settings})]})}),e.jsx("button",{onClick:()=>b("/support"),className:"w-full flex items-center justify-between p-4 border-b hover:bg-gray-50",children:e.jsxs("div",{className:`flex items-center space-x-3 ${l.text}`,children:[e.jsx(U,{size:20}),e.jsx("span",{children:o.helpSupport})]})}),e.jsx("button",{onClick:y,className:"w-full flex items-center justify-between p-4 text-red-600 hover:bg-red-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(P,{size:20}),e.jsx("span",{children:o.logout})]})})]})]})};export{X as default};
