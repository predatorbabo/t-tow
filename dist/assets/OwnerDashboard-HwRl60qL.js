import{r as d,u as v,j as e,a as g,T as k}from"./index-Dwgq_cU1.js";import{C as N}from"./check-BljgwfBQ.js";import{X as y,P as $}from"./x-Dtjl1VX9.js";const B=({user:s,currentLang:u,onUpdateUser:p})=>{const[l,f]=d.useState(s.isAvailable),[c,m]=d.useState(!1),[t,x]=d.useState({truckType:s.truckType||"flatbed",truckBrand:s.truckBrand||"",plate:s.plate||"00123-116-25",serviceArea:s.serviceArea||"Constantine + 20km"}),[i,h]=d.useState({}),n=g[u],{primaryColor:o,textColor:r}=v();d.useEffect(()=>{c||(x({truckType:s.truckType||"flatbed",truckBrand:s.truckBrand||"",plate:s.plate||"00123-116-25",serviceArea:s.serviceArea||"Constantine + 20km"}),h({}))},[c,s]);const b=()=>{const a={};return t.plate.trim()||(a.plate=n.required||"Required"),t.serviceArea.trim()||(a.serviceArea=n.required||"Required"),t.truckBrand.trim()||(a.truckBrand=n.required||"Required"),h(a),Object.keys(a).length===0},j=()=>{b()&&(p({...s,truckType:t.truckType,truckBrand:t.truckBrand,plate:t.plate,serviceArea:t.serviceArea,isAvailable:l}),m(!1))};return d.useEffect(()=>{s.isAvailable!==l&&p({...s,isAvailable:l})},[l]),e.jsxs("div",{className:`p-4 pb-20 space-y-4 ${u==="ar"?"rtl":""}`,children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm text-center",children:[e.jsx("h2",{className:`text-${r}-500 text-sm mb-2`,children:n.availabilityStatus}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[e.jsx("span",{className:`font-bold ${l?`text-${r}-800`:`text-${r}-400`}`,children:n.offlineStatus}),e.jsx("button",{onClick:()=>f(!l),className:`w-16 h-8 rounded-full p-1 transition-colors duration-300 ${l?"bg-green-500":`bg-${r}-300`}`,children:e.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-300 ${l?"translate-x-8":"translate-x-0"}`})}),e.jsx("span",{className:`font-bold ${l?"text-green-600":`text-${r}-400`}`,children:n.online})]}),l&&e.jsxs("div",{className:"flex items-center justify-center text-xs text-green-600 bg-green-50 py-1 px-3 rounded-full inline-block",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping mr-2"}),"Broadcasting location"]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:`font-bold text-${r}-800 flex items-center`,children:[e.jsx(k,{size:18,className:`mr-2 text-${o}-500`})," ",n.myTruck]}),c?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:j,className:"px-3 py-1 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 flex items-center",children:[e.jsx(N,{size:14,className:"mr-1"})," ",n.save]}),e.jsx("button",{onClick:()=>m(!1),className:"p-1.5 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",children:e.jsx(y,{size:16})})]}):e.jsx("button",{onClick:()=>m(!0),className:`text-${r}-400 hover:text-${o}-600`,children:e.jsx($,{size:16})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col border-b pb-2",children:[e.jsxs("div",{className:"flex justify-between items-center h-8",children:[e.jsx("span",{className:`text-${r}-500 text-sm`,children:n.truckBrand||"Brand"}),c?e.jsx("input",{type:"text",value:t.truckBrand,onChange:a=>x({...t,truckBrand:a.target.value}),className:`text-sm border border-${r}-300 rounded p-1 w-32 text-right outline-none focus:ring-1 focus:ring-${o}-500 ${i.truckBrand?"border-red-500":""}`,placeholder:"e.g. Isuzu"}):e.jsx("span",{className:"font-medium text-sm",children:t.truckBrand||"-"})]}),i.truckBrand&&e.jsx("span",{className:"text-[10px] text-red-500 text-right",children:i.truckBrand})]}),e.jsxs("div",{className:"flex justify-between border-b pb-2 items-center h-8",children:[e.jsx("span",{className:`text-${r}-500 text-sm`,children:n.truckType}),c?e.jsxs("select",{value:t.truckType,onChange:a=>x({...t,truckType:a.target.value}),className:`text-sm border border-${r}-300 rounded p-1 outline-none`,children:[e.jsx("option",{value:"flatbed",children:"Flatbed"}),e.jsx("option",{value:"hook_and_chain",children:"Heavy Duty"}),e.jsx("option",{value:"wheel_lift",children:"Wheel Lift"})]}):e.jsx("span",{className:"font-medium text-sm",children:s.truckType?s.truckType==="flatbed"?"Flatbed":s.truckType==="hook_and_chain"?"Heavy Duty":"Wheel Lift":"Flatbed"})]}),e.jsxs("div",{className:"flex flex-col border-b pb-2",children:[e.jsxs("div",{className:"flex justify-between items-center h-8",children:[e.jsx("span",{className:`text-${r}-500 text-sm`,children:n.plate}),c?e.jsx("input",{type:"text",value:t.plate,onChange:a=>x({...t,plate:a.target.value}),className:`text-sm border border-${r}-300 rounded p-1 w-32 text-right outline-none focus:ring-1 focus:ring-${o}-500 ${i.plate?"border-red-500":""}`}):e.jsx("span",{className:"font-medium text-sm",children:t.plate})]}),i.plate&&e.jsx("span",{className:"text-[10px] text-red-500 text-right",children:i.plate})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center h-8",children:[e.jsx("span",{className:`text-${r}-500 text-sm`,children:n.serviceArea}),c?e.jsx("input",{type:"text",value:t.serviceArea,onChange:a=>x({...t,serviceArea:a.target.value}),className:`text-sm border border-${r}-300 rounded p-1 w-32 text-right outline-none focus:ring-1 focus:ring-${o}-500 ${i.serviceArea?"border-red-500":""}`}):e.jsx("span",{className:"font-medium text-sm",children:t.serviceArea})]}),i.serviceArea&&e.jsx("span",{className:"text-[10px] text-red-500 text-right",children:i.serviceArea})]})]})]})]})};export{B as default};
