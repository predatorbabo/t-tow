const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DVHKIwC2.js","assets/useNotifications-DGZK_9WH.js","assets/triangle-alert-WgYNZeJ8.js","assets/phone-Dx_oPNDT.js","assets/TruckListPage-DusvZW54.js","assets/OwnerChatPage-CqenVLad.js","assets/chevron-left-BKANMD17.js","assets/camera-DEf19reA.js","assets/check-B4Q56XB-.js","assets/OwnerDashboard-B98vrcys.js","assets/x-B2oPhp2k.js","assets/ProfilePage-BuajgvqA.js","assets/SettingsPage-aLZjmRLz.js","assets/SupportPage-DGq2anEf.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function MA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Dp={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function $1(){if(gT)return Eu;gT=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:s,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Eu.Fragment=e,Eu.jsx=t,Eu.jsxs=t,Eu}var yT;function X1(){return yT||(yT=1,Dp.exports=$1()),Dp.exports}var se=X1(),Np={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function J1(){if(_T)return Ie;_T=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,P={};function te(O,ee,ue){this.props=O,this.context=ee,this.refs=P,this.updater=ue||j}te.prototype.isReactComponent={},te.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},te.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ie(){}ie.prototype=te.prototype;function Y(O,ee,ue){this.props=O,this.context=ee,this.refs=P,this.updater=ue||j}var ce=Y.prototype=new ie;ce.constructor=Y,H(ce,te.prototype),ce.isPureReactComponent=!0;var de=Array.isArray;function ge(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,ee,ue){var he=ue.ref;return{$$typeof:s,type:O,key:ee,ref:he!==void 0?he:null,props:ue}}function M(O,ee){return R(O.type,ee,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return ee[ue]})}var C=/\/+/g;function ot(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):ee.toString(36)}function Pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ge,ge):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function J(O,ee,ue,he,Se){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(De){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case s:case e:ze=!0;break;case v:return ze=O._init,J(ze(O._payload),ee,ue,he,Se)}}if(ze)return Se=Se(O),ze=he===""?"."+ot(O,0):he,de(Se)?(ue="",ze!=null&&(ue=ze.replace(C,"$&/")+"/"),J(Se,ee,ue,"",function(Ns){return Ns})):Se!=null&&(x(Se)&&(Se=M(Se,ue+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(C,"$&/")+"/")+ze)),ee.push(Se)),1;ze=0;var kt=he===""?".":he+":";if(de(O))for(var lt=0;lt<O.length;lt++)he=O[lt],De=kt+ot(he,lt),ze+=J(he,ee,ue,De,Se);else if(lt=N(O),typeof lt=="function")for(O=lt.call(O),lt=0;!(he=O.next()).done;)he=he.value,De=kt+ot(he,lt++),ze+=J(he,ee,ue,De,Se);else if(De==="object"){if(typeof O.then=="function")return J(Pt(O),ee,ue,he,Se);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ze}function le(O,ee,ue){if(O==null)return O;var he=[],Se=0;return J(O,he,"","",function(De){return ee.call(ue,De,Se++)}),he}function Ee(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var qe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qe={map:le,forEach:function(O,ee,ue){le(O,function(){ee.apply(this,arguments)},ue)},count:function(O){var ee=0;return le(O,function(){ee++}),ee},toArray:function(O){return le(O,function(ee){return ee})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ie.Activity=T,Ie.Children=Qe,Ie.Component=te,Ie.Fragment=t,Ie.Profiler=a,Ie.PureComponent=Y,Ie.StrictMode=i,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(O,ee,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=H({},O.props),Se=O.key;if(ee!=null)for(De in ee.key!==void 0&&(Se=""+ee.key),ee)!w.call(ee,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ee.ref===void 0||(he[De]=ee[De]);var De=arguments.length-2;if(De===1)he.children=ue;else if(1<De){for(var ze=Array(De),kt=0;kt<De;kt++)ze[kt]=arguments[kt+2];he.children=ze}return R(O.type,Se,he)},Ie.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Ie.createElement=function(O,ee,ue){var he,Se={},De=null;if(ee!=null)for(he in ee.key!==void 0&&(De=""+ee.key),ee)w.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=ee[he]);var ze=arguments.length-2;if(ze===1)Se.children=ue;else if(1<ze){for(var kt=Array(ze),lt=0;lt<ze;lt++)kt[lt]=arguments[lt+2];Se.children=kt}if(O&&O.defaultProps)for(he in ze=O.defaultProps,ze)Se[he]===void 0&&(Se[he]=ze[he]);return R(O,De,Se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:d,render:O}},Ie.isValidElement=x,Ie.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Ee}},Ie.memo=function(O,ee){return{$$typeof:g,type:O,compare:ee===void 0?null:ee}},Ie.startTransition=function(O){var ee=I.T,ue={};I.T=ue;try{var he=O(),Se=I.S;Se!==null&&Se(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ge,qe)}catch(De){qe(De)}finally{ee!==null&&ue.types!==null&&(ee.types=ue.types),I.T=ee}},Ie.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ie.use=function(O){return I.H.use(O)},Ie.useActionState=function(O,ee,ue){return I.H.useActionState(O,ee,ue)},Ie.useCallback=function(O,ee){return I.H.useCallback(O,ee)},Ie.useContext=function(O){return I.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,ee){return I.H.useDeferredValue(O,ee)},Ie.useEffect=function(O,ee){return I.H.useEffect(O,ee)},Ie.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Ie.useId=function(){return I.H.useId()},Ie.useImperativeHandle=function(O,ee,ue){return I.H.useImperativeHandle(O,ee,ue)},Ie.useInsertionEffect=function(O,ee){return I.H.useInsertionEffect(O,ee)},Ie.useLayoutEffect=function(O,ee){return I.H.useLayoutEffect(O,ee)},Ie.useMemo=function(O,ee){return I.H.useMemo(O,ee)},Ie.useOptimistic=function(O,ee){return I.H.useOptimistic(O,ee)},Ie.useReducer=function(O,ee,ue){return I.H.useReducer(O,ee,ue)},Ie.useRef=function(O){return I.H.useRef(O)},Ie.useState=function(O){return I.H.useState(O)},Ie.useSyncExternalStore=function(O,ee,ue){return I.H.useSyncExternalStore(O,ee,ue)},Ie.useTransition=function(){return I.H.useTransition()},Ie.version="19.2.1",Ie}var vT;function zg(){return vT||(vT=1,Np.exports=J1()),Np.exports}var K=zg();const W1=MA(K);var xp={exports:{}},Tu={},Vp={exports:{}},Op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function Z1(){return ET||(ET=1,(function(s){function e(J,le){var Ee=J.length;J.push(le);e:for(;0<Ee;){var qe=Ee-1>>>1,Qe=J[qe];if(0<a(Qe,le))J[qe]=le,J[Ee]=Qe,Ee=qe;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var le=J[0],Ee=J.pop();if(Ee!==le){J[0]=Ee;e:for(var qe=0,Qe=J.length,O=Qe>>>1;qe<O;){var ee=2*(qe+1)-1,ue=J[ee],he=ee+1,Se=J[he];if(0>a(ue,Ee))he<Qe&&0>a(Se,ue)?(J[qe]=Se,J[he]=Ee,qe=he):(J[qe]=ue,J[ee]=Ee,qe=ee);else if(he<Qe&&0>a(Se,Ee))J[qe]=Se,J[he]=Ee,qe=he;else break e}}return le}function a(J,le){var Ee=J.sortIndex-le.sortIndex;return Ee!==0?Ee:J.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();s.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,T=null,S=3,N=!1,j=!1,H=!1,P=!1,te=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ce(J){for(var le=t(g);le!==null;){if(le.callback===null)i(g);else if(le.startTime<=J)i(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function de(J){if(H=!1,ce(J),!j)if(t(p)!==null)j=!0,ge||(ge=!0,L());else{var le=t(g);le!==null&&Pt(de,le.startTime-J)}}var ge=!1,I=-1,w=5,R=-1;function M(){return P?!0:!(s.unstable_now()-R<w)}function x(){if(P=!1,ge){var J=s.unstable_now();R=J;var le=!0;try{e:{j=!1,H&&(H=!1,ie(I),I=-1),N=!0;var Ee=S;try{t:{for(ce(J),T=t(p);T!==null&&!(T.expirationTime>J&&M());){var qe=T.callback;if(typeof qe=="function"){T.callback=null,S=T.priorityLevel;var Qe=qe(T.expirationTime<=J);if(J=s.unstable_now(),typeof Qe=="function"){T.callback=Qe,ce(J),le=!0;break t}T===t(p)&&i(p),ce(J)}else i(p);T=t(p)}if(T!==null)le=!0;else{var O=t(g);O!==null&&Pt(de,O.startTime-J),le=!1}}break e}finally{T=null,S=Ee,N=!1}le=void 0}}finally{le?L():ge=!1}}}var L;if(typeof Y=="function")L=function(){Y(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ot=C.port2;C.port1.onmessage=x,L=function(){ot.postMessage(null)}}else L=function(){te(x,0)};function Pt(J,le){I=te(function(){J(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(J){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var Ee=S;S=le;try{return J()}finally{S=Ee}},s.unstable_requestPaint=function(){P=!0},s.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ee=S;S=J;try{return le()}finally{S=Ee}},s.unstable_scheduleCallback=function(J,le,Ee){var qe=s.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?qe+Ee:qe):Ee=qe,J){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=Ee+Qe,J={id:v++,callback:le,priorityLevel:J,startTime:Ee,expirationTime:Qe,sortIndex:-1},Ee>qe?(J.sortIndex=Ee,e(g,J),t(p)===null&&J===t(g)&&(H?(ie(I),I=-1):H=!0,Pt(de,Ee-qe))):(J.sortIndex=Qe,e(p,J),j||N||(j=!0,ge||(ge=!0,L()))),J},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(J){var le=S;return function(){var Ee=S;S=le;try{return J.apply(this,arguments)}finally{S=Ee}}}})(Op)),Op}var TT;function eR(){return TT||(TT=1,Vp.exports=Z1()),Vp.exports}var Mp={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function tR(){if(AT)return en;AT=1;var s=zg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},en.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:N}):v==="script"&&i.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},en.requestFormReset=function(p){i.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.1",en}var ST;function nR(){if(ST)return Mp.exports;ST=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mp.exports=tR(),Mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function iR(){if(bT)return Tu;bT=1;var s=eR(),e=zg(),t=nR();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(i(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(i(188));return r!==n?null:n}for(var o=n,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return p(f),n;if(m===u)return p(f),r;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var _=!1,A=f.child;A;){if(A===o){_=!0,o=f,u=m;break}if(A===u){_=!0,u=f,o=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===o){_=!0,o=m,u=f;break}if(A===u){_=!0,u=m,o=f;break}A=A.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case te:return"Profiler";case P:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case Y:return n.displayName||"Context";case ie:return(n._context.displayName||"Context")+".Consumer";case ce:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var Pt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},qe=[],Qe=-1;function O(n){return{current:n}}function ee(n){0>Qe||(n.current=qe[Qe],qe[Qe]=null,Qe--)}function ue(n,r){Qe++,qe[Qe]=n.current,n.current=r}var he=O(null),Se=O(null),De=O(null),ze=O(null);function kt(n,r){switch(ue(De,r),ue(Se,n),ue(he,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?zE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=zE(r),n=BE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(he),ue(he,n)}function lt(){ee(he),ee(Se),ee(De)}function Ns(n){n.memoizedState!==null&&ue(ze,n);var r=he.current,o=BE(r,n.type);r!==o&&(ue(Se,n),ue(he,o))}function La(n){Se.current===n&&(ee(he),ee(Se)),ze.current===n&&(ee(ze),gu._currentValue=Ee)}var Ua,za;function mi(n){if(Ua===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ua=r&&r[1]||"",za=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+n+za}var gl=!1;function xs(n,r){if(!n||gl)return"";gl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var F=Q}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(Q){F=Q}n.call(Z.prototype)}}else{try{throw Error()}catch(Q){F=Q}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var D=_.split(`
`),q=A.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===q.length)for(u=D.length-1,f=q.length-1;1<=u&&0<=f&&D[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==q[f]){var $=`
`+D[u].replace(" at new "," at ");return n.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",n.displayName)),$}while(1<=u&&0<=f);break}}}finally{gl=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?mi(o):""}function yl(n,r){switch(n.tag){case 26:case 27:case 5:return mi(n.type);case 16:return mi("Lazy");case 13:return n.child!==r&&r!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return xs(n.type,!1);case 11:return xs(n.type.render,!1);case 1:return xs(n.type,!0);case 31:return mi("Activity");default:return""}}function _l(n){try{var r="",o=null;do r+=yl(n,o),o=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var St=Object.prototype.hasOwnProperty,Lt=s.unstable_scheduleCallback,Cr=s.unstable_cancelCallback,xd=s.unstable_shouldYield,Rc=s.unstable_requestPaint,an=s.unstable_now,Vs=s.unstable_getCurrentPriorityLevel,vl=s.unstable_ImmediatePriority,El=s.unstable_UserBlockingPriority,Dr=s.unstable_NormalPriority,Vd=s.unstable_LowPriority,Cc=s.unstable_IdlePriority,Dc=s.log,Nc=s.unstable_setDisableYieldValue,Zn=null,Kt=null;function On(n){if(typeof Dc=="function"&&Nc(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Zn,n)}catch{}}var vt=Math.clz32?Math.clz32:Vc,xc=Math.log,Ba=Math.LN2;function Vc(n){return n>>>=0,n===0?32:31-(xc(n)/Ba|0)|0}var pi=256,Os=262144,bt=4194304;function gi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function yi(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=gi(u):(_&=A,_!==0?f=gi(_):o||(o=A&~n,o!==0&&(f=gi(o))))):(A=u&~m,A!==0?f=gi(A):_!==0?f=gi(_):o||(o=u&~n,o!==0&&(f=gi(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function ei(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Od(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oc(){var n=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),n}function _i(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Ms(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Md(n,r,o,u,f,m){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,D=n.expirationTimes,q=n.hiddenUpdates;for(o=_&~o;0<o;){var $=31-vt(o),Z=1<<$;A[$]=0,D[$]=-1;var F=q[$];if(F!==null)for(q[$]=null,$=0;$<F.length;$++){var Q=F[$];Q!==null&&(Q.lane&=-536870913)}o&=~Z}u!==0&&Ps(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~r))}function Ps(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-vt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Tl(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-vt(o),f=1<<u;f&r|n[u]&r&&(n[u]|=r),o&=~f}}function Al(n,r){var o=r&-r;return o=(o&42)!==0?1:ks(o),(o&(n.suspendedLanes|r))!==0?0:o}function ks(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Gi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Mc(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:uT(n.type))}function ti(n,r){var o=le.p;try{return le.p=n,r()}finally{le.p=o}}var ni=Math.random().toString(36).slice(2),wt="__reactFiber$"+ni,qt="__reactProps$"+ni,vi="__reactContainer$"+ni,qa="__reactEvents$"+ni,Pd="__reactListeners$"+ni,Pc="__reactHandles$"+ni,kc="__reactResources$"+ni,Ei="__reactMarker$"+ni;function ja(n){delete n[wt],delete n[qt],delete n[qa],delete n[Pd],delete n[Pc]}function Ti(n){var r=n[wt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[vi]||o[wt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=QE(n);n!==null;){if(o=n[wt])return o;n=QE(n)}return r}n=o,o=n.parentNode}return null}function Mn(n){if(n=n[wt]||n[vi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Tn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function Ai(n){var r=n[kc];return r||(r=n[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(n){n[Ei]=!0}var Sl=new Set,bl={};function Si(n,r){bi(n,r),bi(n+"Capture",r)}function bi(n,r){for(bl[n]=r,n=0;n<r.length;n++)Sl.add(r[n])}var wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Rl={};function Lc(n){return St.call(Rl,n)?!0:St.call(Il,n)?!1:wl.test(n)?Rl[n]=!0:(Il[n]=!0,!1)}function Fa(n,r,o){if(Lc(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function An(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Rt(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}function jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Nr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cl(n,r,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ye(n){if(!n._valueTracker){var r=Nr(n)?"checked":"value";n._valueTracker=Cl(n,r,""+n[r])}}function Ls(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Nr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Us=/[\n"\\]/g;function fn(n){return n.replace(Us,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ha(n,r,o,u,f,m,_,A){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+jt(r)):n.value!==""+jt(r)&&(n.value=""+jt(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Dl(n,_,jt(r)):o!=null?Dl(n,_,jt(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+jt(A):n.removeAttribute("name")}function Uc(n,r,o,u,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Ye(n);return}o=o!=null?""+jt(o):"",r=r!=null?""+jt(r):o,A||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Ye(n)}function Dl(n,r,o){r==="number"&&wi(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function xr(n,r,o,u){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+jt(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function zc(n,r,o){if(r!=null&&(r=""+jt(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+jt(o):""}function Vr(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(Pt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=jt(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ye(n)}function dn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Bc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nl(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||Bc.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function xl(n,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Nl(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&Nl(n,m,r[m])}function Ga(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(n){return Or.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ii(){}var Vl=null;function Pn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mr=null,Ii=null;function zs(n){var r=Mn(n);if(r&&(n=r.stateNode)){var o=n[qt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Ha(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var f=u[qt]||null;if(!f)throw Error(i(90));Ha(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&Ls(u)}break e;case"textarea":zc(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&xr(n,!!o.multiple,r,!1)}}}var Qa=!1;function Pr(n,r,o){if(Qa)return n(r,o);Qa=!0;try{var u=n(r);return u}finally{if(Qa=!1,(Mr!==null||Ii!==null)&&(Mh(),Mr&&(r=Mr,n=Ii,Ii=Mr=null,zs(r),n)))for(r=0;r<n.length;r++)zs(n[r])}}function ri(n,r){var o=n.stateNode;if(o===null)return null;var u=o[qt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(kn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Bs=!1}var Ri=null,Ol=null,qs=null;function Ml(){if(qs)return qs;var n,r=Ol,o=r.length,u,f="value"in Ri?Ri.value:Ri.textContent,m=f.length;for(n=0;n<o&&r[n]===f[n];n++);var _=o-n;for(u=1;u<=_&&r[o-u]===f[m-u];u++);return qs=f.slice(n,1<u?1-u:void 0)}function js(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ki(){return!0}function si(){return!1}function Qt(n){function r(o,u,f,m,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ki:si,this.isPropagationStopped=si,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),r}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Qt(Qi),kr=T({},Qi,{view:0,detail:0}),Pl=Qt(kr),Lr,Ya,Di,$a=T({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ur,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Di&&(Di&&n.type==="mousemove"?(Lr=n.screenX-Di.screenX,Ya=n.screenY-Di.screenY):Ya=Lr=0,Di=n),Lr)},movementY:function(n){return"movementY"in n?n.movementY:Ya}}),kl=Qt($a),Fs=T({},$a,{dataTransfer:0}),jc=Qt(Fs),Fc=T({},kr,{relatedTarget:0}),Hs=Qt(Fc),Ll=T({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Hc=Qt(Ll),Xa=T({},Qi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Gc=Qt(Xa),Kc=T({},Qi,{data:0}),Ni=Qt(Kc),Qc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=$c[n])?!!r[n]:!1}function Ur(){return Xc}var on=T({},kr,{key:function(n){if(n.key){var r=Qc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=js(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ur,charCode:function(n){return n.type==="keypress"?js(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?js(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Jc=Qt(on),Wc=T({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Qt(Wc),h=T({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ur}),y=Qt(h),E=T({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qt(E),z=T({},$a,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Qt(z),re=T({},Qi,{newState:0,oldState:0}),Re=Qt(re),Et=[9,13,27,32],He=kn&&"CompositionEvent"in window,ut=null;kn&&"documentMode"in document&&(ut=document.documentMode);var Ln=kn&&"TextEvent"in window&&!ut,xi=kn&&(!He||ut&&8<ut&&11>=ut),ai=" ",oi=!1;function Gs(n,r){switch(n){case"keyup":return Et.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ja(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wa=!1;function vI(n,r){switch(n){case"compositionend":return Ja(r);case"keypress":return r.which!==32?null:(oi=!0,ai);case"textInput":return n=r.data,n===ai&&oi?null:n;default:return null}}function EI(n,r){if(Wa)return n==="compositionend"||!He&&Gs(n,r)?(n=Ml(),qs=Ol=Ri=null,Wa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return xi&&r.locale!=="ko"?null:r.data;default:return null}}var TI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xy(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!TI[n.type]:r==="textarea"}function Jy(n,r,o,u){Mr?Ii?Ii.push(u):Ii=[u]:Mr=u,r=qh(r,"onChange"),0<r.length&&(o=new Ci("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Ul=null,zl=null;function AI(n){OE(n,0)}function Zc(n){var r=Tn(n);if(Ls(r))return n}function Wy(n,r){if(n==="change")return r}var Zy=!1;if(kn){var kd;if(kn){var Ld="oninput"in document;if(!Ld){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Ld=typeof e_.oninput=="function"}kd=Ld}else kd=!1;Zy=kd&&(!document.documentMode||9<document.documentMode)}function t_(){Ul&&(Ul.detachEvent("onpropertychange",n_),zl=Ul=null)}function n_(n){if(n.propertyName==="value"&&Zc(zl)){var r=[];Jy(r,zl,n,Pn(n)),Pr(AI,r)}}function SI(n,r,o){n==="focusin"?(t_(),Ul=r,zl=o,Ul.attachEvent("onpropertychange",n_)):n==="focusout"&&t_()}function bI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zc(zl)}function wI(n,r){if(n==="click")return Zc(r)}function II(n,r){if(n==="input"||n==="change")return Zc(r)}function RI(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Sn=typeof Object.is=="function"?Object.is:RI;function Bl(n,r){if(Sn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!St.call(r,f)||!Sn(n[f],r[f]))return!1}return!0}function i_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function r_(n,r){var o=i_(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=i_(o)}}function s_(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?s_(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function a_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=wi(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=wi(n.document)}return r}function Ud(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var CI=kn&&"documentMode"in document&&11>=document.documentMode,Za=null,zd=null,ql=null,Bd=!1;function o_(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bd||Za==null||Za!==wi(u)||(u=Za,"selectionStart"in u&&Ud(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&Bl(ql,u)||(ql=u,u=qh(zd,"onSelect"),0<u.length&&(r=new Ci("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Za)))}function Ks(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var eo={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},qd={},l_={};kn&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Qs(n){if(qd[n])return qd[n];if(!eo[n])return n;var r=eo[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in l_)return qd[n]=r[o];return n}var u_=Qs("animationend"),c_=Qs("animationiteration"),h_=Qs("animationstart"),DI=Qs("transitionrun"),NI=Qs("transitionstart"),xI=Qs("transitioncancel"),f_=Qs("transitionend"),d_=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function li(n,r){d_.set(n,r),Si(r,[n])}var eh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Un=[],to=0,Fd=0;function th(){for(var n=to,r=Fd=to=0;r<n;){var o=Un[r];Un[r++]=null;var u=Un[r];Un[r++]=null;var f=Un[r];Un[r++]=null;var m=Un[r];if(Un[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&m_(o,f,m)}}function nh(n,r,o,u){Un[to++]=n,Un[to++]=r,Un[to++]=o,Un[to++]=u,Fd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hd(n,r,o,u){return nh(n,r,o,u),ih(n)}function Ys(n,r){return nh(n,null,null,r),ih(n)}function m_(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-vt(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function ih(n){if(50<uu)throw uu=0,Zm=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var no={};function VI(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,r,o,u){return new VI(n,r,o,u)}function Gd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,r){var o=n.alternate;return o===null?(o=bn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function p_(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function rh(n,r,o,u,f,m){var _=0;if(u=n,typeof n=="function")Gd(n)&&(_=1);else if(typeof n=="string")_=L1(n,o,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=bn(31,o,r,f),n.elementType=R,n.lanes=m,n;case H:return $s(o.children,f,m,r);case P:_=8,f|=24;break;case te:return n=bn(12,o,r,f|2),n.elementType=te,n.lanes=m,n;case de:return n=bn(13,o,r,f),n.elementType=de,n.lanes=m,n;case ge:return n=bn(19,o,r,f),n.elementType=ge,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:_=10;break e;case ie:_=9;break e;case ce:_=11;break e;case I:_=14;break e;case w:_=16,u=null;break e}_=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return r=bn(_,o,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function $s(n,r,o,u){return n=bn(7,n,u,r),n.lanes=o,n}function Kd(n,r,o){return n=bn(6,n,null,r),n.lanes=o,n}function g_(n){var r=bn(18,null,null,0);return r.stateNode=n,r}function Qd(n,r,o){return r=bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var y_=new WeakMap;function zn(n,r){if(typeof n=="object"&&n!==null){var o=y_.get(n);return o!==void 0?o:(r={value:n,source:r,stack:_l(r)},y_.set(n,r),r)}return{value:n,source:r,stack:_l(r)}}var io=[],ro=0,sh=null,jl=0,Bn=[],qn=0,zr=null,Vi=1,Oi="";function Xi(n,r){io[ro++]=jl,io[ro++]=sh,sh=n,jl=r}function __(n,r,o){Bn[qn++]=Vi,Bn[qn++]=Oi,Bn[qn++]=zr,zr=n;var u=Vi;n=Oi;var f=32-vt(u)-1;u&=~(1<<f),o+=1;var m=32-vt(r)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Vi=1<<32-vt(r)+f|o<<f|u,Oi=m+n}else Vi=1<<m|o<<f|u,Oi=n}function Yd(n){n.return!==null&&(Xi(n,1),__(n,1,0))}function $d(n){for(;n===sh;)sh=io[--ro],io[ro]=null,jl=io[--ro],io[ro]=null;for(;n===zr;)zr=Bn[--qn],Bn[qn]=null,Oi=Bn[--qn],Bn[qn]=null,Vi=Bn[--qn],Bn[qn]=null}function v_(n,r){Bn[qn++]=Vi,Bn[qn++]=Oi,Bn[qn++]=zr,Vi=r.id,Oi=r.overflow,zr=n}var Yt=null,st=null,Ue=!1,Br=null,jn=!1,Xd=Error(i(519));function qr(n){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(zn(r,n)),Xd}function E_(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[wt]=n,r[qt]=u,o){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(o=0;o<hu.length;o++)Oe(hu[o],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Uc(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Vr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||LE(r.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=ii),r=!0):r=!1,r||qr(n,!0)}function T_(n){for(Yt=n.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Yt=Yt.return}}function so(n){if(n!==Yt)return!1;if(!Ue)return T_(n),Ue=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||mp(n.type,n.memoizedProps)),o=!o),o&&st&&qr(n),T_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));st=KE(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));st=KE(n)}else r===27?(r=st,ts(n.type)?(n=vp,vp=null,st=n):st=r):st=Yt?Hn(n.stateNode.nextSibling):null;return!0}function Xs(){st=Yt=null,Ue=!1}function Jd(){var n=Br;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Br=null),n}function Fl(n){Br===null?Br=[n]:Br.push(n)}var Wd=O(null),Js=null,Ji=null;function jr(n,r,o){ue(Wd,r._currentValue),r._currentValue=o}function Wi(n){n._currentValue=Wd.current,ee(Wd)}function Zd(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function em(n,r,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var D=0;D<r.length;D++)if(A.context===r[D]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Zd(m.return,o,n),u||(_=null);break e}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),Zd(_,o,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ao(n,r,o,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var A=f.type;Sn(f.pendingProps.value,_.value)||(n!==null?n.push(A):n=[A])}}else if(f===ze.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(gu):n=[gu])}f=f.return}n!==null&&em(r,n,o,u),r.flags|=262144}function ah(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ws(n){Js=n,Ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return A_(Js,n)}function oh(n,r){return Js===null&&Ws(n),A_(n,r)}function A_(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ji===null){if(n===null)throw Error(i(308));Ji=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ji=Ji.next=r;return o}var OI=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},MI=s.unstable_scheduleCallback,PI=s.unstable_NormalPriority,Ct={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new OI,data:new Map,refCount:0}}function Hl(n){n.refCount--,n.refCount===0&&MI(PI,function(){n.controller.abort()})}var Gl=null,nm=0,oo=0,lo=null;function kI(n,r){if(Gl===null){var o=Gl=[];nm=0,oo=sp(),lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return nm++,r.then(S_,S_),r}function S_(){if(--nm===0&&Gl!==null){lo!==null&&(lo.status="fulfilled");var n=Gl;Gl=null,oo=0,lo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function LI(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var b_=J.S;J.S=function(n,r){oE=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kI(n,r),b_!==null&&b_(n,r)};var Zs=O(null);function im(){var n=Zs.current;return n!==null?n:rt.pooledCache}function lh(n,r){r===null?ue(Zs,Zs.current):ue(Zs,r.pool)}function w_(){var n=im();return n===null?null:{parent:Ct._currentValue,pool:n}}var uo=Error(i(460)),rm=Error(i(474)),uh=Error(i(542)),ch={then:function(){}};function I_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function R_(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(ii,ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,D_(n),n;default:if(typeof r.status=="string")r.then(ii,ii);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,D_(n),n}throw ta=r,uo}}function ea(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ta=o,uo):o}}var ta=null;function C_(){if(ta===null)throw Error(i(459));var n=ta;return ta=null,n}function D_(n){if(n===uo||n===uh)throw Error(i(483))}var co=null,Kl=0;function hh(n){var r=Kl;return Kl+=1,co===null&&(co=[]),R_(co,n,r)}function Ql(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function fh(n,r){throw r.$$typeof===S?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function N_(n){function r(k,V){if(n){var B=k.deletions;B===null?(k.deletions=[V],k.flags|=16):B.push(V)}}function o(k,V){if(!n)return null;for(;V!==null;)r(k,V),V=V.sibling;return null}function u(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function f(k,V){return k=$i(k,V),k.index=0,k.sibling=null,k}function m(k,V,B){return k.index=B,n?(B=k.alternate,B!==null?(B=B.index,B<V?(k.flags|=67108866,V):B):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function _(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function A(k,V,B,W){return V===null||V.tag!==6?(V=Kd(B,k.mode,W),V.return=k,V):(V=f(V,B),V.return=k,V)}function D(k,V,B,W){var _e=B.type;return _e===H?$(k,V,B.props.children,W,B.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&ea(_e)===V.type)?(V=f(V,B.props),Ql(V,B),V.return=k,V):(V=rh(B.type,B.key,B.props,null,k.mode,W),Ql(V,B),V.return=k,V)}function q(k,V,B,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Qd(B,k.mode,W),V.return=k,V):(V=f(V,B.children||[]),V.return=k,V)}function $(k,V,B,W,_e){return V===null||V.tag!==7?(V=$s(B,k.mode,W,_e),V.return=k,V):(V=f(V,B),V.return=k,V)}function Z(k,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Kd(""+V,k.mode,B),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return B=rh(V.type,V.key,V.props,null,k.mode,B),Ql(B,V),B.return=k,B;case j:return V=Qd(V,k.mode,B),V.return=k,V;case w:return V=ea(V),Z(k,V,B)}if(Pt(V)||L(V))return V=$s(V,k.mode,B,null),V.return=k,V;if(typeof V.then=="function")return Z(k,hh(V),B);if(V.$$typeof===Y)return Z(k,oh(k,V),B);fh(k,V)}return null}function F(k,V,B,W){var _e=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return _e!==null?null:A(k,V,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return B.key===_e?D(k,V,B,W):null;case j:return B.key===_e?q(k,V,B,W):null;case w:return B=ea(B),F(k,V,B,W)}if(Pt(B)||L(B))return _e!==null?null:$(k,V,B,W,null);if(typeof B.then=="function")return F(k,V,hh(B),W);if(B.$$typeof===Y)return F(k,V,oh(k,B),W);fh(k,B)}return null}function Q(k,V,B,W,_e){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(B)||null,A(V,k,""+W,_e);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return k=k.get(W.key===null?B:W.key)||null,D(V,k,W,_e);case j:return k=k.get(W.key===null?B:W.key)||null,q(V,k,W,_e);case w:return W=ea(W),Q(k,V,B,W,_e)}if(Pt(W)||L(W))return k=k.get(B)||null,$(V,k,W,_e,null);if(typeof W.then=="function")return Q(k,V,B,hh(W),_e);if(W.$$typeof===Y)return Q(k,V,B,oh(V,W),_e);fh(V,W)}return null}function fe(k,V,B,W){for(var _e=null,je=null,pe=V,Ne=V=0,Pe=null;pe!==null&&Ne<B.length;Ne++){pe.index>Ne?(Pe=pe,pe=null):Pe=pe.sibling;var Fe=F(k,pe,B[Ne],W);if(Fe===null){pe===null&&(pe=Pe);break}n&&pe&&Fe.alternate===null&&r(k,pe),V=m(Fe,V,Ne),je===null?_e=Fe:je.sibling=Fe,je=Fe,pe=Pe}if(Ne===B.length)return o(k,pe),Ue&&Xi(k,Ne),_e;if(pe===null){for(;Ne<B.length;Ne++)pe=Z(k,B[Ne],W),pe!==null&&(V=m(pe,V,Ne),je===null?_e=pe:je.sibling=pe,je=pe);return Ue&&Xi(k,Ne),_e}for(pe=u(pe);Ne<B.length;Ne++)Pe=Q(pe,k,Ne,B[Ne],W),Pe!==null&&(n&&Pe.alternate!==null&&pe.delete(Pe.key===null?Ne:Pe.key),V=m(Pe,V,Ne),je===null?_e=Pe:je.sibling=Pe,je=Pe);return n&&pe.forEach(function(as){return r(k,as)}),Ue&&Xi(k,Ne),_e}function Te(k,V,B,W){if(B==null)throw Error(i(151));for(var _e=null,je=null,pe=V,Ne=V=0,Pe=null,Fe=B.next();pe!==null&&!Fe.done;Ne++,Fe=B.next()){pe.index>Ne?(Pe=pe,pe=null):Pe=pe.sibling;var as=F(k,pe,Fe.value,W);if(as===null){pe===null&&(pe=Pe);break}n&&pe&&as.alternate===null&&r(k,pe),V=m(as,V,Ne),je===null?_e=as:je.sibling=as,je=as,pe=Pe}if(Fe.done)return o(k,pe),Ue&&Xi(k,Ne),_e;if(pe===null){for(;!Fe.done;Ne++,Fe=B.next())Fe=Z(k,Fe.value,W),Fe!==null&&(V=m(Fe,V,Ne),je===null?_e=Fe:je.sibling=Fe,je=Fe);return Ue&&Xi(k,Ne),_e}for(pe=u(pe);!Fe.done;Ne++,Fe=B.next())Fe=Q(pe,k,Ne,Fe.value,W),Fe!==null&&(n&&Fe.alternate!==null&&pe.delete(Fe.key===null?Ne:Fe.key),V=m(Fe,V,Ne),je===null?_e=Fe:je.sibling=Fe,je=Fe);return n&&pe.forEach(function(Y1){return r(k,Y1)}),Ue&&Xi(k,Ne),_e}function it(k,V,B,W){if(typeof B=="object"&&B!==null&&B.type===H&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case N:e:{for(var _e=B.key;V!==null;){if(V.key===_e){if(_e=B.type,_e===H){if(V.tag===7){o(k,V.sibling),W=f(V,B.props.children),W.return=k,k=W;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&ea(_e)===V.type){o(k,V.sibling),W=f(V,B.props),Ql(W,B),W.return=k,k=W;break e}o(k,V);break}else r(k,V);V=V.sibling}B.type===H?(W=$s(B.props.children,k.mode,W,B.key),W.return=k,k=W):(W=rh(B.type,B.key,B.props,null,k.mode,W),Ql(W,B),W.return=k,k=W)}return _(k);case j:e:{for(_e=B.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){o(k,V.sibling),W=f(V,B.children||[]),W.return=k,k=W;break e}else{o(k,V);break}else r(k,V);V=V.sibling}W=Qd(B,k.mode,W),W.return=k,k=W}return _(k);case w:return B=ea(B),it(k,V,B,W)}if(Pt(B))return fe(k,V,B,W);if(L(B)){if(_e=L(B),typeof _e!="function")throw Error(i(150));return B=_e.call(B),Te(k,V,B,W)}if(typeof B.then=="function")return it(k,V,hh(B),W);if(B.$$typeof===Y)return it(k,V,oh(k,B),W);fh(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(o(k,V.sibling),W=f(V,B),W.return=k,k=W):(o(k,V),W=Kd(B,k.mode,W),W.return=k,k=W),_(k)):o(k,V)}return function(k,V,B,W){try{Kl=0;var _e=it(k,V,B,W);return co=null,_e}catch(pe){if(pe===uo||pe===uh)throw pe;var je=bn(29,pe,null,k.mode);return je.lanes=W,je.return=k,je}finally{}}}var na=N_(!0),x_=N_(!1),Fr=!1;function sm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function am(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gr(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ge&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=ih(n),m_(n,null,o),r}return nh(n,u,r,o),ih(n)}function Yl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Tl(n,o)}}function om(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var lm=!1;function $l(){if(lm){var n=lo;if(n!==null)throw n}}function Xl(n,r,o,u){lm=!1;var f=n.updateQueue;Fr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,q=D.next;D.next=null,_===null?m=q:_.next=q,_=D;var $=n.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==_&&(A===null?$.firstBaseUpdate=q:A.next=q,$.lastBaseUpdate=D))}if(m!==null){var Z=f.baseState;_=0,$=q=D=null,A=m;do{var F=A.lane&-536870913,Q=F!==A.lane;if(Q?(Me&F)===F:(u&F)===F){F!==0&&F===oo&&(lm=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=n,Te=A;F=r;var it=o;switch(Te.tag){case 1:if(fe=Te.payload,typeof fe=="function"){Z=fe.call(it,Z,F);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Te.payload,F=typeof fe=="function"?fe.call(it,Z,F):fe,F==null)break e;Z=T({},Z,F);break e;case 2:Fr=!0}}F=A.callback,F!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(q=$=Q,D=Z):$=$.next=Q,_|=F;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);$===null&&(D=Z),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=$,m===null&&(f.shared.lanes=0),Xr|=_,n.lanes=_,n.memoizedState=Z}}function V_(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function O_(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)V_(o[n],r)}var ho=O(null),dh=O(0);function M_(n,r){n=or,ue(dh,n),ue(ho,r),or=n|r.baseLanes}function um(){ue(dh,or),ue(ho,ho.current)}function cm(){or=dh.current,ee(ho),ee(dh)}var wn=O(null),Fn=null;function Kr(n){var r=n.alternate;ue(Tt,Tt.current&1),ue(wn,n),Fn===null&&(r===null||ho.current!==null||r.memoizedState!==null)&&(Fn=n)}function hm(n){ue(Tt,Tt.current),ue(wn,n),Fn===null&&(Fn=n)}function P_(n){n.tag===22?(ue(Tt,Tt.current),ue(wn,n),Fn===null&&(Fn=n)):Qr()}function Qr(){ue(Tt,Tt.current),ue(wn,wn.current)}function In(n){ee(wn),Fn===n&&(Fn=null),ee(Tt)}var Tt=O(0);function mh(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||yp(o)||_p(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zi=0,Ce=null,tt=null,Dt=null,ph=!1,fo=!1,ia=!1,gh=0,Jl=0,mo=null,UI=0;function pt(){throw Error(i(321))}function fm(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Sn(n[o],r[o]))return!1;return!0}function dm(n,r,o,u,f,m){return Zi=m,Ce=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=n===null||n.memoizedState===null?_v:Cm,ia=!1,m=o(u,f),ia=!1,fo&&(m=L_(r,o,u,f)),k_(n),m}function k_(n){J.H=eu;var r=tt!==null&&tt.next!==null;if(Zi=0,Dt=tt=Ce=null,ph=!1,Jl=0,mo=null,r)throw Error(i(300));n===null||Nt||(n=n.dependencies,n!==null&&ah(n)&&(Nt=!0))}function L_(n,r,o,u){Ce=n;var f=0;do{if(fo&&(mo=null),Jl=0,fo=!1,25<=f)throw Error(i(301));if(f+=1,Dt=tt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=vv,m=r(o,u)}while(fo);return m}function zI(){var n=J.H,r=n.useState()[0];return r=typeof r.then=="function"?Wl(r):r,n=n.useState()[0],(tt!==null?tt.memoizedState:null)!==n&&(Ce.flags|=1024),r}function mm(){var n=gh!==0;return gh=0,n}function pm(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function gm(n){if(ph){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}ph=!1}Zi=0,Dt=tt=Ce=null,fo=!1,Jl=gh=0,mo=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ce.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function At(){if(tt===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=tt.next;var r=Dt===null?Ce.memoizedState:Dt.next;if(r!==null)Dt=r,tt=n;else{if(n===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));tt=n,n={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Dt===null?Ce.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(n){var r=Jl;return Jl+=1,mo===null&&(mo=[]),n=R_(mo,n,r),r=Ce,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?_v:Cm),n}function _h(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Wl(n);if(n.$$typeof===Y)return $t(n)}throw Error(i(438,String(n)))}function ym(n){var r=null,o=Ce.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=yh(),Ce.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=M;return r.index++,o}function er(n,r){return typeof r=="function"?r(n):r}function vh(n){var r=At();return _m(r,tt,n)}function _m(n,r,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var A=_=null,D=null,q=r,$=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Me&Z)===Z:(Zi&Z)===Z){var F=q.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===oo&&($=!0);else if((Zi&F)===F){q=q.next,F===oo&&($=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(A=D=Z,_=m):D=D.next=Z,Ce.lanes|=F,Xr|=F;Z=q.action,ia&&o(m,Z),m=q.hasEagerState?q.eagerState:o(m,Z)}else F={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(A=D=F,_=m):D=D.next=F,Ce.lanes|=Z,Xr|=Z;q=q.next}while(q!==null&&q!==r);if(D===null?_=m:D.next=A,!Sn(m,n.memoizedState)&&(Nt=!0,$&&(o=lo,o!==null)))throw o;n.memoizedState=m,n.baseState=_,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function vm(n){var r=At(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);Sn(m,r.memoizedState)||(Nt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function U_(n,r,o){var u=Ce,f=At(),m=Ue;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!Sn((tt||f).memoizedState,o);if(_&&(f.memoizedState=o,Nt=!0),f=f.queue,Am(q_.bind(null,u,f,n),[n]),f.getSnapshot!==r||_||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,po(9,{destroy:void 0},B_.bind(null,u,f,o,r),null),rt===null)throw Error(i(349));m||(Zi&127)!==0||z_(u,r,o)}return o}function z_(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Ce.updateQueue,r===null?(r=yh(),Ce.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function B_(n,r,o,u){r.value=o,r.getSnapshot=u,j_(r)&&F_(n)}function q_(n,r,o){return o(function(){j_(r)&&F_(n)})}function j_(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Sn(n,o)}catch{return!0}}function F_(n){var r=Ys(n,2);r!==null&&_n(r,n,2)}function Em(n){var r=ln();if(typeof n=="function"){var o=n;if(n=o(),ia){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:n},r}function H_(n,r,o,u){return n.baseState=o,_m(n,tt,typeof u=="function"?u:er)}function BI(n,r,o,u,f){if(Ah(n))throw Error(i(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};J.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,G_(r,m)):(m.next=o.next,r.pending=o.next=m)}}function G_(n,r){var o=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=J.T,_={};J.T=_;try{var A=o(f,u),D=J.S;D!==null&&D(_,A),K_(n,r,A)}catch(q){Tm(n,r,q)}finally{m!==null&&_.types!==null&&(m.types=_.types),J.T=m}}else try{m=o(f,u),K_(n,r,m)}catch(q){Tm(n,r,q)}}function K_(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Q_(n,r,u)},function(u){return Tm(n,r,u)}):Q_(n,r,o)}function Q_(n,r,o){r.status="fulfilled",r.value=o,Y_(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,G_(n,o)))}function Tm(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Y_(r),r=r.next;while(r!==u)}n.action=null}function Y_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function $_(n,r){return r}function X_(n,r){if(Ue){var o=rt.formState;if(o!==null){e:{var u=Ce;if(Ue){if(st){t:{for(var f=st,m=jn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){st=Hn(f.nextSibling),u=f.data==="F!";break e}}qr(u)}u=!1}u&&(r=o[0])}}return o=ln(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:r},o.queue=u,o=pv.bind(null,Ce,u),u.dispatch=o,u=Em(!1),m=Rm.bind(null,Ce,!1,u.queue),u=ln(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,o=BI.bind(null,Ce,f,m,o),f.dispatch=o,u.memoizedState=n,[r,o,!1]}function J_(n){var r=At();return W_(r,tt,n)}function W_(n,r,o){if(r=_m(n,r,$_)[0],n=vh(er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Wl(r)}catch(_){throw _===uo?uh:_}else u=r;r=At();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Ce.flags|=2048,po(9,{destroy:void 0},qI.bind(null,f,o),null)),[u,m,n]}function qI(n,r){n.action=r}function Z_(n){var r=At(),o=tt;if(o!==null)return W_(r,o,n);At(),r=r.memoizedState,o=At();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function po(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Ce.updateQueue,r===null&&(r=yh(),Ce.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function ev(){return At().memoizedState}function Eh(n,r,o,u){var f=ln();Ce.flags|=n,f.memoizedState=po(1|r,{destroy:void 0},o,u===void 0?null:u)}function Th(n,r,o,u){var f=At();u=u===void 0?null:u;var m=f.memoizedState.inst;tt!==null&&u!==null&&fm(u,tt.memoizedState.deps)?f.memoizedState=po(r,m,o,u):(Ce.flags|=n,f.memoizedState=po(1|r,m,o,u))}function tv(n,r){Eh(8390656,8,n,r)}function Am(n,r){Th(2048,8,n,r)}function jI(n){Ce.flags|=4;var r=Ce.updateQueue;if(r===null)r=yh(),Ce.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function nv(n){var r=At().memoizedState;return jI({ref:r,nextImpl:n}),function(){if((Ge&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function iv(n,r){return Th(4,2,n,r)}function rv(n,r){return Th(4,4,n,r)}function sv(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function av(n,r,o){o=o!=null?o.concat([n]):null,Th(4,4,sv.bind(null,r,n),o)}function Sm(){}function ov(n,r){var o=At();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&fm(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function lv(n,r){var o=At();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&fm(r,u[1]))return u[0];if(u=n(),ia){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[u,r],u}function bm(n,r,o){return o===void 0||(Zi&1073741824)!==0&&(Me&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=uE(),Ce.lanes|=n,Xr|=n,o)}function uv(n,r,o,u){return Sn(o,r)?o:ho.current!==null?(n=bm(n,o,u),Sn(n,r)||(Nt=!0),n):(Zi&42)===0||(Zi&1073741824)!==0&&(Me&261930)===0?(Nt=!0,n.memoizedState=o):(n=uE(),Ce.lanes|=n,Xr|=n,r)}function cv(n,r,o,u,f){var m=le.p;le.p=m!==0&&8>m?m:8;var _=J.T,A={};J.T=A,Rm(n,!1,r,o);try{var D=f(),q=J.S;if(q!==null&&q(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=LI(D,u);Zl(n,r,$,Dn(n))}else Zl(n,r,u,Dn(n))}catch(Z){Zl(n,r,{then:function(){},status:"rejected",reason:Z},Dn())}finally{le.p=m,_!==null&&A.types!==null&&(_.types=A.types),J.T=_}}function FI(){}function wm(n,r,o,u){if(n.tag!==5)throw Error(i(476));var f=hv(n).queue;cv(n,f,r,Ee,o===null?FI:function(){return fv(n),o(u)})}function hv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:Ee},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function fv(n){var r=hv(n);r.next===null&&(r=n.alternate.memoizedState),Zl(n,r.next.queue,{},Dn())}function Im(){return $t(gu)}function dv(){return At().memoizedState}function mv(){return At().memoizedState}function HI(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Dn();n=Hr(o);var u=Gr(r,n,o);u!==null&&(_n(u,r,o),Yl(u,r,o)),r={cache:tm()},n.payload=r;return}r=r.return}}function GI(n,r,o){var u=Dn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ah(n)?gv(r,o):(o=Hd(n,r,o,u),o!==null&&(_n(o,n,u),yv(o,r,u)))}function pv(n,r,o){var u=Dn();Zl(n,r,o,u)}function Zl(n,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ah(n))gv(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,A=m(_,o);if(f.hasEagerState=!0,f.eagerState=A,Sn(A,_))return nh(n,r,f,0),rt===null&&th(),!1}catch{}finally{}if(o=Hd(n,r,f,u),o!==null)return _n(o,n,u),yv(o,r,u),!0}return!1}function Rm(n,r,o,u){if(u={lane:2,revertLane:sp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ah(n)){if(r)throw Error(i(479))}else r=Hd(n,o,u,2),r!==null&&_n(r,n,2)}function Ah(n){var r=n.alternate;return n===Ce||r!==null&&r===Ce}function gv(n,r){fo=ph=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function yv(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Tl(n,o)}}var eu={readContext:$t,use:_h,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};eu.useEffectEvent=pt;var _v={readContext:$t,use:_h,useCallback:function(n,r){return ln().memoizedState=[n,r===void 0?null:r],n},useContext:$t,useEffect:tv,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Eh(4194308,4,sv.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Eh(4194308,4,n,r)},useInsertionEffect:function(n,r){Eh(4,2,n,r)},useMemo:function(n,r){var o=ln();r=r===void 0?null:r;var u=n();if(ia){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=ln();if(o!==void 0){var f=o(r);if(ia){On(!0);try{o(r)}finally{On(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=GI.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var r=ln();return n={current:n},r.memoizedState=n},useState:function(n){n=Em(n);var r=n.queue,o=pv.bind(null,Ce,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Sm,useDeferredValue:function(n,r){var o=ln();return bm(o,n,r)},useTransition:function(){var n=Em(!1);return n=cv.bind(null,Ce,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Ce,f=ln();if(Ue){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),rt===null)throw Error(i(349));(Me&127)!==0||z_(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,tv(q_.bind(null,u,m,n),[n]),u.flags|=2048,po(9,{destroy:void 0},B_.bind(null,u,m,o,r),null),o},useId:function(){var n=ln(),r=rt.identifierPrefix;if(Ue){var o=Oi,u=Vi;o=(u&~(1<<32-vt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=gh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=UI++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Im,useFormState:X_,useActionState:X_,useOptimistic:function(n){var r=ln();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Rm.bind(null,Ce,!0,o),o.dispatch=r,[n,r]},useMemoCache:ym,useCacheRefresh:function(){return ln().memoizedState=HI.bind(null,Ce)},useEffectEvent:function(n){var r=ln(),o={impl:n};return r.memoizedState=o,function(){if((Ge&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Cm={readContext:$t,use:_h,useCallback:ov,useContext:$t,useEffect:Am,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:vh,useRef:ev,useState:function(){return vh(er)},useDebugValue:Sm,useDeferredValue:function(n,r){var o=At();return uv(o,tt.memoizedState,n,r)},useTransition:function(){var n=vh(er)[0],r=At().memoizedState;return[typeof n=="boolean"?n:Wl(n),r]},useSyncExternalStore:U_,useId:dv,useHostTransitionStatus:Im,useFormState:J_,useActionState:J_,useOptimistic:function(n,r){var o=At();return H_(o,tt,n,r)},useMemoCache:ym,useCacheRefresh:mv};Cm.useEffectEvent=nv;var vv={readContext:$t,use:_h,useCallback:ov,useContext:$t,useEffect:Am,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:vm,useRef:ev,useState:function(){return vm(er)},useDebugValue:Sm,useDeferredValue:function(n,r){var o=At();return tt===null?bm(o,n,r):uv(o,tt.memoizedState,n,r)},useTransition:function(){var n=vm(er)[0],r=At().memoizedState;return[typeof n=="boolean"?n:Wl(n),r]},useSyncExternalStore:U_,useId:dv,useHostTransitionStatus:Im,useFormState:Z_,useActionState:Z_,useOptimistic:function(n,r){var o=At();return tt!==null?H_(o,tt,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:ym,useCacheRefresh:mv};vv.useEffectEvent=nv;function Dm(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:T({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Nm={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Dn(),f=Hr(u);f.payload=r,o!=null&&(f.callback=o),r=Gr(n,f,u),r!==null&&(_n(r,n,u),Yl(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Dn(),f=Hr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Gr(n,f,u),r!==null&&(_n(r,n,u),Yl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Dn(),u=Hr(o);u.tag=2,r!=null&&(u.callback=r),r=Gr(n,u,o),r!==null&&(_n(r,n,o),Yl(r,n,o))}};function Ev(n,r,o,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):r.prototype&&r.prototype.isPureReactComponent?!Bl(o,u)||!Bl(f,m):!0}function Tv(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&Nm.enqueueReplaceState(r,r.state,null)}function ra(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=T({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function Av(n){eh(n)}function Sv(n){console.error(n)}function bv(n){eh(n)}function Sh(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function wv(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xm(n,r,o){return o=Hr(o),o.tag=3,o.payload={element:null},o.callback=function(){Sh(n,r)},o}function Iv(n){return n=Hr(n),n.tag=3,n}function Rv(n,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){wv(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){wv(r,o,u),typeof f!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function KI(n,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ao(r,o,f,!0),o=wn.current,o!==null){switch(o.tag){case 31:case 13:return Fn===null?Ph():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ch?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),np(n,u,f)),!1;case 22:return o.flags|=65536,u===ch?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),np(n,u,f)),!1}throw Error(i(435,o.tag))}return np(n,u,f),Ph(),!1}if(Ue)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Xd&&(n=Error(i(422),{cause:u}),Fl(zn(n,o)))):(u!==Xd&&(r=Error(i(423),{cause:u}),Fl(zn(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=zn(u,o),f=xm(n.stateNode,u,f),om(n,f),gt!==4&&(gt=2)),!1;var m=Error(i(520),{cause:u});if(m=zn(m,o),lu===null?lu=[m]:lu.push(m),gt!==4&&(gt=2),r===null)return!0;u=zn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=xm(o.stateNode,u,n),om(o,n),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Jr===null||!Jr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Iv(f),Rv(f,n,o,u),om(o,f),!1}o=o.return}while(o!==null);return!1}var Vm=Error(i(461)),Nt=!1;function Xt(n,r,o,u){r.child=n===null?x_(r,null,o,u):na(r,n.child,o,u)}function Cv(n,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return Ws(r),u=dm(n,r,o,_,m,f),A=mm(),n!==null&&!Nt?(pm(n,r,f),tr(n,r,f)):(Ue&&A&&Yd(r),r.flags|=1,Xt(n,r,u,f),r.child)}function Dv(n,r,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!Gd(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,Nv(n,r,m,u,f)):(n=rh(o.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Bm(n,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(_,u)&&n.ref===r.ref)return tr(n,r,f)}return r.flags|=1,n=$i(m,u),n.ref=r.ref,n.return=r,r.child=n}function Nv(n,r,o,u,f){if(n!==null){var m=n.memoizedProps;if(Bl(m,u)&&n.ref===r.ref)if(Nt=!1,r.pendingProps=u=m,Bm(n,f))(n.flags&131072)!==0&&(Nt=!0);else return r.lanes=n.lanes,tr(n,r,f)}return Om(n,r,o,u,f)}function xv(n,r,o,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=r.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,r.child=null;return Vv(n,r,m,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&lh(r,m!==null?m.cachePool:null),m!==null?M_(r,m):um(),P_(r);else return u=r.lanes=536870912,Vv(n,r,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(lh(r,m.cachePool),M_(r,m),Qr(),r.memoizedState=null):(n!==null&&lh(r,null),um(),Qr());return Xt(n,r,f,o),r.child}function tu(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Vv(n,r,o,u,f){var m=im();return m=m===null?null:{parent:Ct._currentValue,pool:m},r.memoizedState={baseLanes:o,cachePool:m},n!==null&&lh(r,null),um(),P_(r),n!==null&&ao(n,r,u,!0),r.childLanes=f,null}function bh(n,r){return r=Ih({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Ov(n,r,o){return na(r,n.child,null,o),n=bh(r,r.pendingProps),n.flags|=2,In(r),r.memoizedState=null,n}function QI(n,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Ue){if(u.mode==="hidden")return n=bh(r,u),r.lanes=536870912,tu(null,n);if(hm(r),(n=st)?(n=GE(n,jn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:zr!==null?{id:Vi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},o=g_(n),o.return=r,r.child=o,Yt=r,st=null)):n=null,n===null)throw qr(r);return r.lanes=536870912,null}return bh(r,u)}var m=n.memoizedState;if(m!==null){var _=m.dehydrated;if(hm(r),f)if(r.flags&256)r.flags&=-257,r=Ov(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(i(558));else if(Nt||ao(n,r,o,!1),f=(o&n.childLanes)!==0,Nt||f){if(u=rt,u!==null&&(_=Al(u,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,Ys(n,_),_n(u,n,_),Vm;Ph(),r=Ov(n,r,o)}else n=m.treeContext,st=Hn(_.nextSibling),Yt=r,Ue=!0,Br=null,jn=!1,n!==null&&v_(r,n),r=bh(r,u),r.flags|=4096;return r}return n=$i(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function wh(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Om(n,r,o,u,f){return Ws(r),o=dm(n,r,o,u,void 0,f),u=mm(),n!==null&&!Nt?(pm(n,r,f),tr(n,r,f)):(Ue&&u&&Yd(r),r.flags|=1,Xt(n,r,o,f),r.child)}function Mv(n,r,o,u,f,m){return Ws(r),r.updateQueue=null,o=L_(r,u,o,f),k_(n),u=mm(),n!==null&&!Nt?(pm(n,r,m),tr(n,r,m)):(Ue&&u&&Yd(r),r.flags|=1,Xt(n,r,o,m),r.child)}function Pv(n,r,o,u,f){if(Ws(r),r.stateNode===null){var m=no,_=o.contextType;typeof _=="object"&&_!==null&&(m=$t(_)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Nm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},sm(r),_=o.contextType,m.context=typeof _=="object"&&_!==null?$t(_):no,m.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Dm(r,o,_,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Nm.enqueueReplaceState(m,m.state,null),Xl(r,u,m,f),$l(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var A=r.memoizedProps,D=ra(o,A);m.props=D;var q=m.context,$=o.contextType;_=no,typeof $=="object"&&$!==null&&(_=$t($));var Z=o.getDerivedStateFromProps;$=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||q!==_)&&Tv(r,m,u,_),Fr=!1;var F=r.memoizedState;m.state=F,Xl(r,u,m,f),$l(),q=r.memoizedState,A||F!==q||Fr?(typeof Z=="function"&&(Dm(r,o,Z,u),q=r.memoizedState),(D=Fr||Ev(r,o,D,u,F,q,_))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=q),m.props=u,m.state=q,m.context=_,u=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,am(n,r),_=r.memoizedProps,$=ra(o,_),m.props=$,Z=r.pendingProps,F=m.context,q=o.contextType,D=no,typeof q=="object"&&q!==null&&(D=$t(q)),A=o.getDerivedStateFromProps,(q=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==Z||F!==D)&&Tv(r,m,u,D),Fr=!1,F=r.memoizedState,m.state=F,Xl(r,u,m,f),$l();var Q=r.memoizedState;_!==Z||F!==Q||Fr||n!==null&&n.dependencies!==null&&ah(n.dependencies)?(typeof A=="function"&&(Dm(r,o,A,u),Q=r.memoizedState),($=Fr||Ev(r,o,$,u,F,Q,D)||n!==null&&n.dependencies!==null&&ah(n.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),m.props=u,m.state=Q,m.context=D,u=$):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,wh(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=na(r,n.child,null,f),r.child=na(r,null,o,f)):Xt(n,r,o,f),r.memoizedState=m.state,n=r.child):n=tr(n,r,f),n}function kv(n,r,o,u){return Xs(),r.flags|=256,Xt(n,r,o,u),r.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(n){return{baseLanes:n,cachePool:w_()}}function km(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Cn),n}function Lv(n,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Tt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ue){if(f?Kr(r):Qr(),(n=st)?(n=GE(n,jn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:zr!==null?{id:Vi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},o=g_(n),o.return=r,r.child=o,Yt=r,st=null)):n=null,n===null)throw qr(r);return _p(n)?r.lanes=32:r.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(Qr(),f=r.mode,A=Ih({mode:"hidden",children:A},f),u=$s(u,f,o,null),A.return=r,u.return=r,A.sibling=u,r.child=A,u=r.child,u.memoizedState=Pm(o),u.childLanes=km(n,_,o),r.memoizedState=Mm,tu(null,u)):(Kr(r),Lm(r,A))}var D=n.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)r.flags&256?(Kr(r),r.flags&=-257,r=Um(n,r,o)):r.memoizedState!==null?(Qr(),r.child=n.child,r.flags|=128,r=null):(Qr(),A=u.fallback,f=r.mode,u=Ih({mode:"visible",children:u.children},f),A=$s(A,f,o,null),A.flags|=2,u.return=r,A.return=r,u.sibling=A,r.child=u,na(r,n.child,null,o),u=r.child,u.memoizedState=Pm(o),u.childLanes=km(n,_,o),r.memoizedState=Mm,r=tu(null,u));else if(Kr(r),_p(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var q=_.dgst;_=q,u=Error(i(419)),u.stack="",u.digest=_,Fl({value:u,source:null,stack:null}),r=Um(n,r,o)}else if(Nt||ao(n,r,o,!1),_=(o&n.childLanes)!==0,Nt||_){if(_=rt,_!==null&&(u=Al(_,o),u!==0&&u!==D.retryLane))throw D.retryLane=u,Ys(n,u),_n(_,n,u),Vm;yp(A)||Ph(),r=Um(n,r,o)}else yp(A)?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,st=Hn(A.nextSibling),Yt=r,Ue=!0,Br=null,jn=!1,n!==null&&v_(r,n),r=Lm(r,u.children),r.flags|=4096);return r}return f?(Qr(),A=u.fallback,f=r.mode,D=n.child,q=D.sibling,u=$i(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,q!==null?A=$i(q,A):(A=$s(A,f,o,null),A.flags|=2),A.return=r,u.return=r,u.sibling=A,r.child=u,tu(null,u),u=r.child,A=n.child.memoizedState,A===null?A=Pm(o):(f=A.cachePool,f!==null?(D=Ct._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=w_(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=km(n,_,o),r.memoizedState=Mm,tu(n.child,u)):(Kr(r),o=n.child,n=o.sibling,o=$i(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=o,r.memoizedState=null,o)}function Lm(n,r){return r=Ih({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ih(n,r){return n=bn(22,n,null,r),n.lanes=0,n}function Um(n,r,o){return na(r,n.child,null,o),n=Lm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Uv(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Zd(n.return,r,o)}function zm(n,r,o,u,f,m){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=m)}function zv(n,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var _=Tt.current,A=(_&2)!==0;if(A?(_=_&1|2,r.flags|=128):_&=1,ue(Tt,_),Xt(n,r,u,o),u=Ue?jl:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Uv(n,o,r);else if(n.tag===19)Uv(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&mh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),zm(r,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&mh(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}zm(r,!0,o,null,m,u);break;case"together":zm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function tr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Xr|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(ao(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,o=$i(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=$i(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Bm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&ah(n)))}function YI(n,r,o){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),jr(r,Ct,n.memoizedState.cache),Xs();break;case 27:case 5:Ns(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Kr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Lv(n,r,o):(Kr(r),n=tr(n,r,o),n!==null?n.sibling:null);Kr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ao(n,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return zv(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Tt,Tt.current),u)break;return null;case 22:return r.lanes=0,xv(n,r,o,r.pendingProps);case 24:jr(r,Ct,n.memoizedState.cache)}return tr(n,r,o)}function Bv(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Bm(n,o)&&(r.flags&128)===0)return Nt=!1,YI(n,r,o);Nt=(n.flags&131072)!==0}else Nt=!1,Ue&&(r.flags&1048576)!==0&&__(r,jl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=ea(r.elementType),r.type=n,typeof n=="function")Gd(n)?(u=ra(n,u),r.tag=1,r=Pv(null,r,n,u,o)):(r.tag=0,r=Om(null,r,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===ce){r.tag=11,r=Cv(null,r,n,u,o);break e}else if(f===I){r.tag=14,r=Dv(null,r,n,u,o);break e}}throw r=ot(n)||n,Error(i(306,r,""))}}return r;case 0:return Om(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=ra(u,r.pendingProps),Pv(n,r,u,f,o);case 3:e:{if(kt(r,r.stateNode.containerInfo),n===null)throw Error(i(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,am(n,r),Xl(r,u,null,o);var _=r.memoizedState;if(u=_.cache,jr(r,Ct,u),u!==m.cache&&em(r,[Ct],o,!0),$l(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=kv(n,r,u,o);break e}else if(u!==f){f=zn(Error(i(424)),r),Fl(f),r=kv(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(st=Hn(n.firstChild),Yt=r,Ue=!0,Br=null,jn=!0,o=x_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Xs(),u===f){r=tr(n,r,o);break e}Xt(n,r,u,o)}r=r.child}return r;case 26:return wh(n,r),n===null?(o=JE(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ue||(o=r.type,n=r.pendingProps,u=jh(De.current).createElement(o),u[wt]=r,u[qt]=n,Jt(u,o,n),It(u),r.stateNode=u):r.memoizedState=JE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ns(r),n===null&&Ue&&(u=r.stateNode=YE(r.type,r.pendingProps,De.current),Yt=r,jn=!0,f=st,ts(r.type)?(vp=f,st=Hn(u.firstChild)):st=f),Xt(n,r,r.pendingProps.children,o),wh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ue&&((f=u=st)&&(u=b1(u,r.type,r.pendingProps,jn),u!==null?(r.stateNode=u,Yt=r,st=Hn(u.firstChild),jn=!1,f=!0):f=!1),f||qr(r)),Ns(r),f=r.type,m=r.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,mp(f,m)?u=null:_!==null&&mp(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=dm(n,r,zI,null,null,o),gu._currentValue=f),wh(n,r),Xt(n,r,u,o),r.child;case 6:return n===null&&Ue&&((n=o=st)&&(o=w1(o,r.pendingProps,jn),o!==null?(r.stateNode=o,Yt=r,st=null,n=!0):n=!1),n||qr(r)),null;case 13:return Lv(n,r,o);case 4:return kt(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=na(r,null,u,o):Xt(n,r,u,o),r.child;case 11:return Cv(n,r,r.type,r.pendingProps,o);case 7:return Xt(n,r,r.pendingProps,o),r.child;case 8:return Xt(n,r,r.pendingProps.children,o),r.child;case 12:return Xt(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,jr(r,r.type,u.value),Xt(n,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Ws(r),f=$t(f),u=u(f),r.flags|=1,Xt(n,r,u,o),r.child;case 14:return Dv(n,r,r.type,r.pendingProps,o);case 15:return Nv(n,r,r.type,r.pendingProps,o);case 19:return zv(n,r,o);case 31:return QI(n,r,o);case 22:return xv(n,r,o,r.pendingProps);case 24:return Ws(r),u=$t(Ct),n===null?(f=im(),f===null&&(f=rt,m=tm(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},sm(r),jr(r,Ct,f)):((n.lanes&o)!==0&&(am(n,r),Xl(r,null,null,o),$l()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),jr(r,Ct,u)):(u=m.cache,jr(r,Ct,u),u!==f.cache&&em(r,[Ct],o,!0))),Xt(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function nr(n){n.flags|=4}function qm(n,r,o,u,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(dE())n.flags|=8192;else throw ta=ch,rm}else n.flags&=-16777217}function qv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!nT(r))if(dE())n.flags|=8192;else throw ta=ch,rm}function Rh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Oc():536870912,n.lanes|=r,vo|=r)}function nu(n,r){if(!Ue)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function at(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function $I(n,r,o){var u=r.pendingProps;switch($d(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Wi(Ct),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(so(r)?nr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jd())),at(r),null;case 26:var f=r.type,m=r.memoizedState;return n===null?(nr(r),m!==null?(at(r),qv(r,m)):(at(r),qm(r,f,null,u,o))):m?m!==n.memoizedState?(nr(r),at(r),qv(r,m)):(at(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&nr(r),at(r),qm(r,f,n,u,o)),null;case 27:if(La(r),o=De.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&nr(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return at(r),null}n=he.current,so(r)?E_(r):(n=YE(f,u,o),r.stateNode=n,nr(r))}return at(r),null;case 5:if(La(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&nr(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return at(r),null}if(m=he.current,so(r))E_(r);else{var _=jh(De.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}m[wt]=r,m[qt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=m;e:switch(Jt(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&nr(r)}}return at(r),qm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&nr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(n=De.current,so(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[wt]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||LE(n.nodeValue,o)),n||qr(r,!0)}else n=jh(n).createTextNode(u),n[wt]=r,r.stateNode=n}return at(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(u=so(r),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[wt]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),n=!1}else o=Jd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(In(r),r):(In(r),null);if((r.flags&128)!==0)throw Error(i(558))}return at(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=so(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[wt]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=Jd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(In(r),r):(In(r),null)}return In(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),Rh(r,r.updateQueue),at(r),null);case 4:return lt(),n===null&&up(r.stateNode.containerInfo),at(r),null;case 10:return Wi(r.type),at(r),null;case 19:if(ee(Tt),u=r.memoizedState,u===null)return at(r),null;if(f=(r.flags&128)!==0,m=u.rendering,m===null)if(f)nu(u,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=mh(n),m!==null){for(r.flags|=128,nu(u,!1),n=m.updateQueue,r.updateQueue=n,Rh(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)p_(o,n),o=o.sibling;return ue(Tt,Tt.current&1|2),Ue&&Xi(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&an()>Vh&&(r.flags|=128,f=!0,nu(u,!1),r.lanes=4194304)}else{if(!f)if(n=mh(m),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Rh(r,n),nu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Ue)return at(r),null}else 2*an()-u.renderingStartTime>Vh&&o!==536870912&&(r.flags|=128,f=!0,nu(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(n=u.last,n!==null?n.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=an(),n.sibling=null,o=Tt.current,ue(Tt,f?o&1|2:o&1),Ue&&Xi(r,u.treeForkCount),n):(at(r),null);case 22:case 23:return In(r),cm(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),o=r.updateQueue,o!==null&&Rh(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&ee(Zs),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Wi(Ct),at(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function XI(n,r){switch($d(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Wi(Ct),lt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return La(r),null;case 31:if(r.memoizedState!==null){if(In(r),r.alternate===null)throw Error(i(340));Xs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(In(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Xs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ee(Tt),null;case 4:return lt(),null;case 10:return Wi(r.type),null;case 22:case 23:return In(r),cm(),n!==null&&ee(Zs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Wi(Ct),null;case 25:return null;default:return null}}function jv(n,r){switch($d(r),r.tag){case 3:Wi(Ct),lt();break;case 26:case 27:case 5:La(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&In(r);break;case 13:In(r);break;case 19:ee(Tt);break;case 10:Wi(r.type);break;case 22:case 23:In(r),cm(),n!==null&&ee(Zs);break;case 24:Wi(Ct)}}function iu(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==f)}}catch(A){Xe(r,r.return,A)}}function Yr(n,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=r;var D=o,q=A;try{q()}catch($){Xe(f,D,$)}}}u=u.next}while(u!==m)}}catch($){Xe(r,r.return,$)}}function Fv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{O_(r,o)}catch(u){Xe(n,n.return,u)}}}function Hv(n,r,o){o.props=ra(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(n,r,u)}}function ru(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){Xe(n,r,f)}}function Mi(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Xe(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xe(n,r,f)}else o.current=null}function Gv(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Xe(n,n.return,f)}}function jm(n,r,o){try{var u=n.stateNode;_1(u,n.type,o,r),u[qt]=r}catch(f){Xe(n,n.return,f)}}function Kv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ts(n.type)||n.tag===4}function Fm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Kv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ts(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hm(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ii));else if(u!==4&&(u===27&&ts(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Hm(n,r,o),n=n.sibling;n!==null;)Hm(n,r,o),n=n.sibling}function Ch(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&ts(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Ch(n,r,o),n=n.sibling;n!==null;)Ch(n,r,o),n=n.sibling}function Qv(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Jt(r,u,o),r[wt]=n,r[qt]=o}catch(m){Xe(n,n.return,m)}}var ir=!1,xt=!1,Gm=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function JI(n,r){if(n=n.containerInfo,fp=$h,n=a_(n),Ud(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,A=-1,D=-1,q=0,$=0,Z=n,F=null;t:for(;;){for(var Q;Z!==o||f!==0&&Z.nodeType!==3||(A=_+f),Z!==m||u!==0&&Z.nodeType!==3||(D=_+u),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)F=Z,Z=Q;for(;;){if(Z===n)break t;if(F===o&&++q===f&&(A=_),F===m&&++$===u&&(D=_),(Q=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=Q}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(dp={focusedElem:n,selectionRange:o},$h=!1,Ft=r;Ft!==null;)if(r=Ft,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Ft=n;else for(;Ft!==null;){switch(r=Ft,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var fe=ra(o.type,f);n=u.getSnapshotBeforeUpdate(fe,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Te){Xe(o,o.return,Te)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)gp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":gp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,Ft=n;break}Ft=r.return}}function $v(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:sr(n,o),u&4&&iu(5,o);break;case 1:if(sr(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(_){Xe(o,o.return,_)}else{var f=ra(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(o,o.return,_)}}u&64&&Fv(o),u&512&&ru(o,o.return);break;case 3:if(sr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{O_(n,r)}catch(_){Xe(o,o.return,_)}}break;case 27:r===null&&u&4&&Qv(o);case 26:case 5:sr(n,o),r===null&&u&4&&Gv(o),u&512&&ru(o,o.return);break;case 12:sr(n,o);break;case 31:sr(n,o),u&4&&Wv(n,o);break;case 13:sr(n,o),u&4&&Zv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=a1.bind(null,o),I1(n,o))));break;case 22:if(u=o.memoizedState!==null||ir,!u){r=r!==null&&r.memoizedState!==null||xt,f=ir;var m=xt;ir=u,(xt=r)&&!m?ar(n,o,(o.subtreeFlags&8772)!==0):sr(n,o),ir=f,xt=m}break;case 30:break;default:sr(n,o)}}function Xv(n){var r=n.alternate;r!==null&&(n.alternate=null,Xv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ja(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,mn=!1;function rr(n,r,o){for(o=o.child;o!==null;)Jv(n,r,o),o=o.sibling}function Jv(n,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Zn,o)}catch{}switch(o.tag){case 26:xt||Mi(o,r),rr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:xt||Mi(o,r);var u=ct,f=mn;ts(o.type)&&(ct=o.stateNode,mn=!1),rr(n,r,o),du(o.stateNode),ct=u,mn=f;break;case 5:xt||Mi(o,r);case 6:if(u=ct,f=mn,ct=null,rr(n,r,o),ct=u,mn=f,ct!==null)if(mn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(m){Xe(o,r,m)}else try{ct.removeChild(o.stateNode)}catch(m){Xe(o,r,m)}break;case 18:ct!==null&&(mn?(n=ct,FE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Ro(n)):FE(ct,o.stateNode));break;case 4:u=ct,f=mn,ct=o.stateNode.containerInfo,mn=!0,rr(n,r,o),ct=u,mn=f;break;case 0:case 11:case 14:case 15:Yr(2,o,r),xt||Yr(4,o,r),rr(n,r,o);break;case 1:xt||(Mi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Hv(o,r,u)),rr(n,r,o);break;case 21:rr(n,r,o);break;case 22:xt=(u=xt)||o.memoizedState!==null,rr(n,r,o),xt=u;break;default:rr(n,r,o)}}function Wv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ro(n)}catch(o){Xe(r,r.return,o)}}}function Zv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ro(n)}catch(o){Xe(r,r.return,o)}}function WI(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Yv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Yv),r;default:throw Error(i(435,n.tag))}}function Dh(n,r){var o=WI(n);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=o1.bind(null,n,u);u.then(f,f)}})}function pn(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,_=r,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(ts(A.type)){ct=A.stateNode,mn=!1;break e}break;case 5:ct=A.stateNode,mn=!1;break e;case 3:case 4:ct=A.stateNode.containerInfo,mn=!0;break e}A=A.return}if(ct===null)throw Error(i(160));Jv(m,_,f),ct=null,mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)eE(r,n),r=r.sibling}var ui=null;function eE(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(r,n),gn(n),u&4&&(Yr(3,n,n.return),iu(3,n),Yr(5,n,n.return));break;case 1:pn(r,n),gn(n),u&512&&(xt||o===null||Mi(o,o.return)),u&64&&ir&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ui;if(pn(r,n),gn(n),u&512&&(xt||o===null||Mi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ei]||m[wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Jt(m,u,o),m[wt]=n,It(m),u=m;break e;case"link":var _=eT("link","href",f).get(u+(o.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(A,1);break t}}m=f.createElement(u),Jt(m,u,o),f.head.appendChild(m);break;case"meta":if(_=eT("meta","content",f).get(u+(o.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(A,1);break t}}m=f.createElement(u),Jt(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[wt]=n,It(m),u=m}n.stateNode=u}else tT(f,n.type,n.stateNode);else n.stateNode=ZE(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?tT(f,n.type,n.stateNode):ZE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&jm(n,n.memoizedProps,o.memoizedProps)}break;case 27:pn(r,n),gn(n),u&512&&(xt||o===null||Mi(o,o.return)),o!==null&&u&4&&jm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(pn(r,n),gn(n),u&512&&(xt||o===null||Mi(o,o.return)),n.flags&32){f=n.stateNode;try{dn(f,"")}catch(fe){Xe(n,n.return,fe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,jm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Gm=!0);break;case 6:if(pn(r,n),gn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(fe){Xe(n,n.return,fe)}}break;case 3:if(Gh=null,f=ui,ui=Fh(r.containerInfo),pn(r,n),ui=f,gn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ro(r.containerInfo)}catch(fe){Xe(n,n.return,fe)}Gm&&(Gm=!1,tE(n));break;case 4:u=ui,ui=Fh(n.stateNode.containerInfo),pn(r,n),gn(n),ui=u;break;case 12:pn(r,n),gn(n);break;case 31:pn(r,n),gn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Dh(n,u)));break;case 13:pn(r,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(xh=an()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Dh(n,u)));break;case 22:f=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,q=ir,$=xt;if(ir=q||f,xt=$||D,pn(r,n),xt=$,ir=q,gn(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||D||ir||xt||sa(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var Z=D.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){Xe(D,D.return,fe)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(fe){Xe(D,D.return,fe)}}}else if(r.tag===18){if(o===null){D=r;try{var Q=D.stateNode;f?HE(Q,!0):HE(D.stateNode,!1)}catch(fe){Xe(D,D.return,fe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Dh(n,o))));break;case 19:pn(r,n),gn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Dh(n,u)));break;case 30:break;case 21:break;default:pn(r,n),gn(n)}}function gn(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(Kv(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=Fm(n);Ch(n,m,f);break;case 5:var _=o.stateNode;o.flags&32&&(dn(_,""),o.flags&=-33);var A=Fm(n);Ch(n,A,_);break;case 3:case 4:var D=o.stateNode.containerInfo,q=Fm(n);Hm(n,q,D);break;default:throw Error(i(161))}}catch($){Xe(n,n.return,$)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function tE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;tE(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function sr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$v(n,r.alternate,r),r=r.sibling}function sa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),sa(r);break;case 1:Mi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Hv(r,r.return,o),sa(r);break;case 27:du(r.stateNode);case 26:case 5:Mi(r,r.return),sa(r);break;case 22:r.memoizedState===null&&sa(r);break;case 30:sa(r);break;default:sa(r)}n=n.sibling}}function ar(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:ar(f,m,o),iu(4,m);break;case 1:if(ar(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Xe(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)V_(D[f],A)}catch(q){Xe(u,u.return,q)}}o&&_&64&&Fv(m),ru(m,m.return);break;case 27:Qv(m);case 26:case 5:ar(f,m,o),o&&u===null&&_&4&&Gv(m),ru(m,m.return);break;case 12:ar(f,m,o);break;case 31:ar(f,m,o),o&&_&4&&Wv(f,m);break;case 13:ar(f,m,o),o&&_&4&&Zv(f,m);break;case 22:m.memoizedState===null&&ar(f,m,o),ru(m,m.return);break;case 30:break;default:ar(f,m,o)}r=r.sibling}}function Km(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Hl(o))}function Qm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Hl(n))}function ci(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nE(n,r,o,u),r=r.sibling}function nE(n,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ci(n,r,o,u),f&2048&&iu(9,r);break;case 1:ci(n,r,o,u);break;case 3:ci(n,r,o,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Hl(n)));break;case 12:if(f&2048){ci(n,r,o,u),n=r.stateNode;try{var m=r.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Xe(r,r.return,D)}}else ci(n,r,o,u);break;case 31:ci(n,r,o,u);break;case 13:ci(n,r,o,u);break;case 23:break;case 22:m=r.stateNode,_=r.alternate,r.memoizedState!==null?m._visibility&2?ci(n,r,o,u):su(n,r):m._visibility&2?ci(n,r,o,u):(m._visibility|=2,go(n,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Km(_,r);break;case 24:ci(n,r,o,u),f&2048&&Qm(r.alternate,r);break;default:ci(n,r,o,u)}}function go(n,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,_=r,A=o,D=u,q=_.flags;switch(_.tag){case 0:case 11:case 15:go(m,_,A,D,f),iu(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?go(m,_,A,D,f):su(m,_):($._visibility|=2,go(m,_,A,D,f)),f&&q&2048&&Km(_.alternate,_);break;case 24:go(m,_,A,D,f),f&&q&2048&&Qm(_.alternate,_);break;default:go(m,_,A,D,f)}r=r.sibling}}function su(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,f=u.flags;switch(u.tag){case 22:su(o,u),f&2048&&Km(u.alternate,u);break;case 24:su(o,u),f&2048&&Qm(u.alternate,u);break;default:su(o,u)}r=r.sibling}}var au=8192;function yo(n,r,o){if(n.subtreeFlags&au)for(n=n.child;n!==null;)iE(n,r,o),n=n.sibling}function iE(n,r,o){switch(n.tag){case 26:yo(n,r,o),n.flags&au&&n.memoizedState!==null&&U1(o,ui,n.memoizedState,n.memoizedProps);break;case 5:yo(n,r,o);break;case 3:case 4:var u=ui;ui=Fh(n.stateNode.containerInfo),yo(n,r,o),ui=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=au,au=16777216,yo(n,r,o),au=u):yo(n,r,o));break;default:yo(n,r,o)}}function rE(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ou(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ft=u,aE(u,n)}rE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sE(n),n=n.sibling}function sE(n){switch(n.tag){case 0:case 11:case 15:ou(n),n.flags&2048&&Yr(9,n,n.return);break;case 3:ou(n);break;case 12:ou(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Nh(n)):ou(n);break;default:ou(n)}}function Nh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ft=u,aE(u,n)}rE(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),Nh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Nh(r));break;default:Nh(r)}n=n.sibling}}function aE(n,r){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:Yr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ft=u;else e:for(o=n;Ft!==null;){u=Ft;var f=u.sibling,m=u.return;if(Xv(u),u===o){Ft=null;break e}if(f!==null){f.return=m,Ft=f;break e}Ft=m}}}var ZI={getCacheForType:function(n){var r=$t(Ct),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return $t(Ct).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,rt=null,Ve=null,Me=0,$e=0,Rn=null,$r=!1,_o=!1,Ym=!1,or=0,gt=0,Xr=0,aa=0,$m=0,Cn=0,vo=0,lu=null,yn=null,Xm=!1,xh=0,oE=0,Vh=1/0,Oh=null,Jr=null,Ut=0,Wr=null,Eo=null,lr=0,Jm=0,Wm=null,lE=null,uu=0,Zm=null;function Dn(){return(Ge&2)!==0&&Me!==0?Me&-Me:J.T!==null?sp():Mc()}function uE(){if(Cn===0)if((Me&536870912)===0||Ue){var n=Os;Os<<=1,(Os&3932160)===0&&(Os=262144),Cn=n}else Cn=536870912;return n=wn.current,n!==null&&(n.flags|=32),Cn}function _n(n,r,o){(n===rt&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(To(n,0),Zr(n,Me,Cn,!1)),Ms(n,o),((Ge&2)===0||n!==rt)&&(n===rt&&((Ge&2)===0&&(aa|=o),gt===4&&Zr(n,Me,Cn,!1)),Pi(n))}function cE(n,r,o){if((Ge&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&n.expiredLanes)===0||ei(n,r),f=u?i1(n,r):tp(n,r,!0),m=u;do{if(f===0){_o&&!u&&Zr(n,r,0,!1);break}else{if(o=n.current.alternate,m&&!t1(o)){f=tp(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var A=n;f=lu;var D=A.current.memoizedState.isDehydrated;if(D&&(To(A,_).flags|=256),_=tp(A,_,!1),_!==2){if(Ym&&!D){A.errorRecoveryDisabledLanes|=m,aa|=m,f=4;break e}m=yn,yn=f,m!==null&&(yn===null?yn=m:yn.push.apply(yn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){To(n,0),Zr(n,r,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Zr(u,r,Cn,!$r);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=xh+300-an(),10<f)){if(Zr(u,r,Cn,!$r),yi(u,0,!0)!==0)break e;lr=r,u.timeoutHandle=qE(hE.bind(null,u,o,yn,Oh,Xm,r,Cn,aa,vo,$r,m,"Throttled",-0,0),f);break e}hE(u,o,yn,Oh,Xm,r,Cn,aa,vo,$r,m,null,-0,0)}}break}while(!0);Pi(n)}function hE(n,r,o,u,f,m,_,A,D,q,$,Z,F,Q){if(n.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},iE(r,m,Z);var fe=(m&62914560)===m?xh-an():(m&4194048)===m?oE-an():0;if(fe=z1(Z,fe),fe!==null){lr=m,n.cancelPendingCommit=fe(vE.bind(null,n,r,m,o,u,f,_,A,D,$,Z,null,F,Q)),Zr(n,m,_,!q);return}}vE(n,r,m,o,u,f,_,A,D)}function t1(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Sn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(n,r,o,u){r&=~$m,r&=~aa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-vt(f),_=1<<m;u[m]=-1,f&=~_}o!==0&&Ps(n,o,r)}function Mh(){return(Ge&6)===0?(cu(0),!1):!0}function ep(){if(Ve!==null){if($e===0)var n=Ve.return;else n=Ve,Ji=Js=null,gm(n),co=null,Kl=0,n=Ve;for(;n!==null;)jv(n.alternate,n),n=n.return;Ve=null}}function To(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,T1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),lr=0,ep(),rt=n,Ve=o=$i(n.current,null),Me=r,$e=0,Rn=null,$r=!1,_o=ei(n,r),Ym=!1,vo=Cn=$m=aa=Xr=gt=0,yn=lu=null,Xm=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-vt(u),m=1<<f;r|=n[f],u&=~m}return or=r,th(),o}function fE(n,r){Ce=null,J.H=eu,r===uo||r===uh?(r=C_(),$e=3):r===rm?(r=C_(),$e=4):$e=r===Vm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Ve===null&&(gt=1,Sh(n,zn(r,n.current)))}function dE(){var n=wn.current;return n===null?!0:(Me&4194048)===Me?Fn===null:(Me&62914560)===Me||(Me&536870912)!==0?n===Fn:!1}function mE(){var n=J.H;return J.H=eu,n===null?eu:n}function pE(){var n=J.A;return J.A=ZI,n}function Ph(){gt=4,$r||(Me&4194048)!==Me&&wn.current!==null||(_o=!0),(Xr&134217727)===0&&(aa&134217727)===0||rt===null||Zr(rt,Me,Cn,!1)}function tp(n,r,o){var u=Ge;Ge|=2;var f=mE(),m=pE();(rt!==n||Me!==r)&&(Oh=null,To(n,r)),r=!1;var _=gt;e:do try{if($e!==0&&Ve!==null){var A=Ve,D=Rn;switch($e){case 8:ep(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var q=$e;if($e=0,Rn=null,Ao(n,A,D,q),o&&_o){_=0;break e}break;default:q=$e,$e=0,Rn=null,Ao(n,A,D,q)}}n1(),_=gt;break}catch($){fE(n,$)}while(!0);return r&&n.shellSuspendCounter++,Ji=Js=null,Ge=u,J.H=f,J.A=m,Ve===null&&(rt=null,Me=0,th()),_}function n1(){for(;Ve!==null;)gE(Ve)}function i1(n,r){var o=Ge;Ge|=2;var u=mE(),f=pE();rt!==n||Me!==r?(Oh=null,Vh=an()+500,To(n,r)):_o=ei(n,r);e:do try{if($e!==0&&Ve!==null){r=Ve;var m=Rn;t:switch($e){case 1:$e=0,Rn=null,Ao(n,r,m,1);break;case 2:case 9:if(I_(m)){$e=0,Rn=null,yE(r);break}r=function(){$e!==2&&$e!==9||rt!==n||($e=7),Pi(n)},m.then(r,r);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:I_(m)?($e=0,Rn=null,yE(r)):($e=0,Rn=null,Ao(n,r,m,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var A=Ve;if(_?nT(_):A.stateNode.complete){$e=0,Rn=null;var D=A.sibling;if(D!==null)Ve=D;else{var q=A.return;q!==null?(Ve=q,kh(q)):Ve=null}break t}}$e=0,Rn=null,Ao(n,r,m,5);break;case 6:$e=0,Rn=null,Ao(n,r,m,6);break;case 8:ep(),gt=6;break e;default:throw Error(i(462))}}r1();break}catch($){fE(n,$)}while(!0);return Ji=Js=null,J.H=u,J.A=f,Ge=o,Ve!==null?0:(rt=null,Me=0,th(),gt)}function r1(){for(;Ve!==null&&!xd();)gE(Ve)}function gE(n){var r=Bv(n.alternate,n,or);n.memoizedProps=n.pendingProps,r===null?kh(n):Ve=r}function yE(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=Mv(o,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=Mv(o,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:gm(r);default:jv(o,r),r=Ve=p_(r,or),r=Bv(o,r,or)}n.memoizedProps=n.pendingProps,r===null?kh(n):Ve=r}function Ao(n,r,o,u){Ji=Js=null,gm(r),co=null,Kl=0;var f=r.return;try{if(KI(n,f,r,o,Me)){gt=1,Sh(n,zn(o,n.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;gt=1,Sh(n,zn(o,n.current)),Ve=null;return}r.flags&32768?(Ue||u===1?n=!0:_o||(Me&536870912)!==0?n=!1:($r=n=!0,(u===2||u===9||u===3||u===6)&&(u=wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),_E(r,n)):kh(r)}function kh(n){var r=n;do{if((r.flags&32768)!==0){_E(r,$r);return}n=r.return;var o=$I(r.alternate,r,or);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);gt===0&&(gt=5)}function _E(n,r){do{var o=XI(n.alternate,n);if(o!==null){o.flags&=32767,Ve=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=o}while(n!==null);gt=6,Ve=null}function vE(n,r,o,u,f,m,_,A,D){n.cancelPendingCommit=null;do Lh();while(Ut!==0);if((Ge&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=Fd,Md(n,o,m,_,A,D),n===rt&&(Ve=rt=null,Me=0),Eo=r,Wr=n,lr=o,Jm=m,Wm=f,lE=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,l1(Dr,function(){return bE(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,f=le.p,le.p=2,_=Ge,Ge|=4;try{JI(n,r,o)}finally{Ge=_,le.p=f,J.T=u}}Ut=1,EE(),TE(),AE()}}function EE(){if(Ut===1){Ut=0;var n=Wr,r=Eo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=le.p;le.p=2;var f=Ge;Ge|=4;try{eE(r,n);var m=dp,_=a_(n.containerInfo),A=m.focusedElem,D=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&s_(A.ownerDocument.documentElement,A)){if(D!==null&&Ud(A)){var q=D.start,$=D.end;if($===void 0&&($=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min($,A.value.length);else{var Z=A.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var Q=F.getSelection(),fe=A.textContent.length,Te=Math.min(D.start,fe),it=D.end===void 0?Te:Math.min(D.end,fe);!Q.extend&&Te>it&&(_=it,it=Te,Te=_);var k=r_(A,Te),V=r_(A,it);if(k&&V&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var B=Z.createRange();B.setStart(k.node,k.offset),Q.removeAllRanges(),Te>it?(Q.addRange(B),Q.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),Q.addRange(B))}}}}for(Z=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<Z.length;A++){var W=Z[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}$h=!!fp,dp=fp=null}finally{Ge=f,le.p=u,J.T=o}}n.current=r,Ut=2}}function TE(){if(Ut===2){Ut=0;var n=Wr,r=Eo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=le.p;le.p=2;var f=Ge;Ge|=4;try{$v(n,r.alternate,r)}finally{Ge=f,le.p=u,J.T=o}}Ut=3}}function AE(){if(Ut===4||Ut===3){Ut=0,Rc();var n=Wr,r=Eo,o=lr,u=lE;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Eo=Wr=null,SE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Jr=null),Gi(o),r=r.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Zn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=J.T,f=le.p,le.p=2,J.T=null;try{for(var m=n.onRecoverableError,_=0;_<u.length;_++){var A=u[_];m(A.value,{componentStack:A.stack})}}finally{J.T=r,le.p=f}}(lr&3)!==0&&Lh(),Pi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Zm?uu++:(uu=0,Zm=n):uu=0,cu(0)}}function SE(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Hl(r)))}function Lh(){return EE(),TE(),AE(),bE()}function bE(){if(Ut!==5)return!1;var n=Wr,r=Jm;Jm=0;var o=Gi(lr),u=J.T,f=le.p;try{le.p=32>o?32:o,J.T=null,o=Wm,Wm=null;var m=Wr,_=lr;if(Ut=0,Eo=Wr=null,lr=0,(Ge&6)!==0)throw Error(i(331));var A=Ge;if(Ge|=4,sE(m.current),nE(m,m.current,_,o),Ge=A,cu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{le.p=f,J.T=u,SE(n,r)}}function wE(n,r,o){r=zn(o,r),r=xm(n.stateNode,r,2),n=Gr(n,r,2),n!==null&&(Ms(n,2),Pi(n))}function Xe(n,r,o){if(n.tag===3)wE(n,n,o);else for(;r!==null;){if(r.tag===3){wE(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Jr===null||!Jr.has(u))){n=zn(o,n),o=Iv(2),u=Gr(r,o,2),u!==null&&(Rv(o,u,r,n),Ms(u,2),Pi(u));break}}r=r.return}}function np(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new e1;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Ym=!0,f.add(o),n=s1.bind(null,n,r,o),r.then(n,n))}function s1(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,rt===n&&(Me&o)===o&&(gt===4||gt===3&&(Me&62914560)===Me&&300>an()-xh?(Ge&2)===0&&To(n,0):$m|=o,vo===Me&&(vo=0)),Pi(n)}function IE(n,r){r===0&&(r=Oc()),n=Ys(n,r),n!==null&&(Ms(n,r),Pi(n))}function a1(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),IE(n,o)}function o1(n,r){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),IE(n,o)}function l1(n,r){return Lt(n,r)}var Uh=null,So=null,ip=!1,zh=!1,rp=!1,es=0;function Pi(n){n!==So&&n.next===null&&(So===null?Uh=So=n:So=So.next=n),zh=!0,ip||(ip=!0,c1())}function cu(n,r){if(!rp&&zh){rp=!0;do for(var o=!1,u=Uh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-vt(42|n)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,NE(u,m))}else m=Me,m=yi(u,u===rt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ei(u,m)||(o=!0,NE(u,m));u=u.next}while(o);rp=!1}}function u1(){RE()}function RE(){zh=ip=!1;var n=0;es!==0&&E1()&&(n=es);for(var r=an(),o=null,u=Uh;u!==null;){var f=u.next,m=CE(u,r);m===0?(u.next=null,o===null?Uh=f:o.next=f,f===null&&(So=o)):(o=u,(n!==0||(m&3)!==0)&&(zh=!0)),u=f}Ut!==0&&Ut!==5||cu(n),es!==0&&(es=0)}function CE(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-vt(m),A=1<<_,D=f[_];D===-1?((A&o)===0||(A&u)!==0)&&(f[_]=Od(A,r)):D<=r&&(n.expiredLanes|=A),m&=~A}if(r=rt,o=Me,o=yi(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&($e===2||$e===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Cr(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ei(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&Cr(u),Gi(o)){case 2:case 8:o=El;break;case 32:o=Dr;break;case 268435456:o=Cc;break;default:o=Dr}return u=DE.bind(null,n),o=Lt(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&Cr(u),n.callbackPriority=2,n.callbackNode=null,2}function DE(n,r){if(Ut!==0&&Ut!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Lh()&&n.callbackNode!==o)return null;var u=Me;return u=yi(n,n===rt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(cE(n,u,r),CE(n,an()),n.callbackNode!=null&&n.callbackNode===o?DE.bind(null,n):null)}function NE(n,r){if(Lh())return null;cE(n,r,!0)}function c1(){A1(function(){(Ge&6)!==0?Lt(vl,u1):RE()})}function sp(){if(es===0){var n=oo;n===0&&(n=pi,pi<<=1,(pi&261888)===0&&(pi=256)),es=n}return es}function xE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ka(""+n)}function VE(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function h1(n,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=xE((f[qt]||null).action),_=u.submitter;_&&(r=(r=_[qt]||null)?xE(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var A=new Ci("action","action",null,u,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(es!==0){var D=_?VE(f,_):new FormData(f);wm(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=_?VE(f,_):new FormData(f),wm(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var ap=0;ap<jd.length;ap++){var op=jd[ap],f1=op.toLowerCase(),d1=op[0].toUpperCase()+op.slice(1);li(f1,"on"+d1)}li(u_,"onAnimationEnd"),li(c_,"onAnimationIteration"),li(h_,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(DI,"onTransitionRun"),li(NI,"onTransitionStart"),li(xI,"onTransitionCancel"),li(f_,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hu));function OE(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var _=u.length-1;0<=_;_--){var A=u[_],D=A.instance,q=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=q;try{m(f)}catch($){eh($)}f.currentTarget=null,m=D}else for(_=0;_<u.length;_++){if(A=u[_],D=A.instance,q=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=q;try{m(f)}catch($){eh($)}f.currentTarget=null,m=D}}}}function Oe(n,r){var o=r[qa];o===void 0&&(o=r[qa]=new Set);var u=n+"__bubble";o.has(u)||(ME(r,n,2,!1),o.add(u))}function lp(n,r,o){var u=0;r&&(u|=4),ME(o,n,u,r)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function up(n){if(!n[Bh]){n[Bh]=!0,Sl.forEach(function(o){o!=="selectionchange"&&(m1.has(o)||lp(o,!1,n),lp(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Bh]||(r[Bh]=!0,lp("selectionchange",!1,r))}}function ME(n,r,o,u){switch(uT(r)){case 2:var f=j1;break;case 8:f=F1;break;default:f=bp}o=f.bind(null,r,o,n),f=void 0,!Bs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function cp(n,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=u.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=Ti(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){u=m=_;continue e}A=A.parentNode}}u=u.return}Pr(function(){var q=m,$=Pn(o),Z=[];e:{var F=d_.get(n);if(F!==void 0){var Q=Ci,fe=n;switch(n){case"keypress":if(js(o)===0)break e;case"keydown":case"keyup":Q=Jc;break;case"focusin":fe="focus",Q=Hs;break;case"focusout":fe="blur",Q=Hs;break;case"beforeblur":case"afterblur":Q=Hs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case u_:case c_:case h_:Q=Hc;break;case f_:Q=b;break;case"scroll":case"scrollend":Q=Pl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Yi;break;case"toggle":case"beforetoggle":Q=Re}var Te=(r&4)!==0,it=!Te&&(n==="scroll"||n==="scrollend"),k=Te?F!==null?F+"Capture":null:F;Te=[];for(var V=q,B;V!==null;){var W=V;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||k===null||(W=ri(V,k),W!=null&&Te.push(fu(V,W,B))),it)break;V=V.return}0<Te.length&&(F=new Q(F,fe,null,o,$),Z.push({event:F,listeners:Te}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",F&&o!==Vl&&(fe=o.relatedTarget||o.fromElement)&&(Ti(fe)||fe[vi]))break e;if((Q||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(fe=o.relatedTarget||o.toElement,Q=q,fe=fe?Ti(fe):null,fe!==null&&(it=l(fe),Te=fe.tag,fe!==it||Te!==5&&Te!==27&&Te!==6)&&(fe=null)):(Q=null,fe=q),Q!==fe)){if(Te=kl,W="onMouseLeave",k="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Yi,W="onPointerLeave",k="onPointerEnter",V="pointer"),it=Q==null?F:Tn(Q),B=fe==null?F:Tn(fe),F=new Te(W,V+"leave",Q,o,$),F.target=it,F.relatedTarget=B,W=null,Ti($)===q&&(Te=new Te(k,V+"enter",fe,o,$),Te.target=B,Te.relatedTarget=it,W=Te),it=W,Q&&fe)t:{for(Te=p1,k=Q,V=fe,B=0,W=k;W;W=Te(W))B++;W=0;for(var _e=V;_e;_e=Te(_e))W++;for(;0<B-W;)k=Te(k),B--;for(;0<W-B;)V=Te(V),W--;for(;B--;){if(k===V||V!==null&&k===V.alternate){Te=k;break t}k=Te(k),V=Te(V)}Te=null}else Te=null;Q!==null&&PE(Z,F,Q,Te,!1),fe!==null&&it!==null&&PE(Z,it,fe,Te,!0)}}e:{if(F=q?Tn(q):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var je=Wy;else if(Xy(F))if(Zy)je=II;else{je=bI;var pe=SI}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ga(q.elementType)&&(je=Wy):je=wI;if(je&&(je=je(n,q))){Jy(Z,je,o,$);break e}pe&&pe(n,F,q),n==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Dl(F,"number",F.value)}switch(pe=q?Tn(q):window,n){case"focusin":(Xy(pe)||pe.contentEditable==="true")&&(Za=pe,zd=q,ql=null);break;case"focusout":ql=zd=Za=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,o_(Z,o,$);break;case"selectionchange":if(CI)break;case"keydown":case"keyup":o_(Z,o,$)}var Ne;if(He)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Wa?Gs(n,o)&&(Pe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(xi&&o.locale!=="ko"&&(Wa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Wa&&(Ne=Ml()):(Ri=$,Ol="value"in Ri?Ri.value:Ri.textContent,Wa=!0)),pe=qh(q,Pe),0<pe.length&&(Pe=new Ni(Pe,n,null,o,$),Z.push({event:Pe,listeners:pe}),Ne?Pe.data=Ne:(Ne=Ja(o),Ne!==null&&(Pe.data=Ne)))),(Ne=Ln?vI(n,o):EI(n,o))&&(Pe=qh(q,"onBeforeInput"),0<Pe.length&&(pe=new Ni("onBeforeInput","beforeinput",null,o,$),Z.push({event:pe,listeners:Pe}),pe.data=Ne)),h1(Z,n,q,o,$)}OE(Z,r)})}function fu(n,r,o){return{instance:n,listener:r,currentTarget:o}}function qh(n,r){for(var o=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ri(n,o),f!=null&&u.unshift(fu(n,f,m)),f=ri(n,r),f!=null&&u.push(fu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function p1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function PE(n,r,o,u,f){for(var m=r._reactName,_=[];o!==null&&o!==u;){var A=o,D=A.alternate,q=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||q===null||(D=q,f?(q=ri(o,m),q!=null&&_.unshift(fu(o,q,D))):f||(q=ri(o,m),q!=null&&_.push(fu(o,q,D)))),o=o.return}_.length!==0&&n.push({event:r,listeners:_})}var g1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function kE(n){return(typeof n=="string"?n:""+n).replace(g1,`
`).replace(y1,"")}function LE(n,r){return r=kE(r),kE(n)===r}function nt(n,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||dn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&dn(n,""+u);break;case"className":An(n,"class",u);break;case"tabIndex":An(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(n,o,u);break;case"style":xl(n,u,m);break;case"data":if(r!=="object"){An(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ka(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&nt(n,r,"name",f.name,f,null),nt(n,r,"formEncType",f.formEncType,f,null),nt(n,r,"formMethod",f.formMethod,f,null),nt(n,r,"formTarget",f.formTarget,f,null)):(nt(n,r,"encType",f.encType,f,null),nt(n,r,"method",f.method,f,null),nt(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ka(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=ii);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ka(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Fa(n,"popover",u);break;case"xlinkActuate":Rt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Rt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Rt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Rt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Rt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Rt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Fa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=qc.get(o)||o,Fa(n,o,u))}}function hp(n,r,o,u,f,m){switch(o){case"style":xl(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?dn(n,u):(typeof u=="number"||typeof u=="bigint")&&dn(n,""+u);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=n[qt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Fa(n,o,u)}}}function Jt(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(n,r,m,_,o,null)}}f&&nt(n,r,"srcSet",o.srcSet,o,null),u&&nt(n,r,"src",o.src,o,null);return;case"input":Oe("invalid",n);var A=m=_=f=null,D=null,q=null;for(u in o)if(o.hasOwnProperty(u)){var $=o[u];if($!=null)switch(u){case"name":f=$;break;case"type":_=$;break;case"checked":D=$;break;case"defaultChecked":q=$;break;case"value":m=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:nt(n,r,u,$,o,null)}}Uc(n,m,A,D,q,_,f,!1);return;case"select":Oe("invalid",n),u=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:nt(n,r,f,A,o,null)}r=m,o=_,n.multiple=!!u,r!=null?xr(n,!!u,r,!1):o!=null&&xr(n,!!u,o,!0);return;case"textarea":Oe("invalid",n),m=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(A=o[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:nt(n,r,_,A,o,null)}Vr(n,u,f,m);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(n,r,D,u,o,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(u=0;u<hu.length;u++)Oe(hu[u],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(u=o[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(n,r,q,u,o,null)}return;default:if(Ga(r)){for($ in o)o.hasOwnProperty($)&&(u=o[$],u!==void 0&&hp(n,r,$,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&nt(n,r,A,u,o,null))}function _1(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,D=null,q=null,$=null;for(Q in o){var Z=o[Q];if(o.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=Z;default:u.hasOwnProperty(Q)||nt(n,r,Q,null,u,Z)}}for(var F in u){var Q=u[F];if(Z=o[F],u.hasOwnProperty(F)&&(Q!=null||Z!=null))switch(F){case"type":m=Q;break;case"name":f=Q;break;case"checked":q=Q;break;case"defaultChecked":$=Q;break;case"value":_=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==Z&&nt(n,r,F,Q,u,Z)}}Ha(n,_,A,D,q,$,m,f);return;case"select":Q=_=A=F=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":Q=D;default:u.hasOwnProperty(m)||nt(n,r,m,null,u,D)}for(f in u)if(m=u[f],D=o[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":F=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==D&&nt(n,r,f,m,u,D)}r=A,o=_,u=Q,F!=null?xr(n,!!o,F,!1):!!u!=!!o&&(r!=null?xr(n,!!o,r,!0):xr(n,!!o,o?[]:"",!1));return;case"textarea":Q=F=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:nt(n,r,A,null,u,f)}for(_ in u)if(f=u[_],m=o[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&nt(n,r,_,f,u,m)}zc(n,F,Q);return;case"option":for(var fe in o)if(F=o[fe],o.hasOwnProperty(fe)&&F!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:nt(n,r,fe,null,u,F)}for(D in u)if(F=u[D],Q=o[D],u.hasOwnProperty(D)&&F!==Q&&(F!=null||Q!=null))switch(D){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:nt(n,r,D,F,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)F=o[Te],o.hasOwnProperty(Te)&&F!=null&&!u.hasOwnProperty(Te)&&nt(n,r,Te,null,u,F);for(q in u)if(F=u[q],Q=o[q],u.hasOwnProperty(q)&&F!==Q&&(F!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,r));break;default:nt(n,r,q,F,u,Q)}return;default:if(Ga(r)){for(var it in o)F=o[it],o.hasOwnProperty(it)&&F!==void 0&&!u.hasOwnProperty(it)&&hp(n,r,it,void 0,u,F);for($ in u)F=u[$],Q=o[$],!u.hasOwnProperty($)||F===Q||F===void 0&&Q===void 0||hp(n,r,$,F,u,Q);return}}for(var k in o)F=o[k],o.hasOwnProperty(k)&&F!=null&&!u.hasOwnProperty(k)&&nt(n,r,k,null,u,F);for(Z in u)F=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||F===Q||F==null&&Q==null||nt(n,r,Z,F,u,Q)}function UE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&UE(_)){for(_=0,A=f.responseEnd,u+=1;u<o.length;u++){var D=o[u],q=D.startTime;if(q>A)break;var $=D.transferSize,Z=D.initiatorType;$&&UE(Z)&&(D=D.responseEnd,_+=$*(D<A?1:(A-q)/(D-q)))}if(--u,r+=8*(m+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var fp=null,dp=null;function jh(n){return n.nodeType===9?n:n.ownerDocument}function zE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function mp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pp=null;function E1(){var n=window.event;return n&&n.type==="popstate"?n===pp?!1:(pp=n,!0):(pp=null,!1)}var qE=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(n){return jE.resolve(null).then(n).catch(S1)}:qE;function S1(n){setTimeout(function(){throw n})}function ts(n){return n==="head"}function FE(n,r){var o=r,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Ro(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")du(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,du(o);for(var m=o.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Ei]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&du(n.ownerDocument.body);o=f}while(o);Ro(r)}function HE(n,r){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function gp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gp(o),ja(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function b1(n,r,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ei])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Hn(n.nextSibling),n===null)break}return null}function w1(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Hn(n.nextSibling),n===null))return null;return n}function GE(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Hn(n.nextSibling),n===null))return null;return n}function yp(n){return n.data==="$?"||n.data==="$~"}function _p(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function I1(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Hn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var vp=null;function KE(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return Hn(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function QE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function YE(n,r,o){switch(r=jh(o),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function du(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ja(n)}var Gn=new Map,$E=new Set;function Fh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ur=le.d;le.d={f:R1,r:C1,D:D1,C:N1,L:x1,m:V1,X:M1,S:O1,M:P1};function R1(){var n=ur.f(),r=Mh();return n||r}function C1(n){var r=Mn(n);r!==null&&r.tag===5&&r.type==="form"?fv(r):ur.r(n)}var bo=typeof document>"u"?null:document;function XE(n,r,o){var u=bo;if(u&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),$E.has(f)||($E.add(f),n={rel:n,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Jt(r,"link",n),It(r),u.head.appendChild(r)))}}function D1(n){ur.D(n),XE("dns-prefetch",n,null)}function N1(n,r){ur.C(n,r),XE("preconnect",n,r)}function x1(n,r,o){ur.L(n,r,o);var u=bo;if(u&&n&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+fn(o.imageSizes)+'"]')):f+='[href="'+fn(n)+'"]';var m=f;switch(r){case"style":m=wo(n);break;case"script":m=Io(n)}Gn.has(m)||(n=T({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Gn.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(mu(m))||r==="script"&&u.querySelector(pu(m))||(r=u.createElement("link"),Jt(r,"link",n),It(r),u.head.appendChild(r)))}}function V1(n,r){ur.m(n,r);var o=bo;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(u)+'"][href="'+fn(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Io(n)}if(!Gn.has(m)&&(n=T({rel:"modulepreload",href:n},r),Gn.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pu(m)))return}u=o.createElement("link"),Jt(u,"link",n),It(u),o.head.appendChild(u)}}}function O1(n,r,o){ur.S(n,r,o);var u=bo;if(u&&n){var f=Ai(u).hoistableStyles,m=wo(n);r=r||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(mu(m)))A.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Gn.get(m))&&Ep(n,o);var D=_=u.createElement("link");It(D),Jt(D,"link",n),D._p=new Promise(function(q,$){D.onload=q,D.onerror=$}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Hh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function M1(n,r){ur.X(n,r);var o=bo;if(o&&n){var u=Ai(o).hoistableScripts,f=Io(n),m=u.get(f);m||(m=o.querySelector(pu(f)),m||(n=T({src:n,async:!0},r),(r=Gn.get(f))&&Tp(n,r),m=o.createElement("script"),It(m),Jt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function P1(n,r){ur.M(n,r);var o=bo;if(o&&n){var u=Ai(o).hoistableScripts,f=Io(n),m=u.get(f);m||(m=o.querySelector(pu(f)),m||(n=T({src:n,async:!0,type:"module"},r),(r=Gn.get(f))&&Tp(n,r),m=o.createElement("script"),It(m),Jt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function JE(n,r,o,u){var f=(f=De.current)?Fh(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=wo(o.href),o=Ai(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=wo(o.href);var m=Ai(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(mu(n)))&&!m._p&&(_.instance=m,_.state.loading=5),Gn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Gn.set(n,o),m||k1(f,n,o,_.state))),r&&u===null)throw Error(i(528,""));return _}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Io(o),o=Ai(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function wo(n){return'href="'+fn(n)+'"'}function mu(n){return'link[rel="stylesheet"]['+n+"]"}function WE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function k1(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jt(r,"link",o),It(r),n.head.appendChild(r))}function Io(n){return'[src="'+fn(n)+'"]'}function pu(n){return"script[async]"+n}function ZE(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+fn(o.href)+'"]');if(u)return r.instance=u,It(u),u;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),It(u),Jt(u,"style",f),Hh(u,o.precedence,n),r.instance=u;case"stylesheet":f=wo(o.href);var m=n.querySelector(mu(f));if(m)return r.state.loading|=4,r.instance=m,It(m),m;u=WE(o),(f=Gn.get(f))&&Ep(u,f),m=(n.ownerDocument||n).createElement("link"),It(m);var _=m;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Jt(m,"link",u),r.state.loading|=4,Hh(m,o.precedence,n),r.instance=m;case"script":return m=Io(o.src),(f=n.querySelector(pu(m)))?(r.instance=f,It(f),f):(u=o,(f=Gn.get(m))&&(u=T({},o),Tp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),It(f),Jt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Hh(u,o.precedence,n));return r.instance}function Hh(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Ep(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Tp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Gh=null;function eT(n,r,o){if(Gh===null){var u=new Map,f=Gh=new Map;f.set(o,u)}else f=Gh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[Ei]||m[wt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=n+_;var A=u.get(_);A?A.push(m):u.set(_,[m])}}return u}function tT(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function L1(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function U1(n,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=wo(u.href),m=r.querySelector(mu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Kh.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=m,It(m);return}m=r.ownerDocument||r,u=WE(u),(f=Gn.get(f))&&Ep(u,f),m=m.createElement("link"),It(m);var _=m;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Jt(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Kh.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ap=0;function z1(n,r){return n.stylesheets&&n.count===0&&Yh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Yh(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&Ap===0&&(Ap=62500*v1());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Yh(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Ap?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qh=null;function Yh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qh=new Map,r.forEach(B1,n),Qh=null,Kh.call(n))}function B1(n,r){if(!(r.state.loading&4)){var o=Qh.get(n);if(o)var u=o.get(null);else{o=new Map,Qh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,f),o.set(_,f),this.count++,u=Kh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var gu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function q1(n,r,o,u,f,m,_,A,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function iT(n,r,o,u,f,m,_,A,D,q,$,Z){return n=new q1(n,r,o,_,D,q,$,Z,A),r=1,m===!0&&(r|=24),m=bn(3,null,null,r),n.current=m,m.stateNode=n,r=tm(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},sm(m),n}function rT(n){return n?(n=no,n):no}function sT(n,r,o,u,f,m){f=rT(f),u.context===null?u.context=f:u.pendingContext=f,u=Hr(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Gr(n,u,r),o!==null&&(_n(o,n,r),Yl(o,n,r))}function aT(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Sp(n,r){aT(n,r),(n=n.alternate)&&aT(n,r)}function oT(n){if(n.tag===13||n.tag===31){var r=Ys(n,67108864);r!==null&&_n(r,n,67108864),Sp(n,67108864)}}function lT(n){if(n.tag===13||n.tag===31){var r=Dn();r=ks(r);var o=Ys(n,r);o!==null&&_n(o,n,r),Sp(n,r)}}var $h=!0;function j1(n,r,o,u){var f=J.T;J.T=null;var m=le.p;try{le.p=2,bp(n,r,o,u)}finally{le.p=m,J.T=f}}function F1(n,r,o,u){var f=J.T;J.T=null;var m=le.p;try{le.p=8,bp(n,r,o,u)}finally{le.p=m,J.T=f}}function bp(n,r,o,u){if($h){var f=wp(u);if(f===null)cp(n,r,u,Xh,o),cT(n,u);else if(G1(f,n,r,o,u))u.stopPropagation();else if(cT(n,u),r&4&&-1<H1.indexOf(n)){for(;f!==null;){var m=Mn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=gi(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-vt(_);A.entanglements[1]|=D,_&=~D}Pi(m),(Ge&6)===0&&(Vh=an()+500,cu(0))}}break;case 31:case 13:A=Ys(m,2),A!==null&&_n(A,m,2),Mh(),Sp(m,2)}if(m=wp(u),m===null&&cp(n,r,u,Xh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else cp(n,r,u,null,o)}}function wp(n){return n=Pn(n),Ip(n)}var Xh=null;function Ip(n){if(Xh=null,n=Ti(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=c(r),n!==null)return n;n=null}else if(o===31){if(n=d(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Xh=n,null}function uT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vs()){case vl:return 2;case El:return 8;case Dr:case Vd:return 32;case Cc:return 268435456;default:return 32}default:return 32}}var Rp=!1,ns=null,is=null,rs=null,yu=new Map,_u=new Map,ss=[],H1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cT(n,r){switch(n){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":yu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(r.pointerId)}}function vu(n,r,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Mn(r),r!==null&&oT(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function G1(n,r,o,u,f){switch(r){case"focusin":return ns=vu(ns,n,r,o,u,f),!0;case"dragenter":return is=vu(is,n,r,o,u,f),!0;case"mouseover":return rs=vu(rs,n,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return yu.set(m,vu(yu.get(m)||null,n,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,_u.set(m,vu(_u.get(m)||null,n,r,o,u,f)),!0}return!1}function hT(n){var r=Ti(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){n.blockedOn=r,ti(n.priority,function(){lT(o)});return}}else if(r===31){if(r=d(o),r!==null){n.blockedOn=r,ti(n.priority,function(){lT(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=wp(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Vl=u,o.target.dispatchEvent(u),Vl=null}else return r=Mn(o),r!==null&&oT(r),n.blockedOn=o,!1;r.shift()}return!0}function fT(n,r,o){Jh(n)&&o.delete(r)}function K1(){Rp=!1,ns!==null&&Jh(ns)&&(ns=null),is!==null&&Jh(is)&&(is=null),rs!==null&&Jh(rs)&&(rs=null),yu.forEach(fT),_u.forEach(fT)}function Wh(n,r){n.blockedOn===r&&(n.blockedOn=null,Rp||(Rp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,K1)))}var Zh=null;function dT(n){Zh!==n&&(Zh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Zh===n&&(Zh=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Ip(u||o)===null)continue;break}var m=Mn(o);m!==null&&(n.splice(r,3),r-=3,wm(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ro(n){function r(D){return Wh(D,n)}ns!==null&&Wh(ns,n),is!==null&&Wh(is,n),rs!==null&&Wh(rs,n),yu.forEach(r),_u.forEach(r);for(var o=0;o<ss.length;o++){var u=ss[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ss.length&&(o=ss[0],o.blockedOn===null);)hT(o),o.blockedOn===null&&ss.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],_=f[qt]||null;if(typeof m=="function")_||dT(o);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[qt]||null)A=_.formAction;else if(Ip(f)!==null)continue}else A=_.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),dT(o)}}}function mT(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Cp(n){this._internalRoot=n}ef.prototype.render=Cp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Dn();sT(o,u,n,r,null,null)},ef.prototype.unmount=Cp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;sT(n.current,2,null,n,null,null),Mh(),r[vi]=null}};function ef(n){this._internalRoot=n}ef.prototype.unstable_scheduleHydration=function(n){if(n){var r=Mc();n={blockedOn:null,target:n,priority:r};for(var o=0;o<ss.length&&r!==0&&r<ss[o].priority;o++);ss.splice(o,0,n),o===0&&hT(n)}};var pT=e.version;if(pT!=="19.2.1")throw Error(i(527,pT,"19.2.1"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var Q1={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{Zn=tf.inject(Q1),Kt=tf}catch{}}return Tu.createRoot=function(n,r){if(!a(n))throw Error(i(299));var o=!1,u="",f=Av,m=Sv,_=bv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=iT(n,1,!1,null,null,o,u,null,f,m,_,mT),n[vi]=r.current,up(n),new Cp(r)},Tu.hydrateRoot=function(n,r,o){if(!a(n))throw Error(i(299));var u=!1,f="",m=Av,_=Sv,A=bv,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),r=iT(n,1,!0,r,o??null,u,f,D,m,_,A,mT),r.context=rT(null),o=r.current,u=Dn(),u=ks(u),f=Hr(u),f.callback=null,Gr(o,f,u),o=u,r.current.lanes=o,Ms(r,o),Pi(r),n[vi]=r.current,up(n),new ef(r)},Tu.version="19.2.1",Tu}var wT;function rR(){if(wT)return xp.exports;wT=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xp.exports=iR(),xp.exports}var sR=rR();const aR=MA(sR),oR="modulepreload",lR=function(s){return"/"+s},IT={},Va=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let c=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=c(t.map(g=>{if(g=lR(g),g in IT)return;IT[g]=!0;const v=g.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":oR,v||(S.as="script"),S.crossOrigin="",S.href=g,p&&S.setAttribute("nonce",p),document.head.appendChild(S),v)return new Promise((N,j)=>{S.addEventListener("load",N),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RT="popstate";function uR(s={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Wp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Gu(a)}return hR(e,t,null,s)}function ft(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Jn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cR(){return Math.random().toString(36).substring(2,10)}function CT(s,e){return{usr:s.state,key:s.key,idx:e}}function Wp(s,e,t=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:t,key:e&&e.key||i||cR()}}function Gu({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function al(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function hR(s,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let P=v(),te=P==null?null:P-g;g=P,p&&p({action:d,location:H.location,delta:te})}function S(P,te){d="PUSH";let ie=Wp(H.location,P,te);g=v()+1;let Y=CT(ie,g),ce=H.createHref(ie);try{c.pushState(Y,"",ce)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;a.location.assign(ce)}l&&p&&p({action:d,location:H.location,delta:1})}function N(P,te){d="REPLACE";let ie=Wp(H.location,P,te);g=v();let Y=CT(ie,g),ce=H.createHref(ie);c.replaceState(Y,"",ce),l&&p&&p({action:d,location:H.location,delta:0})}function j(P){return fR(P)}let H={get action(){return d},get location(){return s(a,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(RT,T),p=P,()=>{a.removeEventListener(RT,T),p=null}},createHref(P){return e(a,P)},createURL:j,encodeLocation(P){let te=j(P);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:S,replace:N,go(P){return c.go(P)}};return H}function fR(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Gu(s);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function PA(s,e,t="/"){return dR(s,e,t,!1)}function dR(s,e,t,i){let a=typeof e=="string"?al(e):e,l=yr(a.pathname||"/",t);if(l==null)return null;let c=kA(s);mR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=wR(l);d=SR(c[p],g,i)}return d}function kA(s,e=[],t=[],i="",a=!1){let l=(c,d,p=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;ft(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let T=mr([i,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),kA(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:TR(T,c.index),routesMeta:S})};return s.forEach((c,d)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,d);else for(let g of LA(c.path))l(c,d,!0,g)}),e}function LA(s){let e=s.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=LA(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>s.startsWith("/")&&p===""?"/":p)}function mR(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:AR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var pR=/^:[\w-]+$/,gR=3,yR=2,_R=1,vR=10,ER=-2,DT=s=>s==="*";function TR(s,e){let t=s.split("/"),i=t.length;return t.some(DT)&&(i+=ER),e&&(i+=yR),t.filter(a=>!DT(a)).reduce((a,l)=>a+(pR.test(l)?gR:l===""?_R:vR),i)}function AR(s,e){return s.length===e.length&&s.slice(0,-1).every((i,a)=>i===e[a])?s[s.length-1]-e[e.length-1]:0}function SR(s,e,t=!1){let{routesMeta:i}=s,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Nf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=Nf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:mr([l,T.pathname]),pathnameBase:NR(mr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=mr([l,T.pathnameBase]))}return c}function Nf(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,i]=bR(s.path,s.caseSensitive,s.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let j=d[S]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const N=d[S];return T&&!N?g[v]=void 0:g[v]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:s}}function bR(s,e=!1,t=!0){Jn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function wR(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function yr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=s.charAt(t);return i&&i!=="/"?null:s.slice(t)||"/"}var IR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RR=s=>IR.test(s);function CR(s,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof s=="string"?al(s):s,l;if(t)if(RR(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=NT(t.substring(1),"/"):l=NT(t,e)}else l=e;return{pathname:l,search:xR(i),hash:VR(a)}}function NT(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Pp(s,e,t,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DR(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bg(s){let e=DR(s);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function qg(s,e,t,i=!1){let a;typeof s=="string"?a=al(s):(a={...s},ft(!a.pathname||!a.pathname.includes("?"),Pp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),Pp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),Pp("#","search","hash",a)));let l=s===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=CR(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var mr=s=>s.join("/").replace(/\/\/+/g,"/"),NR=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),xR=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,VR=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function OR(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function MR(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UA=["POST","PUT","PATCH","DELETE"];new Set(UA);var PR=["GET",...UA];new Set(PR);var ol=K.createContext(null);ol.displayName="DataRouter";var td=K.createContext(null);td.displayName="DataRouterState";K.createContext(!1);var zA=K.createContext({isTransitioning:!1});zA.displayName="ViewTransition";var kR=K.createContext(new Map);kR.displayName="Fetchers";var LR=K.createContext(null);LR.displayName="Await";var Wn=K.createContext(null);Wn.displayName="Navigation";var lc=K.createContext(null);lc.displayName="Location";var Hi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var jg=K.createContext(null);jg.displayName="RouteError";function UR(s,{relative:e}={}){ft(ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=K.useContext(Wn),{hash:a,pathname:l,search:c}=uc(s,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:mr([t,l])),i.createHref({pathname:d,search:c,hash:a})}function ll(){return K.useContext(lc)!=null}function Ar(){return ft(ll(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(lc).location}var BA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qA(s){K.useContext(Wn).static||K.useLayoutEffect(s)}function Fg(){let{isDataRoute:s}=K.useContext(Hi);return s?JR():zR()}function zR(){ft(ll(),"useNavigate() may be used only in the context of a <Router> component.");let s=K.useContext(ol),{basename:e,navigator:t}=K.useContext(Wn),{matches:i}=K.useContext(Hi),{pathname:a}=Ar(),l=JSON.stringify(Bg(i)),c=K.useRef(!1);return qA(()=>{c.current=!0}),K.useCallback((p,g={})=>{if(Jn(c.current,BA),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=qg(p,JSON.parse(l),a,g.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,s])}K.createContext(null);function uc(s,{relative:e}={}){let{matches:t}=K.useContext(Hi),{pathname:i}=Ar(),a=JSON.stringify(Bg(t));return K.useMemo(()=>qg(s,JSON.parse(a),i,e==="path"),[s,a,i,e])}function BR(s,e){return jA(s,e)}function jA(s,e,t,i,a){var ie;ft(ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=K.useContext(Wn),{matches:c}=K.useContext(Hi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let Y=T&&T.path||"";FA(g,!T||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=Ar(),N;if(e){let Y=typeof e=="string"?al(e):e;ft(v==="/"||((ie=Y.pathname)==null?void 0:ie.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),N=Y}else N=S;let j=N.pathname||"/",H=j;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");H="/"+j.replace(/^\//,"").split("/").slice(Y.length).join("/")}let P=PA(s,{pathname:H});Jn(T||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Jn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=GR(P&&P.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:mr([v,l.encodeLocation?l.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:mr([v,l.encodeLocation?l.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),c,t,i,a);return e&&te?K.createElement(lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},te):te}function qR(){let s=XR(),e=OR(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:a},t):null,c)}var jR=K.createElement(qR,null),FR=class extends K.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?K.createElement(Hi.Provider,{value:this.props.routeContext},K.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HR({routeContext:s,match:e,children:t}){let i=K.useContext(ol);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Hi.Provider,{value:s},t)}function GR(s,e=[],t=null,i=null,a=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let l=s,c=t==null?void 0:t.errors;if(c!=null){let v=l.findIndex(T=>T.route.id&&(c==null?void 0:c[T.route.id])!==void 0);ft(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let T=l[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:S,errors:N}=t,j=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!N||N[T.route.id]===void 0);if(T.route.lazy||j){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&i?(v,T)=>{var S,N;i(v,{location:t.location,params:((N=(S=t.matches)==null?void 0:S[0])==null?void 0:N.params)??{},unstable_pattern:MR(t.matches),errorInfo:T})}:void 0;return l.reduceRight((v,T,S)=>{let N,j=!1,H=null,P=null;t&&(N=c&&T.route.id?c[T.route.id]:void 0,H=T.route.errorElement||jR,d&&(p<0&&S===0?(FA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,P=null):p===S&&(j=!0,P=T.route.hydrateFallbackElement||null)));let te=e.concat(l.slice(0,S+1)),ie=()=>{let Y;return N?Y=H:j?Y=P:T.route.Component?Y=K.createElement(T.route.Component,null):T.route.element?Y=T.route.element:Y=v,K.createElement(HR,{match:T,routeContext:{outlet:v,matches:te,isDataRoute:t!=null},children:Y})};return t&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?K.createElement(FR,{location:t.location,revalidation:t.revalidation,component:H,error:N,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ie()},null)}function Hg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KR(s){let e=K.useContext(ol);return ft(e,Hg(s)),e}function QR(s){let e=K.useContext(td);return ft(e,Hg(s)),e}function YR(s){let e=K.useContext(Hi);return ft(e,Hg(s)),e}function Gg(s){let e=YR(s),t=e.matches[e.matches.length-1];return ft(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function $R(){return Gg("useRouteId")}function XR(){var i;let s=K.useContext(jg),e=QR("useRouteError"),t=Gg("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[t]}function JR(){let{router:s}=KR("useNavigate"),e=Gg("useNavigate"),t=K.useRef(!1);return qA(()=>{t.current=!0}),K.useCallback(async(a,l={})=>{Jn(t.current,BA),t.current&&(typeof a=="number"?await s.navigate(a):await s.navigate(a,{fromRouteId:e,...l}))},[s,e])}var xT={};function FA(s,e,t){!e&&!xT[s]&&(xT[s]=!0,Jn(!1,t))}K.memo(WR);function WR({routes:s,future:e,state:t,unstable_onError:i}){return jA(s,void 0,t,i,e)}function kp({to:s,replace:e,state:t,relative:i}){ft(ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=K.useContext(Wn);Jn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=K.useContext(Hi),{pathname:c}=Ar(),d=Fg(),p=qg(s,Bg(l),c,i==="path"),g=JSON.stringify(p);return K.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function cr(s){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZR({basename:s="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){ft(!ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=K.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=al(t));let{pathname:g="/",search:v="",hash:T="",state:S=null,key:N="default"}=t,j=K.useMemo(()=>{let H=yr(g,d);return H==null?null:{location:{pathname:H,search:v,hash:T,state:S,key:N},navigationType:i}},[d,g,v,T,S,N,i]);return Jn(j!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:K.createElement(Wn.Provider,{value:p},K.createElement(lc.Provider,{children:e,value:j}))}function eC({children:s,location:e}){return BR(Zp(s),e)}function Zp(s,e=[]){let t=[];return K.Children.forEach(s,(i,a)=>{if(!K.isValidElement(i))return;let l=[...e,a];if(i.type===K.Fragment){t.push.apply(t,Zp(i.props.children,l));return}ft(i.type===cr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Zp(i.props.children,l)),t.push(c)}),t}var ff="get",df="application/x-www-form-urlencoded";function nd(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function tC(s){return nd(s)&&s.tagName.toLowerCase()==="button"}function nC(s){return nd(s)&&s.tagName.toLowerCase()==="form"}function iC(s){return nd(s)&&s.tagName.toLowerCase()==="input"}function rC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function sC(s,e){return s.button===0&&(!e||e==="_self")&&!rC(s)}var nf=null;function aC(){if(nf===null)try{new FormData(document.createElement("form"),0),nf=!1}catch{nf=!0}return nf}var oC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(s){return s!=null&&!oC.has(s)?(Jn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):s}function lC(s,e){let t,i,a,l,c;if(nC(s)){let d=s.getAttribute("action");i=d?yr(d,e):null,t=s.getAttribute("method")||ff,a=Lp(s.getAttribute("enctype"))||df,l=new FormData(s)}else if(tC(s)||iC(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||d.getAttribute("action");if(i=p?yr(p,e):null,t=s.getAttribute("formmethod")||d.getAttribute("method")||ff,a=Lp(s.getAttribute("formenctype"))||Lp(d.getAttribute("enctype"))||df,l=new FormData(d,s),!aC()){let{name:g,type:v,value:T}=s;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,T)}}else{if(nd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ff,i=null,a=df,c=s}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kg(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function uC(s,e,t){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&yr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function cC(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function fC(s,e,t){let i=await Promise.all(s.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await cC(l,t);return c.links?c.links():[]}return[]}));return gC(i.flat(1).filter(hC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function VT(s,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function dC(s,e,{includeHydrateFallback:t}={}){return mC(s.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mC(s){return[...new Set(s)]}function pC(s){let e={},t=Object.keys(s).sort();for(let i of t)e[i]=s[i];return e}function gC(s,e){let t=new Set;return new Set(e),s.reduce((i,a)=>{let l=JSON.stringify(pC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function HA(){let s=K.useContext(ol);return Kg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function yC(){let s=K.useContext(td);return Kg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Qg=K.createContext(void 0);Qg.displayName="FrameworkContext";function GA(){let s=K.useContext(Qg);return Kg(s,"You must render this element inside a <HydratedRouter> element"),s}function _C(s,e){let t=K.useContext(Qg),[i,a]=K.useState(!1),[l,c]=K.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=K.useRef(null);K.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let H=te=>{te.forEach(ie=>{c(ie.isIntersecting)})},P=new IntersectionObserver(H,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[s]),K.useEffect(()=>{if(i){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[i]);let N=()=>{a(!0)},j=()=>{a(!1),c(!1)};return t?s!=="intent"?[l,S,{}]:[l,S,{onFocus:Au(d,N),onBlur:Au(p,j),onMouseEnter:Au(g,N),onMouseLeave:Au(v,j),onTouchStart:Au(T,N)}]:[!1,S,{}]}function Au(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function vC({page:s,...e}){let{router:t}=HA(),i=K.useMemo(()=>PA(t.routes,s,t.basename),[t.routes,s,t.basename]);return i?K.createElement(TC,{page:s,matches:i,...e}):null}function EC(s){let{manifest:e,routeModules:t}=GA(),[i,a]=K.useState([]);return K.useEffect(()=>{let l=!1;return fC(s,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[s,e,t]),i}function TC({page:s,matches:e,...t}){let i=Ar(),{manifest:a,routeModules:l}=GA(),{basename:c}=HA(),{loaderData:d,matches:p}=yC(),g=K.useMemo(()=>VT(s,e,p,a,i,"data"),[s,e,p,a,i]),v=K.useMemo(()=>VT(s,e,p,a,i,"assets"),[s,e,p,a,i]),T=K.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let j=new Set,H=!1;if(e.forEach(te=>{var Y;let ie=a.routes[te.route.id];!ie||!ie.hasLoader||(!g.some(ce=>ce.route.id===te.route.id)&&te.route.id in d&&((Y=l[te.route.id])!=null&&Y.shouldRevalidate)||ie.hasClientLoader?H=!0:j.add(te.route.id))}),j.size===0)return[];let P=uC(s,c,"data");return H&&j.size>0&&P.searchParams.set("_routes",e.filter(te=>j.has(te.route.id)).map(te=>te.route.id).join(",")),[P.pathname+P.search]},[c,d,i,a,g,e,s,l]),S=K.useMemo(()=>dC(v,a),[v,a]),N=EC(v);return K.createElement(K.Fragment,null,T.map(j=>K.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),S.map(j=>K.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),N.map(({key:j,link:H})=>K.createElement("link",{key:j,nonce:t.nonce,...H})))}function AC(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var KA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KA&&(window.__reactRouterVersion="7.10.1")}catch{}function SC({basename:s,children:e,unstable_useTransitions:t,window:i}){let a=K.useRef();a.current==null&&(a.current=uR({window:i,v5Compat:!0}));let l=a.current,[c,d]=K.useState({action:l.action,location:l.location}),p=K.useCallback(g=>{t===!1?d(g):K.startTransition(()=>d(g))},[t]);return K.useLayoutEffect(()=>l.listen(p),[l,p]),K.createElement(ZR,{basename:s,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var QA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YA=K.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:T,...S},N){let{basename:j,unstable_useTransitions:H}=K.useContext(Wn),P=typeof g=="string"&&QA.test(g),te,ie=!1;if(typeof g=="string"&&P&&(te=g,KA))try{let M=new URL(window.location.href),x=g.startsWith("//")?new URL(M.protocol+g):new URL(g),L=yr(x.pathname,j);x.origin===M.origin&&L!=null?g=L+x.search+x.hash:ie=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=UR(g,{relative:a}),[ce,de,ge]=_C(i,S),I=RC(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:T,unstable_useTransitions:H});function w(M){e&&e(M),M.defaultPrevented||I(M)}let R=K.createElement("a",{...S,...ge,href:te||Y,onClick:ie||l?e:w,ref:AC(N,de),target:p,"data-discover":!P&&t==="render"?"true":void 0});return ce&&!P?K.createElement(K.Fragment,null,R,K.createElement(vC,{page:Y})):R});YA.displayName="Link";var bC=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let T=uc(c,{relative:g.relative}),S=Ar(),N=K.useContext(td),{navigator:j,basename:H}=K.useContext(Wn),P=N!=null&&VC(T)&&d===!0,te=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,ie=S.pathname,Y=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),Y=Y?Y.toLowerCase():null,te=te.toLowerCase()),Y&&H&&(Y=yr(Y,H)||Y);const ce=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let de=ie===te||!a&&ie.startsWith(te)&&ie.charAt(ce)==="/",ge=Y!=null&&(Y===te||!a&&Y.startsWith(te)&&Y.charAt(te.length)==="/"),I={isActive:de,isPending:ge,isTransitioning:P},w=de?e:void 0,R;typeof i=="function"?R=i(I):R=[i,de?"active":null,ge?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(I):l;return K.createElement(YA,{...g,"aria-current":w,className:R,ref:v,style:M,to:c,viewTransition:d},typeof p=="function"?p(I):p)});bC.displayName="NavLink";var wC=K.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=ff,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...S},N)=>{let{unstable_useTransitions:j}=K.useContext(Wn),H=NC(),P=xC(d,{relative:g}),te=c.toLowerCase()==="get"?"get":"post",ie=typeof d=="string"&&QA.test(d),Y=ce=>{if(p&&p(ce),ce.defaultPrevented)return;ce.preventDefault();let de=ce.nativeEvent.submitter,ge=(de==null?void 0:de.getAttribute("formmethod"))||c,I=()=>H(de||ce.currentTarget,{fetcherKey:e,method:ge,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:T});j&&t!==!1?K.startTransition(()=>I()):I()};return K.createElement("form",{ref:N,method:te,action:P,onSubmit:i?p:Y,...S,"data-discover":!ie&&s==="render"?"true":void 0})});wC.displayName="Form";function IC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $A(s){let e=K.useContext(ol);return ft(e,IC(s)),e}function RC(s,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let p=Fg(),g=Ar(),v=uc(s,{relative:l});return K.useCallback(T=>{if(sC(T,e)){T.preventDefault();let S=t!==void 0?t:Gu(g)===Gu(v),N=()=>p(s,{replace:S,state:i,preventScrollReset:a,relative:l,viewTransition:c});d?K.startTransition(()=>N()):N()}},[g,p,v,t,i,e,s,a,l,c,d])}var CC=0,DC=()=>`__${String(++CC)}__`;function NC(){let{router:s}=$A("useSubmit"),{basename:e}=K.useContext(Wn),t=$R(),i=s.fetch,a=s.navigate;return K.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:T}=lC(l,e);if(c.navigate===!1){let S=c.fetcherKey||DC();await i(S,t,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function xC(s,{relative:e}={}){let{basename:t}=K.useContext(Wn),i=K.useContext(Hi);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...uc(s||".",{relative:e})},c=Ar();if(s==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!s||s===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:mr([t,l.pathname])),Gu(l)}function VC(s,{relative:e}={}){let t=K.useContext(zA);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$A("useViewTransitionState"),a=uc(s,{relative:e});if(!t.isTransitioning)return!1;let l=yr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=yr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Nf(a.pathname,c)!=null||Nf(a.pathname,l)!=null}var vn=(s=>(s.USER="USER",s.OWNER="OWNER",s.ADMIN="ADMIN",s))(vn||{}),OC=(s=>(s.PENDING="PENDING",s.ACCEPTED="ACCEPTED",s.ARRIVED="ARRIVED",s.COMPLETED="COMPLETED",s.CANCELLED="CANCELLED",s))(OC||{});const PP={lat:36.365,lng:6.6147},XA={en:{welcome:"Welcome to DzTow",roleSelect:"Are you a Driver or a Tow Truck Owner?",driver:"Driver",owner:"Truck Owner",login:"Login",signup:"Sign Up",findingTrucks:"Finding nearby trucks...",requestTow:"Request Tow Truck",available:"Available",offline:"Offline",call:"Call",distance:"km away",status:"Status",cancel:"Cancel",resolve:"Resolved",language:"Language",profile:"Profile",dashboard:"Dashboard",truckType:"Truck Type",location:"Location",home:"Home",settings:"Settings",helpSupport:"Help & Support",logout:"Log Out",edit:"Edit",vehicle:"Vehicle",save:"Save",appTheme:"App Theme",primaryColor:"Primary Color",fontStyle:"Font Style",notifications:"Notifications",appInfo:"App Info",version:"Version",emailUs:"Email Us",faq:"FAQ",faqs:[{q:"How do I request a tow truck?",a:"Go to the Home screen, confirm your location on the map, and tap the big red 'Request Tow Truck' button. Nearby drivers will be notified."},{q:"How is the price calculated?",a:"For this MVP version, prices are negotiated directly with the truck owner. We will add in-app estimates soon."},{q:"Can I cancel my request?",a:"Yes, you can cancel your request at any time from the home screen before the driver arrives."},{q:"Is this service available 24/7?",a:"It depends on the availability of independent truck owners in your area."}],reportIssue:"Report an Issue",describeIssue:"Describe your issue...",submitReport:"Submit Report",availabilityStatus:"Availability Status",online:"Online",offlineStatus:"Offline",myTruck:"My Truck",plate:"Plate",serviceArea:"Service Area",truckBrand:"Truck Brand",brand:"Brand",required:"Required",truckList:"Truck List",chat:"Chat",typeMessage:"Type a message...",blockUser:"Block User",unblockUser:"Unblock User",muteChat:"Mute Chat",unmuteChat:"Unmute Chat",contacts:"Contacts",noMessages:"No messages yet. Start a conversation!",today:"Today",typing:"Typing...",showAll:"All",showOnline:"Online",showOffline:"Offline",verification:"Verification",enterOtp:"Please enter the verification code sent to your email.",verify:"Verify",resendOtp:"Resend Code",driverAcceptedTitle:"Driver Accepted!",driverAcceptedBody:"A tow truck is on the way to your location.",newMessageTitle:"New Message",requestCreatedTitle:"Request Sent",requestCreatedBody:"Searching for nearby drivers...",enableNotifications:"Enable Notifications"},fr:{welcome:"Bienvenue sur DzTow",roleSelect:"tes-vous un conducteur ou un propritaire de dpanneuse ?",driver:"Conducteur",owner:"Propritaire",login:"Connexion",signup:"S'inscrire",findingTrucks:"Recherche de camions  proximit...",requestTow:"Demander une dpanneuse",available:"Disponible",offline:"Hors ligne",call:"Appeler",distance:"km",status:"Statut",cancel:"Annuler",resolve:"Rsolu",language:"Langue",profile:"Profil",dashboard:"Tableau de bord",truckType:"Type de camion",location:"Emplacement",home:"Accueil",settings:"Paramtres",helpSupport:"Aide & Support",logout:"Se dconnecter",edit:"Modifier",vehicle:"Vhicule",save:"Enregistrer",appTheme:"Thme de l'application",primaryColor:"Couleur principale",fontStyle:"Style de police",notifications:"Notifications",appInfo:"Info App",version:"Version",emailUs:"Envoyez-nous un email",faq:"FAQ",faqs:[{q:"Comment demander une dpanneuse ?",a:"Allez sur l'cran d'accueil, confirmez votre position sur la carte, et appuyez sur le grand bouton rouge 'Demander une dpanneuse'. Les dpanneurs  proximit seront notifis."},{q:"Comment le prix est-il calcul ?",a:"Pour cette version MVP, les prix sont ngocis directement avec le propritaire de la dpanneuse. Nous ajouterons bientt des estimations dans l'application."},{q:"Puis-je annuler ma demande ?",a:"Oui, vous pouvez annuler votre demande  tout moment depuis l'cran d'accueil avant l'arrive du dpanneur."},{q:"Ce service est-il disponible 24h/24 et 7j/7 ?",a:"Cela dpend de la disponibilit des propritaires de dpanneuses indpendants dans votre rgion."}],reportIssue:"Signaler un problme",describeIssue:"Dcrivez votre problme...",submitReport:"Soumettre",availabilityStatus:"Statut de disponibilit",online:"En ligne",offlineStatus:"Hors ligne",myTruck:"Mon Camion",plate:"Plaque",serviceArea:"Zone de service",truckBrand:"Marque du camion",brand:"Marque",required:"Requis",truckList:"Liste des camions",chat:"Messagerie",typeMessage:"crivez un message...",blockUser:"Bloquer l'utilisateur",unblockUser:"Dbloquer",muteChat:"Mettre en sourdine",unmuteChat:"Ractiver les notifications",contacts:"Contacts",noMessages:"Pas encore de messages. Commencez une discussion !",today:"Aujourd'hui",typing:"crit...",showAll:"Tous",showOnline:"En ligne",showOffline:"Hors ligne",verification:"Vrification",enterOtp:"Veuillez entrer le code de vrification envoy  votre e-mail.",verify:"Vrifier",resendOtp:"Renvoyer le code",driverAcceptedTitle:"Chauffeur Accept !",driverAcceptedBody:"Une dpanneuse est en route vers votre position.",newMessageTitle:"Nouveau Message",requestCreatedTitle:"Demande Envoye",requestCreatedBody:"Recherche de chauffeurs  proximit...",enableNotifications:"Activer les notifications"},ar:{welcome:"   DzTow",roleSelect:"      ",driver:"",owner:" ",login:"",signup:"",findingTrucks:"   ...",requestTow:"  ",available:"",offline:" ",call:"",distance:"",status:"",cancel:"",resolve:" ",language:"",profile:" ",dashboard:" ",truckType:" ",location:"",home:"",settings:"",helpSupport:" ",logout:" ",edit:"",vehicle:"",save:"",appTheme:" ",primaryColor:" ",fontStyle:" ",notifications:"",appInfo:" ",version:"",emailUs:"",faq:" ",faqs:[{q:"   ",a:"               '  '.    ."},{q:"   ",a:"           .      ."},{q:"   ",a:"            ."},{q:"    24/7",a:"         ."}],reportIssue:"  ",describeIssue:" ...",submitReport:" ",availabilityStatus:" ",online:"",offlineStatus:" ",myTruck:"",plate:"",serviceArea:" ",truckBrand:" ",brand:"",required:"",truckList:" ",chat:"",typeMessage:" ...",blockUser:" ",unblockUser:" ",muteChat:" ",unmuteChat:" ",contacts:" ",noMessages:"  .  !",today:"",typing:"...",showAll:"",showOnline:"",showOffline:" ",verification:"",enterOtp:"       .",verify:"",resendOtp:"  ",driverAcceptedTitle:"  !",driverAcceptedBody:"    .",newMessageTitle:" ",requestCreatedTitle:"  ",requestCreatedBody:"    ...",enableNotifications:" "}},eg=K.createContext({primaryColor:"blue",textColor:"blue",setTheme:()=>{}}),Yg=()=>K.useContext(eg);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),OT=s=>{const e=PC(s);return e.charAt(0).toUpperCase()+e.slice(1)},JA=(...s)=>s.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),kC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=K.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},p)=>K.createElement("svg",{ref:p,...LC,width:e,height:e,stroke:s,strokeWidth:i?Number(t)*24/Number(e):t,className:JA("lucide",a),...!l&&!kC(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>K.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=(s,e)=>{const t=K.forwardRef(({className:i,...a},l)=>K.createElement(UC,{ref:l,iconNode:e,className:JA(`lucide-${MC(OT(s))}`,`lucide-${s}`,i),...a}));return t.displayName=OT(s),t};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],BC=cc("list",zC);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jC=cc("map-pin",qC);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],HC=cc("message-square",FC);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],WA=cc("truck",GC);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],QC=cc("user",KC),YC=({role:s,setLanguage:e,currentLang:t,onLogout:i})=>{const a=Fg(),l=Ar(),c=XA[t],{primaryColor:d,textColor:p}=Yg(),g=({path:v,icon:T,label:S})=>{const N=l.pathname===v;return se.jsxs("button",{onClick:()=>a(v),className:`flex flex-col items-center justify-center w-full py-2 ${N?`text-${d}-600`:`text-${p}-500`}`,children:[se.jsx(T,{size:24,strokeWidth:N?2.5:2}),se.jsx("span",{className:"text-[10px] mt-1",children:S})]})};return se.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-white border-t border-${p}-200 pb-[env(safe-area-inset-bottom)] flex justify-around shadow-lg z-50`,children:[se.jsx(g,{path:"/home",icon:jC,label:c.home}),s===vn.USER&&se.jsx(g,{path:"/trucks",icon:BC,label:c.truckList||"List"}),s===vn.OWNER&&se.jsx(g,{path:"/chat",icon:HC,label:c.chat}),s===vn.OWNER&&se.jsx(g,{path:"/dashboard",icon:WA,label:c.dashboard}),se.jsx(g,{path:"/profile",icon:QC,label:c.profile})]})},$C=({title:s,currentLang:e,setLanguage:t})=>{const{primaryColor:i}=Yg();return se.jsxs("div",{className:`bg-${i}-600 text-white p-4 flex justify-between items-center shadow-md sticky top-0 z-50`,children:[se.jsx("h1",{className:"text-xl font-bold font-heading",children:s}),se.jsxs("select",{value:e,onChange:a=>t(a.target.value),className:`bg-${i}-700 text-white text-xs p-1 rounded border-none outline-none`,children:[se.jsx("option",{value:"en",children:"EN"}),se.jsx("option",{value:"fr",children:"FR"}),se.jsx("option",{value:"ar",children:"AR"})]})]})},XC=()=>{};var MT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=function(s){const e=[];let t=0;for(let i=0;i<s.length;i++){let a=s.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},JC=function(s){const e=[];let t=0,i=0;for(;t<s.length;){const a=s[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=s[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=s[t++],c=s[t++],d=s[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=s[t++],c=s[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},eS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<s.length;a+=3){const l=s[a],c=a+1<s.length,d=c?s[a+1]:0,p=a+2<s.length,g=p?s[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,N=g&63;p||(N=64,c||(S=64)),i.push(t[v],t[T],t[S],t[N])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(ZA(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):JC(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<s.length;){const l=t[s.charAt(a++)],d=a<s.length?t[s.charAt(a)]:0;++a;const g=a<s.length?t[s.charAt(a)]:64;++a;const T=a<s.length?t[s.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new WC;const S=l<<2|d>>4;if(i.push(S),g!==64){const N=d<<4&240|g>>2;if(i.push(N),T!==64){const j=g<<6&192|T;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class WC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZC=function(s){const e=ZA(s);return eS.encodeByteArray(e,!0)},xf=function(s){return ZC(s).replace(/\./g,"")},tS=function(s){try{return eS.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=()=>nS().__FIREBASE_DEFAULTS__,tD=()=>{if(typeof process>"u"||typeof MT>"u")return;const s=MT.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},nD=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&tS(s[1]);return e&&JSON.parse(e)},id=()=>{try{return XC()||eD()||tD()||nD()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iS=s=>{var e,t;return(t=(e=id())==null?void 0:e.emulatorHosts)==null?void 0:t[s]},iD=s=>{const e=iS(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},rS=()=>{var s;return(s=id())==null?void 0:s.config},sS=s=>{var e;return(e=id())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aS(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=s.iat||0,l=s.sub||s.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...s};return[xf(JSON.stringify(t)),xf(JSON.stringify(c)),""].join(".")}const Pu={};function aD(){const s={prod:[],emulator:[]};for(const e of Object.keys(Pu))Pu[e]?s.emulator.push(e):s.prod.push(e);return s}function oD(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let PT=!1;function oS(s,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Pu[s]===e||Pu[s]||PT)return;Pu[s]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=aD().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{PT=!0,c()},S}function v(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=oD(i),N=t("text"),j=document.getElementById(N)||document.createElement("span"),H=t("learnmore"),P=document.getElementById(H)||document.createElement("a"),te=t("preprendIcon"),ie=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;d(Y),v(P,H);const ce=g();p(ie,te),Y.append(ie,j,P,ce),document.body.appendChild(Y)}l?(j.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function lS(){var e;const s=(e=id())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cD(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fD(){const s=zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function uS(){return!lS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){return!lS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function dD(){return new Promise((s,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="FirebaseError";class Sr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=mD,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?pD(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Sr(a,d,i)}}function pD(s,e){return s.replace(gD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const gD=/\{\$([^}]+)}/g;function yD(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Ea(s,e){if(s===e)return!0;const t=Object.keys(s),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=s[a],c=e[a];if(kT(l)&&kT(c)){if(!Ea(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function kT(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(s){const e=[];for(const[t,i]of Object.entries(s))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Cu(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Du(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function _D(s,e){const t=new vD(s,e);return t.subscribe.bind(t)}class vD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Up),a.error===void 0&&(a.error=Up),a.complete===void 0&&(a.complete=Up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ED(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(s){return s&&s._delegate?s._delegate:s}class Ta{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new rD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SD(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AD(s){return s===la?void 0:s}function SD(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new TD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ke||(ke={}));const wD={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},ID=ke.INFO,RD={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},CD=(s,e,...t)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),a=RD[e];if(a)console[a](`[${i}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=ID,this._logHandler=CD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const DD=(s,e)=>e.some(t=>s instanceof t);let LT,UT;function ND(){return LT||(LT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xD(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fS=new WeakMap,tg=new WeakMap,dS=new WeakMap,zp=new WeakMap,Xg=new WeakMap;function VD(s){const e=new Promise((t,i)=>{const a=()=>{s.removeEventListener("success",l),s.removeEventListener("error",c)},l=()=>{t(ys(s.result)),a()},c=()=>{i(s.error),a()};s.addEventListener("success",l),s.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&fS.set(t,s)}).catch(()=>{}),Xg.set(e,s),e}function OD(s){if(tg.has(s))return;const e=new Promise((t,i)=>{const a=()=>{s.removeEventListener("complete",l),s.removeEventListener("error",c),s.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",l),s.addEventListener("error",c),s.addEventListener("abort",c)});tg.set(s,e)}let ng={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return tg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||dS.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function MD(s){ng=s(ng)}function PD(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=s.call(Bp(this),e,...t);return dS.set(i,e.sort?e.sort():[e]),ys(i)}:xD().includes(s)?function(...e){return s.apply(Bp(this),e),ys(fS.get(this))}:function(...e){return ys(s.apply(Bp(this),e))}}function kD(s){return typeof s=="function"?PD(s):(s instanceof IDBTransaction&&OD(s),DD(s,ND())?new Proxy(s,ng):s)}function ys(s){if(s instanceof IDBRequest)return VD(s);if(zp.has(s))return zp.get(s);const e=kD(s);return e!==s&&(zp.set(s,e),Xg.set(e,s)),e}const Bp=s=>Xg.get(s);function LD(s,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(s,e),d=ys(c);return i&&c.addEventListener("upgradeneeded",p=>{i(ys(c.result),p.oldVersion,p.newVersion,ys(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const UD=["get","getKey","getAll","getAllKeys","count"],zD=["put","add","delete","clear"],qp=new Map;function zT(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=zD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||UD.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return qp.set(e,l),l}MD(s=>({...s,get:(e,t,i)=>zT(e,t)||s.get(e,t,i),has:(e,t)=>!!zT(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function qD(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ig="@firebase/app",BT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new $g("@firebase/app"),jD="@firebase/app-compat",FD="@firebase/analytics-compat",HD="@firebase/analytics",GD="@firebase/app-check-compat",KD="@firebase/app-check",QD="@firebase/auth",YD="@firebase/auth-compat",$D="@firebase/database",XD="@firebase/data-connect",JD="@firebase/database-compat",WD="@firebase/functions",ZD="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",i2="@firebase/messaging-compat",r2="@firebase/performance",s2="@firebase/performance-compat",a2="@firebase/remote-config",o2="@firebase/remote-config-compat",l2="@firebase/storage",u2="@firebase/storage-compat",c2="@firebase/firestore",h2="@firebase/ai",f2="@firebase/firestore-compat",d2="firebase",m2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="[DEFAULT]",p2={[ig]:"fire-core",[jD]:"fire-core-compat",[HD]:"fire-analytics",[FD]:"fire-analytics-compat",[KD]:"fire-app-check",[GD]:"fire-app-check-compat",[QD]:"fire-auth",[YD]:"fire-auth-compat",[$D]:"fire-rtdb",[XD]:"fire-data-connect",[JD]:"fire-rtdb-compat",[WD]:"fire-fn",[ZD]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[i2]:"fire-fcm-compat",[r2]:"fire-perf",[s2]:"fire-perf-compat",[a2]:"fire-rc",[o2]:"fire-rc-compat",[l2]:"fire-gcs",[u2]:"fire-gcs-compat",[c2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[d2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map,g2=new Map,sg=new Map;function qT(s,e){try{s.container.addComponent(e)}catch(t){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Go(s){const e=s.name;if(sg.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,s);for(const t of Vf.values())qT(t,s);for(const t of g2.values())qT(t,s);return!0}function Jg(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function Kn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new hc("app","Firebase",y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=m2;function mS(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const i={name:rg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw _s.create("bad-app-name",{appName:String(a)});if(t||(t=rS()),!t)throw _s.create("no-options");const l=Vf.get(a);if(l){if(Ea(t,l.options)&&Ea(i,l.config))return l;throw _s.create("duplicate-app",{appName:a})}const c=new bD(a);for(const p of sg.values())c.addComponent(p);const d=new _2(t,i,c);return Vf.set(a,d),d}function pS(s=rg){const e=Vf.get(s);if(!e&&s===rg&&rS())return mS();if(!e)throw _s.create("no-app",{appName:s});return e}function vs(s,e,t){let i=p2[s]??s;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(c.join(" "));return}Go(new Ta(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-heartbeat-database",E2=1,Ku="firebase-heartbeat-store";let jp=null;function gS(){return jp||(jp=LD(v2,E2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ku)}catch(t){console.warn(t)}}}}).catch(s=>{throw _s.create("idb-open",{originalErrorMessage:s.message})})),jp}async function T2(s){try{const t=(await gS()).transaction(Ku),i=await t.objectStore(Ku).get(yS(s));return await t.done,i}catch(e){if(e instanceof Sr)_r.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(t.message)}}}async function jT(s,e){try{const i=(await gS()).transaction(Ku,"readwrite");await i.objectStore(Ku).put(e,yS(s)),await i.done}catch(t){if(t instanceof Sr)_r.warn(t.message);else{const i=_s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});_r.warn(i.message)}}}function yS(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=1024,S2=30;class b2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new I2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=FT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>S2){const c=R2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){_r.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FT(),{heartbeatsToSend:i,unsentEntries:a}=w2(this._heartbeatsCache.heartbeats),l=xf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return _r.warn(t),""}}}function FT(){return new Date().toISOString().substring(0,10)}function w2(s,e=A2){const t=[];let i=s.slice();for(const a of s){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),HT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),HT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class I2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?dD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await T2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return jT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return jT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function HT(s){return xf(JSON.stringify({version:2,heartbeats:s})).length}function R2(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let i=1;i<s.length;i++)s[i].date<t&&(t=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(s){Go(new Ta("platform-logger",e=>new BD(e),"PRIVATE")),Go(new Ta("heartbeat",e=>new b2(e),"PRIVATE")),vs(ig,BT,s),vs(ig,BT,"esm2020"),vs("fire-js","")}C2("");var D2="firebase",N2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(D2,N2,"app");var GT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,_S;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(M,x,L){for(var C=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)C[ot-2]=arguments[ot];return w.prototype[x].apply(M,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,w,R){R||(R=0);const M=Array(16);if(typeof w=="string")for(var x=0;x<16;++x)M[x]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(x=0;x<16;++x)M[x]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],x=I.g[2];let L=I.g[3],C;C=w+(L^R&(x^L))+M[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(x^w&(R^x))+M[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=x+(R^L&(w^R))+M[2]+606105819&4294967295,x=L+(C<<17&4294967295|C>>>15),C=R+(w^x&(L^w))+M[3]+3250441966&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(L^R&(x^L))+M[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(x^w&(R^x))+M[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=x+(R^L&(w^R))+M[6]+2821735955&4294967295,x=L+(C<<17&4294967295|C>>>15),C=R+(w^x&(L^w))+M[7]+4249261313&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(L^R&(x^L))+M[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(x^w&(R^x))+M[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=x+(R^L&(w^R))+M[10]+4294925233&4294967295,x=L+(C<<17&4294967295|C>>>15),C=R+(w^x&(L^w))+M[11]+2304563134&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(L^R&(x^L))+M[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(x^w&(R^x))+M[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=x+(R^L&(w^R))+M[14]+2792965006&4294967295,x=L+(C<<17&4294967295|C>>>15),C=R+(w^x&(L^w))+M[15]+1236535329&4294967295,R=x+(C<<22&4294967295|C>>>10),C=w+(x^L&(R^x))+M[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^x&(w^R))+M[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(L^w))+M[11]+643717713&4294967295,x=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(x^L))+M[0]+3921069994&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^L&(R^x))+M[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^x&(w^R))+M[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(L^w))+M[15]+3634488961&4294967295,x=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(x^L))+M[4]+3889429448&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^L&(R^x))+M[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^x&(w^R))+M[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(L^w))+M[3]+4107603335&4294967295,x=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(x^L))+M[8]+1163531501&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(x^L&(R^x))+M[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^x&(w^R))+M[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=x+(w^R&(L^w))+M[7]+1735328473&4294967295,x=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(x^L))+M[12]+2368359562&4294967295,R=x+(C<<20&4294967295|C>>>12),C=w+(R^x^L)+M[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^x)+M[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=x+(L^w^R)+M[11]+1839030562&4294967295,x=L+(C<<16&4294967295|C>>>16),C=R+(x^L^w)+M[14]+4259657740&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^L)+M[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^x)+M[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=x+(L^w^R)+M[7]+4139469664&4294967295,x=L+(C<<16&4294967295|C>>>16),C=R+(x^L^w)+M[10]+3200236656&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^L)+M[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^x)+M[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=x+(L^w^R)+M[3]+3572445317&4294967295,x=L+(C<<16&4294967295|C>>>16),C=R+(x^L^w)+M[6]+76029189&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(R^x^L)+M[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^x)+M[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=x+(L^w^R)+M[15]+530742520&4294967295,x=L+(C<<16&4294967295|C>>>16),C=R+(x^L^w)+M[2]+3299628645&4294967295,R=x+(C<<23&4294967295|C>>>9),C=w+(x^(R|~L))+M[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~x))+M[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=x+(w^(L|~R))+M[14]+2878612391&4294967295,x=L+(C<<15&4294967295|C>>>17),C=R+(L^(x|~w))+M[5]+4237533241&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~L))+M[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~x))+M[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=x+(w^(L|~R))+M[10]+4293915773&4294967295,x=L+(C<<15&4294967295|C>>>17),C=R+(L^(x|~w))+M[1]+2240044497&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~L))+M[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~x))+M[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=x+(w^(L|~R))+M[6]+2734768916&4294967295,x=L+(C<<15&4294967295|C>>>17),C=R+(L^(x|~w))+M[13]+1309151649&4294967295,R=x+(C<<21&4294967295|C>>>11),C=w+(x^(R|~L))+M[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~x))+M[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=x+(w^(L|~R))+M[2]+718787259&4294967295,x=L+(C<<15&4294967295|C>>>17),C=R+(L^(x|~w))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+L&4294967295}i.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,M=this.C;let x=this.h,L=0;for(;L<w;){if(x==0)for(;L<=R;)a(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<w;)if(M[x++]=I.charCodeAt(L++),x==this.blockSize){a(this,M),x=0;break}}else for(;L<w;)if(M[x++]=I[L++],x==this.blockSize){a(this,M),x=0;break}}this.h=x,this.o+=w},i.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)I[w++]=this.g[R]>>>M&255;return I};function l(I,w){var R=d;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function c(I,w){this.h=w;const R=[];let M=!0;for(let x=I.length-1;x>=0;x--){const L=I[x]|0;M&&L==w||(R[x]=L,M=!1)}this.g=R}var d={};function p(I){return-128<=I&&I<128?l(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return P(g(-I));const w=[];let R=1;for(let M=0;I>=R;M++)w[M]=I/R|0,R*=4294967296;return new c(w,0)}function v(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return P(v(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(w,8));let M=T;for(let L=0;L<I.length;L+=8){var x=Math.min(8,I.length-L);const C=parseInt(I.substring(L,L+x),w);x<8?(x=g(Math.pow(w,x)),M=M.j(x).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var T=p(0),S=p(1),N=p(16777216);s=c.prototype,s.m=function(){if(H(this))return-P(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);I+=(M>=0?M:4294967296+M)*w,w*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if(H(this))return"-"+P(this).toString(I);const w=g(Math.pow(I,6));var R=this;let M="";for(;;){const x=ce(R,w).g;R=te(R,x.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=x,j(R))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function H(I){return I.h==-1}s.l=function(I){return I=te(this,I),H(I)?-1:j(I)?0:1};function P(I){const w=I.g.length,R=[];for(let M=0;M<w;M++)R[M]=~I.g[M];return new c(R,~I.h).add(S)}s.abs=function(){return H(this)?P(this):this},s.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let M=0;for(let x=0;x<=w;x++){let L=M+(this.i(x)&65535)+(I.i(x)&65535),C=(L>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);M=C>>>16,L&=65535,C&=65535,R[x]=C<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function te(I,w){return I.add(P(w))}s.j=function(I){if(j(this)||j(I))return T;if(H(this))return H(I)?P(this).j(P(I)):P(P(this).j(I));if(H(I))return P(this.j(P(I)));if(this.l(N)<0&&I.l(N)<0)return g(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var M=0;M<2*w;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<I.g.length;x++){const L=this.i(M)>>>16,C=this.i(M)&65535,ot=I.i(x)>>>16,Pt=I.i(x)&65535;R[2*M+2*x]+=C*Pt,ie(R,2*M+2*x),R[2*M+2*x+1]+=L*Pt,ie(R,2*M+2*x+1),R[2*M+2*x+1]+=C*ot,ie(R,2*M+2*x+1),R[2*M+2*x+2]+=L*ot,ie(R,2*M+2*x+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new c(R,0)};function ie(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function Y(I,w){this.g=I,this.h=w}function ce(I,w){if(j(w))throw Error("division by zero");if(j(I))return new Y(T,T);if(H(I))return w=ce(P(I),w),new Y(P(w.g),P(w.h));if(H(w))return w=ce(I,P(w)),new Y(P(w.g),w.h);if(I.g.length>30){if(H(I)||H(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=w;M.l(I)<=0;)R=de(R),M=de(M);var x=ge(R,1),L=ge(M,1);for(M=ge(M,2),R=ge(R,2);!j(M);){var C=L.add(M);C.l(I)<=0&&(x=x.add(R),L=C),M=ge(M,1),R=ge(R,1)}return w=te(I,x.j(w)),new Y(x,w)}for(x=T;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=g(R),C=L.j(w);H(C)||C.l(I)>0;)R-=M,L=g(R),C=L.j(w);j(L)&&(L=S),x=x.add(L),I=te(I,C)}return new Y(x,I)}s.B=function(I){return ce(this,I).h},s.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)&I.i(M);return new c(R,this.h&I.h)},s.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)|I.i(M);return new c(R,this.h|I.h)},s.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let M=0;M<w;M++)R[M]=this.i(M)^I.i(M);return new c(R,this.h^I.h)};function de(I){const w=I.g.length+1,R=[];for(let M=0;M<w;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new c(R,I.h)}function ge(I,w){const R=w>>5;w%=32;const M=I.g.length-R,x=[];for(let L=0;L<M;L++)x[L]=w>0?I.i(L+R)>>>w|I.i(L+R+1)<<32-w:I.i(L+R);return new c(x,I.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,_S=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Es=c}).apply(typeof GT<"u"?GT:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vS,Nu,ES,mf,ag,TS,AS,SS;(function(){var s,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var E=i;h=h.split(".");for(var b=0;b<h.length-1;b++){var z=h[b];if(!(z in E))break e;E=E[z]}h=h[h.length-1],b=E[h],y=y(b),y!=b&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var E=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&E.push([b,y[b]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(b,z,G){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return y.prototype[z].apply(b,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const y=h.length;if(y>0){const E=Array(y);for(let b=0;b<y;b++)E[b]=h[b];return E}return[]}function j(h,y){for(let b=1;b<arguments.length;b++){const z=arguments[b];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const G=z.length||0;h.length=E+G;for(let re=0;re<G;re++)h[E+re]=z[re]}else h.push(z)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(h){c.setTimeout(()=>{throw h},0)}function te(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,E){const b=Y.get();b.set(y,E),this.h?this.h.next=b:this.g=b,this.h=b}}var Y=new H(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,I=new ie,w=()=>{const h=Promise.resolve(void 0);de=()=>{h.then(R)}};function R(){for(var h;h=te();){try{h.h.call(h.g)}catch(E){P(E)}var y=Y;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function ot(h,y){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(ot,x),ot.prototype.init=function(h,y){const E=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pt="closure_listenable_"+(Math.random()*1e6|0),J=0;function le(h,y,E,b,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!b,this.ha=z,this.key=++J,this.da=this.fa=!1}function Ee(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function qe(h,y,E){for(const b in h)y.call(E,h[b],b,h)}function Qe(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function O(h){const y={};for(const E in h)y[E]=h[E];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let E,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(E in b)h[E]=b[E];for(let G=0;G<ee.length;G++)E=ee[G],Object.prototype.hasOwnProperty.call(b,E)&&(h[E]=b[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,y,E,b,z){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const re=De(h,y,b,z);return re>-1?(y=h[re],E||(y.fa=!1)):(y=new le(y,this.src,G,!!b,z),y.fa=E,h.push(y)),y};function Se(h,y){const E=y.type;if(E in h.g){var b=h.g[E],z=Array.prototype.indexOf.call(b,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(b,z,1),G&&(Ee(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function De(h,y,E,b){for(let z=0;z<h.length;++z){const G=h[z];if(!G.da&&G.listener==y&&G.capture==!!E&&G.ha==b)return z}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),kt={};function lt(h,y,E,b,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)lt(h,y[G],E,b,z);return null}return E=_l(E),h&&h[Pt]?h.J(y,E,d(b)?!!b.capture:!1,z):Ns(h,y,E,!1,b,z)}function Ns(h,y,E,b,z,G){if(!y)throw Error("Invalid event type");const re=d(z)?!!z.capture:!!z;let Re=xs(h);if(Re||(h[ze]=Re=new he(h)),E=Re.add(y,E,b,re,G),E.proxy)return E;if(b=La(),E.proxy=b,b.src=h,b.listener=E,h.addEventListener)L||(z=re),z===void 0&&(z=!1),h.addEventListener(y.toString(),b,z);else if(h.attachEvent)h.attachEvent(mi(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function La(){function h(E){return y.call(h.src,h.listener,E)}const y=gl;return h}function Ua(h,y,E,b,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ua(h,y[G],E,b,z);else b=d(b)?!!b.capture:!!b,E=_l(E),h&&h[Pt]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],E=De(y,E,b,z),E>-1&&(Ee(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=xs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=De(y,E,b,z)),(E=h>-1?y[h]:null)&&za(E))}function za(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Pt])Se(y.i,h);else{var E=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(E,b,h.capture):y.detachEvent?y.detachEvent(mi(E),b):y.addListener&&y.removeListener&&y.removeListener(b),(E=xs(y))?(Se(E,h),E.h==0&&(E.src=null,y[ze]=null)):Ee(h)}}}function mi(h){return h in kt?kt[h]:kt[h]="on"+h}function gl(h,y){if(h.da)h=!0;else{y=new ot(y,this);const E=h.listener,b=h.ha||h.src;h.fa&&za(h),h=E.call(b,y)}return h}function xs(h){return h=h[ze],h instanceof he?h:null}var yl="__closure_events_fn_"+(Math.random()*1e9>>>0);function _l(h){return typeof h=="function"?h:(h[yl]||(h[yl]=function(y){return h.handleEvent(y)}),h[yl])}function St(){M.call(this),this.i=new he(this),this.M=this,this.G=null}T(St,M),St.prototype[Pt]=!0,St.prototype.removeEventListener=function(h,y,E,b){Ua(this,h,y,E,b)};function Lt(h,y){var E,b=h.G;if(b)for(E=[];b;b=b.G)E.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new x(y,h);else if(y instanceof x)y.target=y.target||h;else{var z=y;y=new x(b,h),ue(y,z)}z=!0;let G,re;if(E)for(re=E.length-1;re>=0;re--)G=y.g=E[re],z=Cr(G,b,!0,y)&&z;if(G=y.g=h,z=Cr(G,b,!0,y)&&z,z=Cr(G,b,!1,y)&&z,E)for(re=0;re<E.length;re++)G=y.g=E[re],z=Cr(G,b,!1,y)&&z}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let b=0;b<E.length;b++)Ee(E[b]);delete h.g[y],h.h--}}this.G=null},St.prototype.J=function(h,y,E,b){return this.i.add(String(h),y,!1,E,b)},St.prototype.K=function(h,y,E,b){return this.i.add(String(h),y,!0,E,b)};function Cr(h,y,E,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==E){const Re=re.listener,Et=re.ha||re.src;re.fa&&Se(h.i,re),z=Re.call(Et,b)!==!1&&z}}return z&&!b.defaultPrevented}function xd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Rc(h){h.g=xd(()=>{h.g=null,h.i&&(h.i=!1,Rc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class an extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(h){M.call(this),this.h=h,this.g={}}T(Vs,M);var vl=[];function El(h){qe(h.g,function(y,E){this.g.hasOwnProperty(E)&&za(y)},h),h.g={}}Vs.prototype.N=function(){Vs.Z.N.call(this),El(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dr=c.JSON.stringify,Vd=c.JSON.parse,Cc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Dc(){}function Nc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){x.call(this,"d")}T(Kt,x);function On(){x.call(this,"c")}T(On,x);var vt={},xc=null;function Ba(){return xc=xc||new St}vt.Ia="serverreachability";function Vc(h){x.call(this,vt.Ia,h)}T(Vc,x);function pi(h){const y=Ba();Lt(y,new Vc(y))}vt.STAT_EVENT="statevent";function Os(h,y){x.call(this,vt.STAT_EVENT,h),this.stat=y}T(Os,x);function bt(h){const y=Ba();Lt(y,new Os(y,h))}vt.Ja="timingevent";function gi(h,y){x.call(this,vt.Ja,h),this.size=y}T(gi,x);function yi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Od(h,y,E,b,z,G){h.info(function(){if(h.g)if(G){var re="",Re=G.split("&");for(let He=0;He<Re.length;He++){var Et=Re[He].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Ln=ut.split("_");re=Ln.length>=2&&Ln[1]=="type"?re+(ut+"="+Et+"&"):re+(ut+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+y+`
`+E+`
`+re})}function Oc(h,y,E,b,z,G,re){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+y+`
`+E+`
`+G+" "+re})}function _i(h,y,E,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Md(h,E)+(b?" "+b:"")})}function Ms(h,y){h.info(function(){return"TIMEOUT: "+y})}ei.prototype.info=function(){};function Md(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var E=G[h];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return Dr(G)}catch{return y}}var Ps={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function ks(){}T(ks,Dc),ks.prototype.g=function(){return new XMLHttpRequest},Al=new ks;function Gi(h){return encodeURIComponent(String(h))}function Mc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function ti(h,y,E,b){this.j=h,this.i=y,this.l=E,this.S=b||1,this.V=new Vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var wt={},qt={};function vi(h,y,E){h.M=1,h.A=Ls(Rt(y)),h.u=E,h.R=!0,qa(h,null)}function qa(h,y){h.F=Date.now(),Ei(h),h.B=Rt(h.A);var E=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),Ga(E.i,"t",b),h.C=0,E=h.j.L,h.h=new ni,h.g=$c(h.j,E?y:null,!h.u),h.P>0&&(h.O=new an(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,b=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(vl[0]=z.toString()),z=vl);for(let G=0;G<z.length;G++){const re=lt(E,z[G],b||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),pi(),Od(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const y=this.O;y&&si(h)==3?y.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)e:{const Re=si(this.g),Et=this.g.ya(),He=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Re!=4||Et==7||(Et==8||He<=0?pi(3):pi(2)),Ti(this);var y=this.g.ca();this.X=y;var E=Pd(this);if(this.o=y==200,Oc(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var G=b;break t}}G=null}if(h=G)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,h);else{this.o=!1,this.m=3,bt(12),Tn(this),Mn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=kc(this,E),ut==qt){Re==4&&(this.m=4,bt(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,bt(15),_i(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,ut,null),Ai(this,ut);if(Pc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,bt(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ll(re),re.P=!0,bt(11))}}else _i(this.i,this.l,E,null),Ai(this,E);Re==4&&Tn(this),this.o&&!this.K&&(Re==4?Gc(this.j,this):(this.o=!1,Ei(this)))}else Qi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),Tn(this),Mn(this)}}}catch{}finally{}};function Pd(h){if(!Pc(h))return h.g.la();const y=Qt(h.g);if(y==="")return"";let E="";const b=y.length,z=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),Mn(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<b;G++)h.h.h=!0,E+=h.h.i.decode(y[G],{stream:!(z&&G==b-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Pc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function kc(h,y){var E=h.C,b=y.indexOf(`
`,E);return b==-1?qt:(E=Number(y.substring(E,b)),isNaN(E)?wt:(b+=1,b+E>y.length?qt:(y=y.slice(b,b+E),h.C=b+E,y)))}ti.prototype.cancel=function(){this.K=!0,Tn(this)};function Ei(h){h.T=Date.now()+h.H,ja(h,h.H)}function ja(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=yi(g(h.aa,h),y)}function Ti(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ms(this.i,this.B),this.M!=2&&(pi(),bt(17)),Tn(this),this.m=2,Mn(this)):ja(this,this.T-h)};function Mn(h){h.j.I==0||h.K||Gc(h.j,h)}function Tn(h){Ti(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,El(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ai(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||bi(E.h,h))){if(!h.L&&bi(E.h,h)&&E.I==3){try{var b=E.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Xa(E),Lr(E);else break e;Hs(E),bt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=yi(g(E.Va,E),6e3));Si(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ni(E,11)}else if((h.L||E.g==h)&&Xa(E),!C(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let He=z[y];const ut=He[0];if(!(ut<=E.K))if(E.K=ut,He=He[1],E.I==2)if(He[0]=="c"){E.M=He[1],E.ba=He[2];const Ln=He[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const xi=He[4];xi!=null&&(E.za=xi,E.j.info("SVER="+E.za));const ai=He[5];ai!=null&&typeof ai=="number"&&ai>0&&(b=1.5*ai,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const oi=h.g;if(oi){const Gs=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var G=b.h;G.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(wl(G,G.h),G.h=null))}if(b.G){const Ja=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ja&&(b.wa=Ja,Ye(b.J,b.G,Ja))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var re=h;if(b.na=Yc(b,b.L?b.ba:null,b.W),re.L){Il(b.h,re);var Re=re,Et=b.O;Et&&(Re.H=Et),Re.D&&(Ti(Re),Ei(Re)),b.g=re}else Fc(b);E.i.length>0&&Di(E)}else He[0]!="stop"&&He[0]!="close"||Ni(E,7);else E.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ni(E,7):Pl(E):He[0]!="noop"&&E.l&&E.l.qa(He),E.A=0)}}pi(4)}catch{}}var It=class{constructor(h,y){this.g=h,this.map=y}};function Sl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Si(h){return h.h?1:h.g?h.g.size:0}function bi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function wl(h,y){h.g?h.g.add(y):h.h=y}function Il(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Sl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return N(h.i)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const b=h[E].indexOf("=");let z,G=null;b>=0?(z=h[E].substring(0,b),G=h[E].substring(b+1)):z=h[E],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof An?(this.l=h.l,jt(this,h.j),this.o=h.o,this.g=h.g,Nr(this,h.u),this.h=h.h,Cl(this,qc(h.i)),this.m=h.m):h&&(y=String(h).match(Lc))?(this.l=!1,jt(this,y[1]||"",!0),this.o=wi(y[2]||""),this.g=wi(y[3]||"",!0),Nr(this,y[4]),this.h=wi(y[5]||"",!0),Cl(this,y[6]||"",!0),this.m=wi(y[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}An.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Us(y,Ha,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Us(y,Ha,!0),"@"),h.push(Gi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Us(E,E.charAt(0)=="/"?Dl:Uc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Us(E,zc)),h.join("")},An.prototype.resolve=function(h){const y=Rt(this);let E=!!h.j;E?jt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var b=h.h;if(E)Nr(y,h.u);else if(E=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=y.h.lastIndexOf("/");z!=-1&&(b=y.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const Re=z[re++];Re=="."?b&&re==z.length&&G.push(""):Re==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),b&&re==z.length&&G.push("")):(G.push(Re),b=!0)}b=G.join("/")}else b=z}return E?y.h=b:E=h.i.toString()!=="",E?Cl(y,qc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Rt(h){return new An(h)}function jt(h,y,E){h.j=E?wi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Nr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Cl(h,y,E){y instanceof Vr?(h.i=y,Ka(h.i,h.l)):(E||(y=Us(y,xr)),h.i=new Vr(y,h.l))}function Ye(h,y,E){h.i.set(y,E)}function Ls(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function wi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ha=/[#\/\?@]/g,Uc=/[#\?:]/g,Dl=/[#\?]/g,xr=/[#\?@]/g,zc=/#/g;function Vr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Fa(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}s=Vr.prototype,s.add=function(h,y){dn(this),this.i=null,h=Or(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function Bc(h,y){dn(h),y=Or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Nl(h,y){return dn(h),y=Or(h,y),h.g.has(y)}s.forEach=function(h,y){dn(this),this.g.forEach(function(E,b){E.forEach(function(z){h.call(y,z,b,this)},this)},this)};function xl(h,y){dn(h);let E=[];if(typeof y=="string")Nl(h,y)&&(E=E.concat(h.g.get(Or(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}s.set=function(h,y){return dn(this),this.i=null,h=Or(this,h),Nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},s.get=function(h,y){return h?(h=xl(this,h),h.length>0?String(h[0]):y):y};function Ga(h,y,E){Bc(h,y),E.length>0&&(h.i=null,h.g.set(Or(h,y),N(E)),h.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var E=y[b];const z=Gi(E);E=xl(this,E);for(let G=0;G<E.length;G++){let re=z;E[G]!==""&&(re+="="+Gi(E[G])),h.push(re)}}return this.i=h.join("&")};function qc(h){const y=new Vr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ka(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(E,b){const z=b.toLowerCase();b!=z&&(Bc(this,b),Ga(this,z,E))},h)),h.j=y}function ii(h,y){const E=new ei;if(c.Image){const b=new Image;b.onload=v(Pn,E,"TestLoadImage: loaded",!0,y,b),b.onerror=v(Pn,E,"TestLoadImage: error",!1,y,b),b.onabort=v(Pn,E,"TestLoadImage: abort",!1,y,b),b.ontimeout=v(Pn,E,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Vl(h,y){const E=new ei,b=new AbortController,z=setTimeout(()=>{b.abort(),Pn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(G=>{clearTimeout(z),G.ok?Pn(E,"TestPingServer: ok",!0,y):Pn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Pn(E,"TestPingServer: error",!1,y)})}function Pn(h,y,E,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(E)}catch{}}function Mr(){this.g=new Cc}function Ii(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Ii,Dc),Ii.prototype.g=function(){return new zs(this.i,this.h)};function zs(h,y){St.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(zs,St),s=zs.prototype,s.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ri(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Pr(this):ri(this),this.readyState==3&&Qa(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Pr(this))},s.Na=function(h){this.g&&(this.response=h,Pr(this))},s.ga=function(){this.g&&Pr(this)};function Pr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ri(h)}s.setRequestHeader=function(h,y){this.A.append(h,y)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function kn(h){let y="";return qe(h,function(E,b){y+=b,y+=":",y+=E,y+=`\r
`}),y}function Bs(h,y,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=kn(E),typeof h=="string"?E!=null&&Gi(E):Ye(h,y,E))}function et(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,St);var Ri=/^https?$/i,Ol=["POST","PUT"];s=et.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,y,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){qs(this,G);return}if(h=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)E.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())E.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ol,y,void 0)>=0)||b||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of E)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){qs(this,G)}};function qs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Ml(h),Ki(h)}function Ml(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),et.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},s.Xa=function(){js(this)};function js(h){if(h.h&&typeof l<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),si(h)==4){h.h=!1;try{const G=h.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var b;if(b=G===0){let re=String(h.D).match(Lc)[1]||null;!re&&c.self&&c.self.location&&(re=c.self.location.protocol.slice(0,-1)),b=!Ri.test(re?re.toLowerCase():"")}E=b}if(E)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var z=si(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Ml(h)}}finally{Ki(h)}}}}function Ki(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Lt(h,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Vd(y)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(h){const y={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(C(h[b]))continue;var E=Mc(h[b]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=y[z]||[];y[z]=G,G.push(E)}Qe(y,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function kr(h){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,h),this.Za=Ci("retryDelaySeedMs",1e4,h),this.Ta=Ci("forwardChannelMaxRetries",2,h),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(h&&h.concurrentRequestLimit),this.Ba=new Mr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=kr.prototype,s.ka=8,s.I=1,s.connect=function(h,y,E,b){bt(0),this.W=h,this.H=y||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Yc(this,null,this.W),Di(this)};function Pl(h){if(Ya(h),h.I==3){var y=h.V++,E=Rt(h.J);if(Ye(E,"SID",h.M),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),Fs(h,E),y=new ti(h,h.j,y),y.M=2,y.A=Ls(Rt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=$c(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ei(y)}Qc(h)}function Lr(h){h.g&&(Ll(h),h.g.cancel(),h.g=null)}function Ya(h){Lr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Xa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Di(h){if(!bl(h.h)&&!h.m){h.m=!0;var y=h.Ea;de||w(),ge||(de(),ge=!0),I.add(y,h),h.D=0}}function $a(h,y){return Si(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=yi(g(h.Ea,h,y),Kc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new ti(this,this.j,h);let G=this.o;if(this.U&&(G?(G=O(G),ue(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=jc(this,z,y),E=Rt(this.J),Ye(E,"RID",h),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Fs(this,E),G&&(this.R?y="headers="+Gi(kn(G))+"&"+y:this.u&&Bs(E,this.u,G)),wl(this.h,z),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",y),Ye(E,"SID","null"),z.U=!0,vi(z,E,null)):vi(z,E,y),this.I=2}}else this.I==3&&(h?kl(this,h):this.i.length==0||bl(this.h)||kl(this))};function kl(h,y){var E;y?E=y.l:E=h.V++;const b=Rt(h.J);Ye(b,"SID",h.M),Ye(b,"RID",E),Ye(b,"AID",h.K),Fs(h,b),h.u&&h.o&&Bs(b,h.u,h.o),E=new ti(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=jc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),wl(h.h,E),vi(E,b,y)}function Fs(h,y){h.H&&qe(h.H,function(E,b){Ye(y,b,E)}),h.l&&qe({},function(E,b){Ye(y,b,E)})}function jc(h,y,E){E=Math.min(h.i.length,E);const b=h.l?g(h.l.Ka,h.l,h):null;e:{var z=h.i;let Re=-1;for(;;){const Et=["count="+E];Re==-1?E>0?(Re=z[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let He=!0;for(let ut=0;ut<E;ut++){var G=z[ut].g;const Ln=z[ut].map;if(G-=Re,G<0)Re=Math.max(0,z[ut].g-100),He=!1;else try{G="req"+G+"_"||"";try{var re=Ln instanceof Map?Ln:Object.entries(Ln);for(const[xi,ai]of re){let oi=ai;d(ai)&&(oi=Dr(ai)),Et.push(G+xi+"="+encodeURIComponent(oi))}}catch(xi){throw Et.push(G+"type="+encodeURIComponent("_badmap")),xi}}catch{b&&b(Ln)}}if(He){re=Et.join("&");break e}}re=void 0}return h=h.i.splice(0,E),y.G=h,re}function Fc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;de||w(),ge||(de(),ge=!0),I.add(y,h),h.A=0}}function Hs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=yi(g(h.Da,h),Kc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=yi(g(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Lr(this),Hc(this))};function Ll(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Hc(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Rt(h.na);Ye(y,"RID","rpc"),Ye(y,"SID",h.M),Ye(y,"AID",h.K),Ye(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(y,"TO",h.ia),Ye(y,"TYPE","xmlhttp"),Fs(h,y),h.u&&h.o&&Bs(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ls(Rt(y)),E.u=null,E.R=!0,qa(E,h)}s.Va=function(){this.C!=null&&(this.C=null,Lr(this),Hs(this),bt(19))};function Xa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Gc(h,y){var E=null;if(h.g==y){Xa(h),Ll(h),h.g=null;var b=2}else if(bi(h.h,y))E=y.G,Il(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;b=Ba(),Lt(b,new gi(b,E)),Di(h)}else Fc(h);else if(z=y.m,z==3||z==0&&y.X>0||!(b==1&&$a(h,y)||b==2&&Hs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function Kc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ni(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),b=h.Ua;const z=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||jt(b,"https"),Ls(b),z?ii(b.toString(),E):Vl(b.toString(),E)}else bt(2);h.I=0,h.l&&h.l.pa(y),Qc(h),Ya(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Qc(h){if(h.I=0,h.ja=[],h.l){const y=Rl(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Yc(h,y,E){var b=E instanceof An?Rt(E):new An(E);if(b.g!="")y&&(b.g=y+"."+b.g),Nr(b,b.u);else{var z=c.location;b=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new An(null);b&&jt(G,b),y&&(G.g=y),z&&Nr(G,z),E&&(G.h=E),b=G}return E=h.G,y=h.wa,E&&y&&Ye(b,E,y),Ye(b,"VER",h.ka),Fs(h,b),b}function $c(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new et(new Ii({ab:E})):new et(h.ma),y.Fa(h.L),y}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xc(){}s=Xc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ur(){}Ur.prototype.g=function(h,y){return new on(h,y)};function on(h,y){St.call(this),this.g=new kr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Yi(this)}T(on,St),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Pl(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Dr(h),h=E);y.i.push(new It(y.Ya++,h)),y.I==3&&Di(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,on.Z.N.call(this)};function Jc(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Jc,Kt);function Wc(){On.call(this),this.status=1}T(Wc,On);function Yi(h){this.g=h}T(Yi,Xc),Yi.prototype.ra=function(){Lt(this.g,"a")},Yi.prototype.qa=function(h){Lt(this.g,new Jc(h))},Yi.prototype.pa=function(h){Lt(this.g,new Wc)},Yi.prototype.oa=function(){Lt(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,SS=function(){return new Ur},AS=function(){return Ba()},TS=vt,ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,mf=Ps,Tl.COMPLETE="complete",ES=Tl,Nc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",St.prototype.listen=St.prototype.J,Nu=Nc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,vS=et}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const KT="@firebase/firestore",QT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new $g("@firebase/firestore");function Mo(){return Aa.logLevel}function ne(s,...e){if(Aa.logLevel<=ke.DEBUG){const t=e.map(Wg);Aa.debug(`Firestore (${hl}): ${s}`,...t)}}function un(s,...e){if(Aa.logLevel<=ke.ERROR){const t=e.map(Wg);Aa.error(`Firestore (${hl}): ${s}`,...t)}}function Sa(s,...e){if(Aa.logLevel<=ke.WARN){const t=e.map(Wg);Aa.warn(`Firestore (${hl}): ${s}`,...t)}}function Wg(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(s,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,bS(s,i,t)}function bS(s,e,t){let i=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw un(i),new Error(i)}function ye(s,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,s||bS(e,a,i)}function we(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Wt.UNAUTHENTICATED)))}shutdown(){}}class V2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class O2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ye(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},d=p=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye(typeof i.accessToken=="string",31837,{l:i}),new wS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class M2{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ye(this.o===void 0,3512);const i=l=>{l.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new YT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<s;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=L2(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function be(s,e){return s<e?-1:s>e?1:0}function og(s,e){const t=Math.min(s.length,e.length);for(let i=0;i<t;i++){const a=s.charAt(i),l=e.charAt(i);if(a!==l)return Fp(a)===Fp(l)?be(a,l):Fp(a)?1:-1}return be(s.length,e.length)}const U2=55296,z2=57343;function Fp(s){const e=s.charCodeAt(0);return e>=U2&&e<=z2}function Ko(s,e,t){return s.length===e.length&&s.every(((i,a)=>t(i,e[a])))}function IS(s){return s+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__name__";class ki{constructor(e,t,i){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&me(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ki.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return be(e.length,t.length)}static compareSegments(e,t){const i=ki.isNumericId(e),a=ki.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ki.extractNumericId(e).compare(ki.extractNumericId(t)):og(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class Ke extends ki{construct(e,t,i){return new Ke(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Ke(t)}static emptyPath(){return new Ke([])}}const B2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends ki{construct(e,t,i){return new mt(e,t,i)}static isValidIdentifier(e){return B2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$T}static keyField(){return new mt([$T])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(t)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ke.fromString(e))}static fromName(e){return new oe(Ke.fromString(e).popFirst(5))}static empty(){return new oe(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(s,e,t){if(!t)throw new ae(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function q2(s,e,t,i){if(e===!0&&i===!0)throw new ae(X.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function XT(s){if(!oe.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function JT(s){if(oe.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function CS(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function rd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":me(12329,{type:typeof s})}function $n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rd(s);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(s,e){const t={typeString:s};return e&&(t.value=e),t}function dc(s,e){if(!CS(s))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in s)){t=`JSON missing required field: '${i}'`;break}const c=s[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ae(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-62135596800,ZT=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ZT);return new Je(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WT)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZT}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dc(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Ot("string",Je._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new Je(0,0))}static max(){return new ve(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=-1;class Of{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function lg(s){return s.fields.find((e=>e.kind===2))}function ua(s){return s.fields.filter((e=>e.kind!==2))}Of.UNKNOWN_ID=-1;class pf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yu(0,Vn.min())}}function j2(s,e){const t=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,a=ve.fromTimestamp(i===1e9?new Je(t+1,0):new Je(t,i));return new Vn(a,oe.empty(),e)}function DS(s){return new Vn(s.readTime,s.key,Qu)}class Vn{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Vn(ve.min(),oe.empty(),Qu)}static max(){return new Vn(ve.max(),oe.empty(),Qu)}}function ey(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=oe.comparator(s.documentKey,e.documentKey),t!==0?t:be(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==NS)throw s;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new U(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof U?t:U.resolve(t)}catch(t){return U.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):U.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):U.reject(t)}static resolve(e){return new U(((t,i)=>{t(e)}))}static reject(e){return new U(((t,i)=>{i(e)}))}static waitFor(e){return new U(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(p=>i(p)))})),c=!0,l===a&&t()}))}static or(e){let t=U.resolve(!1);for(const i of e)t=t.next((a=>a?U.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new U(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new U(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="SimpleDb";class sd{static open(e,t,i,a){try{return new sd(t,e.transaction(a,i))}catch(l){throw new ku(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new pr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ku(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=ty(i.target.error);this.S.reject(new ku(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ne(Nn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new H2(t)}}class Ts{static delete(e){return ne(Nn,"Removing database:",e),ha(nS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!hS())return!1;if(Ts.F())return!0;const e=zt(),t=Ts.M(e),i=0<t&&t<10,a=VS(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,Ts.M(zt())===12.2&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ne(Nn,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{i(new ku(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new ae(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new ae(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new ku(e,c))},a.onupgradeneeded=l=>{ne(Nn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{ne(Nn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=sd.open(this.db,e,l?"readonly":"readwrite",i),p=a(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),U.reject(g)))).toPromise();return p.catch((()=>{})),await d.D,p}catch(d){const p=d,g=p.name!=="FirebaseError"&&c<3;if(ne(Nn,"Transaction failed with error:",p.message,"Retrying:",g),this.close(),!g)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function VS(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class F2{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ha(this.U.delete())}}class ku extends ae{constructor(e,t){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Cs(s){return s.name==="IndexedDbTransactionError"}class H2{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(ne(Nn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(ne(Nn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ha(i)}add(e){return ne(Nn,"ADD",this.store.name,e,e),ha(this.store.add(e))}get(e){return ha(this.store.get(e)).next((t=>(t===void 0&&(t=null),ne(Nn,"GET",this.store.name,e,t),t)))}delete(e){return ne(Nn,"DELETE",this.store.name,e),ha(this.store.delete(e))}count(){return ne(Nn,"COUNT",this.store.name),ha(this.store.count())}J(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new U(((c,d)=>{l.onerror=p=>{d(p.target.error)},l.onsuccess=p=>{c(p.target.result)}}))}{const l=this.cursor(i),c=[];return this.H(l,((d,p)=>{c.push(p)})).next((()=>c))}}Y(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new U(((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){ne(Nn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const a=this.cursor(i);return this.H(a,((l,c,d)=>d.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.H(a,t)}te(e){const t=this.cursor({});return new U(((i,a)=>{t.onerror=l=>{const c=ty(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():i()})):i()}}))}H(e,t){const i=[];return new U(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const p=new F2(d),g=t(d.primaryKey,d.value,p);if(g instanceof U){const v=g.catch((T=>(p.done(),U.reject(T))));i.push(v)}p.isDone?a():p.G===null?d.continue():d.continue(p.G)}})).next((()=>U.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ha(s){return new U(((e,t)=>{s.onsuccess=i=>{const a=i.target.result;e(a)},s.onerror=i=>{const a=ty(i.target.error);t(a)}}))}let e0=!1;function ty(s){const e=Ts.M(zt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(t)>=0){const i=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return e0||(e0=!0,setTimeout((()=>{throw i}),0)),i}}return s}const Lu="IndexBackfiller";class G2{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ne(Lu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ne(Lu,`Documents written: ${t}`)}catch(t){Cs(t)?ne(Lu,"Ignoring IndexedDB error during index backfill: ",t):await Oa(t)}await this.re(6e4)}))}}class K2{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,l=!0;return U.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return ne(Lu,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,i.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((d=>(ne(Lu,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,l)=>{const c=DS(l);ey(c,i)>0&&(i=c)})),new Vn(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=-1;function ad(s){return s==null}function $u(s){return s===0&&1/s==-1/0}function Q2(s){return typeof s=="number"&&Number.isInteger(s)&&!$u(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="";function sn(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=t0(e)),e=Y2(s.get(t),e);return t0(e)}function Y2(s,e){let t=e;const i=s.length;for(let a=0;a<i;a++){const l=s.charAt(a);switch(l){case"\0":t+="";break;case Mf:t+="";break;default:t+=l}}return t}function t0(s){return s+Mf+""}function Li(s){const e=s.length;if(ye(e>=2,64408,{path:s}),e===2)return ye(s.charAt(0)===Mf&&s.charAt(1)==="",56145,{path:s}),Ke.emptyPath();const t=e-2,i=[];let a="";for(let l=0;l<e;){const c=s.indexOf(Mf,l);switch((c<0||c>t)&&me(50515,{path:s}),s.charAt(c+1)){case"":const d=s.substring(l,c);let p;a.length===0?p=d:(a+=d,p=a,a=""),i.push(p);break;case"":a+=s.substring(l,c),a+="\0";break;case"":a+=s.substring(l,c+1);break;default:me(61167,{path:s})}l=c+2}return new Ke(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="remoteDocuments",mc="owner",Co="owner",Xu="mutationQueues",$2="userId",hi="mutations",n0="batchId",pa="userMutationsIndex",i0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(s,e){return[s,sn(e)]}function OS(s,e,t){return[s,sn(e),t]}const X2={},Qo="documentMutations",Pf="remoteDocumentsV14",J2=["prefixPath","collectionGroup","readTime","documentId"],yf="documentKeyIndex",W2=["prefixPath","collectionGroup","documentId"],MS="collectionGroupIndex",Z2=["collectionGroup","readTime","prefixPath","documentId"],Ju="remoteDocumentGlobal",ug="remoteDocumentGlobalKey",Yo="targets",PS="queryTargetsIndex",eN=["canonicalId","targetId"],$o="targetDocuments",tN=["targetId","path"],ny="documentTargetsIndex",nN=["path","targetId"],kf="targetGlobalKey",ya="targetGlobal",Wu="collectionParents",iN=["collectionId","parent"],Xo="clientMetadata",rN="clientId",od="bundles",sN="bundleId",ld="namedQueries",aN="name",iy="indexConfiguration",oN="indexId",cg="collectionGroupIndex",lN="collectionGroup",Uu="indexState",uN=["indexId","uid"],kS="sequenceNumberIndex",cN=["uid","sequenceNumber"],zu="indexEntries",hN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LS="documentKeyIndex",fN=["indexId","uid","orderedDocumentKey"],ud="documentOverlays",dN=["userId","collectionPath","documentId"],hg="collectionPathOverlayIndex",mN=["userId","collectionPath","largestBatchId"],US="collectionGroupOverlayIndex",pN=["userId","collectionGroup","largestBatchId"],ry="globals",gN="name",zS=[Xu,hi,Qo,ca,Yo,mc,ya,$o,Xo,Ju,Wu,od,ld],yN=[...zS,ud],BS=[Xu,hi,Qo,Pf,Yo,mc,ya,$o,Xo,Ju,Wu,od,ld,ud],qS=BS,sy=[...qS,iy,Uu,zu],_N=sy,jS=[...sy,ry],vN=jS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends xS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Bt(s,e){const t=we(s);return Ts.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ds(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function FS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Zt.RED,this.left=a??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Zt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Zt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ze)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ze(this.comparator);return t.data=e,t}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Do(s){return s.hasNext()?s.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new En([])}unionWith(e){let t=new Ze(mt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new HS("Invalid base64 string: "+l):l}})(e);return new Mt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const EN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(s){if(ye(!!s,39018),typeof s=="string"){let e=0;const t=EN.exec(s);if(ye(!!t,46558,{timestamp:s}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ht(s.seconds),nanos:ht(s.nanos)}}function ht(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Er(s){return typeof s=="string"?Mt.fromBase64String(s):Mt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="server_timestamp",KS="__type__",QS="__previous_value__",YS="__local_write_time__";function ay(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[KS])==null?void 0:i.stringValue)===GS}function cd(s){const e=s.mapValue.fields[QS];return ay(e)?cd(e):e}function Zu(s){const e=vr(s.mapValue.fields[YS].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t,i,a,l,c,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Lf="(default)";class ba{constructor(e,t){this.projectId=e,this.database=t||Lf}static empty(){return new ba("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(e){return e instanceof ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="__type__",$S="__max__",gs={mapValue:{fields:{__type__:{stringValue:$S}}}},ly="__vector__",Jo="value",_f={nullValue:"NULL_VALUE"};function Ss(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ay(s)?4:XS(s)?9007199254740991:hd(s)?10:11:me(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const t=Ss(s);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zu(s).isEqual(Zu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=vr(a.timestampValue),d=vr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(a,l){return Er(a.bytesValue).isEqual(Er(l.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(a,l){return ht(a.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(a.geoPointValue.longitude)===ht(l.geoPointValue.longitude)})(s,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ht(a.integerValue)===ht(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ht(a.doubleValue),d=ht(l.doubleValue);return c===d?$u(c)===$u(d):isNaN(c)&&isNaN(d)}return!1})(s,e);case 9:return Ko(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(r0(c)!==r0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Fi(c[p],d[p])))return!1;return!0})(s,e);default:return me(52216,{left:s})}}function ec(s,e){return(s.values||[]).find((t=>Fi(t,e)))!==void 0}function bs(s,e){if(s===e)return 0;const t=Ss(s),i=Ss(e);if(t!==i)return be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(s.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=ht(l.integerValue||l.doubleValue),p=ht(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(s,e);case 3:return a0(s.timestampValue,e.timestampValue);case 4:return a0(Zu(s),Zu(e));case 5:return og(s.stringValue,e.stringValue);case 6:return(function(l,c){const d=Er(l),p=Er(c);return d.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=be(d[g],p[g]);if(v!==0)return v}return be(d.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=be(ht(l.latitude),ht(c.latitude));return d!==0?d:be(ht(l.longitude),ht(c.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return o0(s.arrayValue,e.arrayValue);case 10:return(function(l,c){var S,N,j,H;const d=l.fields||{},p=c.fields||{},g=(S=d[Jo])==null?void 0:S.arrayValue,v=(N=p[Jo])==null?void 0:N.arrayValue,T=be(((j=g==null?void 0:g.values)==null?void 0:j.length)||0,((H=v==null?void 0:v.values)==null?void 0:H.length)||0);return T!==0?T:o0(g,v)})(s.mapValue,e.mapValue);case 11:return(function(l,c){if(l===gs.mapValue&&c===gs.mapValue)return 0;if(l===gs.mapValue)return 1;if(c===gs.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=og(p[T],v[T]);if(S!==0)return S;const N=bs(d[p[T]],g[v[T]]);if(N!==0)return N}return be(p.length,v.length)})(s.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function a0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return be(s,e);const t=vr(s),i=vr(e),a=be(t.seconds,i.seconds);return a!==0?a:be(t.nanos,i.nanos)}function o0(s,e){const t=s.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=bs(t[a],i[a]);if(l)return l}return be(t.length,i.length)}function Wo(s){return dg(s)}function dg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const i=vr(t);return`time(${i.seconds},${i.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return Er(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return oe.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=dg(l);return i+"]"})(s.arrayValue):"mapValue"in s?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${dg(t.fields[c])}`;return a+"}"})(s.mapValue):me(61005,{value:s})}function vf(s){switch(Ss(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(s);return e?16+vf(e):16;case 5:return 2*s.stringValue.length;case 6:return Er(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+vf(l)),0)})(s.arrayValue);case 10:case 11:return(function(i){let a=0;return Ds(i.fields,((l,c)=>{a+=l.length+vf(c)})),a})(s.mapValue);default:throw me(13486,{value:s})}}function tc(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function mg(s){return!!s&&"integerValue"in s}function nc(s){return!!s&&"arrayValue"in s}function l0(s){return!!s&&"nullValue"in s}function u0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ef(s){return!!s&&"mapValue"in s}function hd(s){var t,i;return((i=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[oy])==null?void 0:i.stringValue)===ly}function Bu(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ds(s.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Bu(i))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bu(s.arrayValue.values[t]);return e}return{...s}}function XS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$S}const JS={mapValue:{fields:{[oy]:{stringValue:ly},[Jo]:{arrayValue:{}}}}};function AN(s){return"nullValue"in s?_f:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?tc(ba.empty(),oe.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?hd(s)?JS:{mapValue:{}}:me(35942,{value:s})}function SN(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?tc(ba.empty(),oe.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?JS:"mapValue"in s?hd(s)?{mapValue:{}}:gs:me(61959,{value:s})}function c0(s,e){const t=bs(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function h0(s,e){const t=bs(s.value,e.value);return t!==0?t:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(t)}setAll(e){let t=mt.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Bu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Ef(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ds(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new rn(Bu(this.value))}}function WS(s){const e=[];return Ds(s.fields,((t,i)=>{const a=new mt([t]);if(Ef(i)){const l=WS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new yt(e,0,ve.min(),ve.min(),ve.min(),rn.empty(),0)}static newFoundDocument(e,t,i,a){return new yt(e,1,t,ve.min(),i,a,0)}static newNoDocument(e,t){return new yt(e,2,t,ve.min(),ve.min(),rn.empty(),0)}static newUnknownDocument(e,t){return new yt(e,3,t,ve.min(),ve.min(),rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){this.position=e,this.inclusive=t}}function f0(s,e,t){let i=0;for(let a=0;a<s.position.length;a++){const l=e[a],c=s.position[a];if(l.field.isKeyField()?i=oe.comparator(oe.fromName(c.referenceValue),t.key):i=bs(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function d0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Fi(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function bN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{}class Le extends ZS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new wN(e,t,i):t==="array-contains"?new CN(e,i):t==="in"?new sb(e,i):t==="not-in"?new DN(e,i):t==="array-contains-any"?new NN(e,i):new Le(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new IN(e,i):new RN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bs(t,this.value)):t!==null&&Ss(this.value)===Ss(t)&&this.matchesComparison(bs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class We extends ZS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new We(e,t)}matches(e){return el(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function el(s){return s.op==="and"}function pg(s){return s.op==="or"}function uy(s){return eb(s)&&el(s)}function eb(s){for(const e of s.filters)if(e instanceof We)return!1;return!0}function gg(s){if(s instanceof Le)return s.field.canonicalString()+s.op.toString()+Wo(s.value);if(uy(s))return s.filters.map((e=>gg(e))).join(",");{const e=s.filters.map((t=>gg(t))).join(",");return`${s.op}(${e})`}}function tb(s,e){return s instanceof Le?(function(i,a){return a instanceof Le&&i.op===a.op&&i.field.isEqual(a.field)&&Fi(i.value,a.value)})(s,e):s instanceof We?(function(i,a){return a instanceof We&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&tb(c,a.filters[d])),!0):!1})(s,e):void me(19439)}function nb(s,e){const t=s.filters.concat(e);return We.create(t,s.op)}function ib(s){return s instanceof Le?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wo(t.value)}`})(s):s instanceof We?(function(t){return t.op.toString()+" {"+t.getFilters().map(ib).join(" ,")+"}"})(s):"Filter"}class wN extends Le{constructor(e,t,i){super(e,t,i),this.key=oe.fromName(i.referenceValue)}matches(e){const t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class IN extends Le{constructor(e,t){super(e,"in",t),this.keys=rb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class RN extends Le{constructor(e,t){super(e,"not-in",t),this.keys=rb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function rb(s,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>oe.fromName(i.referenceValue)))}class CN extends Le{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nc(t)&&ec(t.arrayValue,this.value)}}class sb extends Le{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ec(this.value.arrayValue,t)}}class DN extends Le{constructor(e,t){super(e,"not-in",t)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ec(this.value.arrayValue,t)}}class NN extends Le{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>ec(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function yg(s,e=null,t=[],i=[],a=null,l=null,c=null){return new xN(s,e,t,i,a,l,c)}function wa(s){const e=we(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>gg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Wo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Wo(i))).join(",")),e.Te=t}return e.Te}function pc(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!bN(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!tb(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!d0(s.startAt,e.startAt)&&d0(s.endAt,e.endAt)}function Uf(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function zf(s,e){return s.filters.filter((t=>t instanceof Le&&t.field.isEqual(e)))}function m0(s,e,t){let i=_f,a=!0;for(const l of zf(s,e)){let c=_f,d=!0;switch(l.op){case"<":case"<=":c=AN(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=_f}c0({value:i,inclusive:a},{value:c,inclusive:d})<0&&(i=c,a=d)}if(t!==null){for(let l=0;l<s.orderBy.length;++l)if(s.orderBy[l].field.isEqual(e)){const c=t.position[l];c0({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function p0(s,e,t){let i=gs,a=!0;for(const l of zf(s,e)){let c=gs,d=!0;switch(l.op){case">=":case">":c=SN(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=gs}h0({value:i,inclusive:a},{value:c,inclusive:d})>0&&(i=c,a=d)}if(t!==null){for(let l=0;l<s.orderBy.length;++l)if(s.orderBy[l].field.isEqual(e)){const c=t.position[l];h0({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VN(s,e,t,i,a,l,c,d){return new fl(s,e,t,i,a,l,c,d)}function gc(s){return new fl(s)}function g0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ab(s){return s.collectionGroup!==null}function qu(s){const e=we(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ze(mt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ic(l,i))})),t.has(mt.keyField().canonicalString())||e.Ie.push(new ic(mt.keyField(),i))}return e.Ie}function Xn(s){const e=we(s);return e.Ee||(e.Ee=ON(e,qu(s))),e.Ee}function ON(s,e){if(s.limitType==="F")return yg(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new ic(a.field,l)}));const t=s.endAt?new Zo(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Zo(s.startAt.position,s.startAt.inclusive):null;return yg(s.path,s.collectionGroup,e,s.filters,s.limit,t,i)}}function _g(s,e){const t=s.filters.concat([e]);return new fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function vg(s,e,t){return new fl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function fd(s,e){return pc(Xn(s),Xn(e))&&s.limitType===e.limitType}function ob(s){return`${wa(Xn(s))}|lt:${s.limitType}`}function Po(s){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>ib(a))).join(", ")}]`),ad(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wo(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wo(a))).join(",")),`Target(${i})`})(Xn(s))}; limitType=${s.limitType})`}function yc(s,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):oe.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(s,e)&&(function(i,a){for(const l of qu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(s,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(s,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,p){const g=f0(c,d,p);return c.inclusive?g<=0:g<0})(i.startAt,qu(i),a)||i.endAt&&!(function(c,d,p){const g=f0(c,d,p);return c.inclusive?g>=0:g>0})(i.endAt,qu(i),a))})(s,e)}function MN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function lb(s){return(e,t)=>{let i=!1;for(const a of qu(s)){const l=PN(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function PN(s,e,t){const i=s.field.isKeyField()?oe.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?bs(p,g):me(42886)})(s.field,e,t);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return me(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return FS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new dt(oe.comparator);function xn(){return kN}const ub=new dt(oe.comparator);function xu(...s){let e=ub;for(const t of s)e=e.insert(t.key,t);return e}function cb(s){let e=ub;return s.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ui(){return ju()}function hb(){return ju()}function ju(){return new br((s=>s.toString()),((s,e)=>s.isEqual(e)))}const LN=new dt(oe.comparator),UN=new Ze(oe.comparator);function xe(...s){let e=UN;for(const t of s)e=e.add(t);return e}const zN=new Ze(be);function BN(){return zN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function fb(s){return{integerValue:""+s}}function qN(s,e){return Q2(e)?fb(e):cy(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function jN(s,e,t){return s instanceof tl?(function(a,l){const c={fields:{[KS]:{stringValue:GS},[YS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ay(l)&&(l=cd(l)),l&&(c.fields[QS]=l),{mapValue:c}})(t,e):s instanceof nl?mb(s,e):s instanceof il?pb(s,e):(function(a,l){const c=db(a,l),d=y0(c)+y0(a.Ae);return mg(c)&&mg(a.Ae)?fb(d):cy(a.serializer,d)})(s,e)}function FN(s,e,t){return s instanceof nl?mb(s,e):s instanceof il?pb(s,e):t}function db(s,e){return s instanceof rc?(function(i){return mg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class tl extends dd{}class nl extends dd{constructor(e){super(),this.elements=e}}function mb(s,e){const t=gb(e);for(const i of s.elements)t.some((a=>Fi(a,i)))||t.push(i);return{arrayValue:{values:t}}}class il extends dd{constructor(e){super(),this.elements=e}}function pb(s,e){let t=gb(e);for(const i of s.elements)t=t.filter((a=>!Fi(a,i)));return{arrayValue:{values:t}}}class rc extends dd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function y0(s){return ht(s.integerValue||s.doubleValue)}function gb(s){return nc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t){this.field=e,this.transform=t}}function HN(s,e){return s.field.isEqual(e.field)&&(function(i,a){return i instanceof nl&&a instanceof nl||i instanceof il&&a instanceof il?Ko(i.elements,a.elements,Fi):i instanceof rc&&a instanceof rc?Fi(i.Ae,a.Ae):i instanceof tl&&a instanceof tl})(s.transform,e.transform)}class GN{constructor(e,t){this.version=e,this.transformResults=t}}class cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class md{}function _b(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hy(s.key,cn.none()):new dl(s.key,s.data,cn.none());{const t=s.data,i=rn.empty();let a=new Ze(mt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new wr(s.key,i,new En(a.toArray()),cn.none())}}function KN(s,e,t){s instanceof dl?(function(a,l,c){const d=a.value.clone(),p=v0(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(s,e,t):s instanceof wr?(function(a,l,c){if(!Tf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=v0(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(vb(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(s,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Fu(s,e,t,i){return s instanceof dl?(function(l,c,d,p){if(!Tf(l.precondition,c))return d;const g=l.value.clone(),v=E0(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(s,e,t,i):s instanceof wr?(function(l,c,d,p){if(!Tf(l.precondition,c))return d;const g=E0(l.fieldTransforms,p,c),v=c.data;return v.setAll(vb(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(s,e,t,i):(function(l,c,d){return Tf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(s,e,t)}function QN(s,e){let t=null;for(const i of s.fieldTransforms){const a=e.data.field(i.field),l=db(i.transform,a||null);l!=null&&(t===null&&(t=rn.empty()),t.set(i.field,l))}return t||null}function _0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Ko(i,a,((l,c)=>HN(l,c)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class dl extends md{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class wr extends md{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vb(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=s.data.field(t);e.set(t,i)}})),e}function v0(s,e,t){const i=new Map;ye(s.length===t.length,32656,{Re:t.length,Ve:s.length});for(let a=0;a<t.length;a++){const l=s[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,FN(c,d,t[a]))}return i}function E0(s,e,t){const i=new Map;for(const a of s){const l=a.transform,c=t.data.field(a.field);i.set(a.field,jN(l,c,e))}return i}class hy extends md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb extends md{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&KN(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Fu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Fu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=hb();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=_b(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(ve.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xe())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((t,i)=>_0(t,i)))&&Ko(this.baseMutations,e.baseMutations,((t,i)=>_0(t,i)))}}class dy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ye(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return LN})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new dy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Be;function $N(s){switch(s){case X.OK:return me(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return me(15467,{code:s})}}function Tb(s){if(s===void 0)return un("GRPC error has no .code"),X.UNKNOWN;switch(s){case Vt.OK:return X.OK;case Vt.CANCELLED:return X.CANCELLED;case Vt.UNKNOWN:return X.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return X.INTERNAL;case Vt.UNAVAILABLE:return X.UNAVAILABLE;case Vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Vt.NOT_FOUND:return X.NOT_FOUND;case Vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Vt.ABORTED:return X.ABORTED;case Vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Vt.DATA_LOSS:return X.DATA_LOSS;default:return me(39323,{code:s})}}(Be=Vt||(Vt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Es([4294967295,4294967295],0);function T0(s){const e=XN().encode(s),t=new _S;return t.update(e),new Uint8Array(t.digest())}function A0(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Es([t,i],0),new Es([a,l],0)]}class py{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vu(`Invalid padding: ${t}`);if(i<0)throw new Vu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Es.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Es.fromNumber(i)));return a.compare(JN)===1&&(a=new Es([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=T0(e),[i,a]=A0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new py(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=T0(e),[i,a]=A0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,_c.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pd(ve.min(),a,new dt(be),xn(),xe())}}class _c{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new _c(i,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class Ab{constructor(e,t){this.targetId=e,this.Ce=t}}class Sb{constructor(e,t,i=Mt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class S0{constructor(){this.ve=0,this.Fe=b0(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),t=xe(),i=xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:me(38017,{changeType:l})}})),new _c(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=b0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WN{constructor(e){this.Ge=e,this.ze=new Map,this.je=xn(),this.Je=af(),this.He=af(),this.Ye=new dt(be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Uf(l))if(i===0){const c=new oe(l.path);this.et(t,c,yt.newNoDocument(c,ve.min()))}else ye(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Er(i).toUint8Array()}catch(p){if(p instanceof HS)return Sa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new py(c,a,l)}catch(p){return Sa(p instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Uf(d.target)){const p=new oe(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,yt.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=xe();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new pd(e,t,this.Ye,this.je,i);return this.je=xn(),this.Je=af(),this.He=af(),this.Ye=new dt(be),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new S0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ze(be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ze(be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new S0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function af(){return new dt(oe.comparator)}function b0(){return new dt(oe.comparator)}const ZN={asc:"ASCENDING",desc:"DESCENDING"},ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tx={and:"AND",or:"OR"};class nx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eg(s,e){return s.useProto3Json||ad(e)?e:{value:e}}function rl(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ix(s,e){return rl(s,e.toTimestamp())}function hn(s){return ye(!!s,49232),ve.fromTimestamp((function(t){const i=vr(t);return new Je(i.seconds,i.nanos)})(s))}function gy(s,e){return Tg(s,e).canonicalString()}function Tg(s,e){const t=(function(a){return new Ke(["projects",a.projectId,"databases",a.database])})(s).child("documents");return e===void 0?t:t.child(e)}function wb(s){const e=Ke.fromString(s);return ye(Mb(e),10190,{key:e.toString()}),e}function Bf(s,e){return gy(s.databaseId,e.path)}function _a(s,e){const t=wb(e);if(t.get(1)!==s.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new oe(Cb(t))}function Ib(s,e){return gy(s.databaseId,e)}function Rb(s){const e=wb(s);return e.length===4?Ke.emptyPath():Cb(e)}function Ag(s){return new Ke(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Cb(s){return ye(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function w0(s,e,t){return{name:Bf(s,e),fields:t.value.mapValue.fields}}function rx(s,e,t){const i=_a(s,e.name),a=hn(e.updateTime),l=e.createTime?hn(e.createTime):ve.min(),c=new rn({mapValue:{fields:e.fields}}),d=yt.newFoundDocument(i,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function sx(s,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:me(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(ye(v===void 0||typeof v=="string",58123),Mt.fromBase64String(v||"")):(ye(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Mt.fromUint8Array(v||new Uint8Array))})(s,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?X.UNKNOWN:Tb(g.code);return new ae(v,g.message||"")})(c);t=new Sb(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=_a(s,i.document.name),l=hn(i.document.updateTime),c=i.document.createTime?hn(i.document.createTime):ve.min(),d=new rn({mapValue:{fields:i.document.fields}}),p=yt.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Af(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=_a(s,i.document),l=i.readTime?hn(i.readTime):ve.min(),c=yt.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Af([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=_a(s,i.document),l=i.removedTargetIds||[];t=new Af([],l,a,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new YN(a,l),d=i.targetId;t=new Ab(d,c)}}return t}function qf(s,e){let t;if(e instanceof dl)t={update:w0(s,e.key,e.value)};else if(e instanceof hy)t={delete:Bf(s,e.key)};else if(e instanceof wr)t={update:w0(s,e.key,e.data),updateMask:hx(e.fieldMask)};else{if(!(e instanceof Eb))return me(16599,{Vt:e.type});t={verify:Bf(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof tl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof il)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof rc)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw me(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:ix(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:me(27497)})(s,e.precondition)),t}function Sg(s,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?cn.updateTime(hn(l.updateTime)):l.exists!==void 0?cn.exists(l.exists):cn.none()})(e.currentDocument):cn.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let p=null;if("setToServerValue"in d)ye(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),p=new tl;else if("appendMissingElements"in d){const v=d.appendMissingElements.values||[];p=new nl(v)}else if("removeAllFromArray"in d){const v=d.removeAllFromArray.values||[];p=new il(v)}else"increment"in d?p=new rc(c,d.increment):me(16584,{proto:d});const g=mt.fromServerFormat(d.fieldPath);return new yb(g,p)})(s,a))):[];if(e.update){e.update.name;const a=_a(s,e.update.name),l=new rn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(p){const g=p.fieldPaths||[];return new En(g.map((v=>mt.fromServerFormat(v))))})(e.updateMask);return new wr(a,l,c,t,i)}return new dl(a,l,t,i)}if(e.delete){const a=_a(s,e.delete);return new hy(a,t)}if(e.verify){const a=_a(s,e.verify);return new Eb(a,t)}return me(1463,{proto:e})}function ax(s,e){return s&&s.length>0?(ye(e!==void 0,14353),s.map((t=>(function(a,l){let c=a.updateTime?hn(a.updateTime):hn(l);return c.isEqual(ve.min())&&(c=hn(l)),new GN(c,a.transformResults||[])})(t,e)))):[]}function Db(s,e){return{documents:[Ib(s,e.path)]}}function Nb(s,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Ib(s,a);const l=(function(g){if(g.length!==0)return Ob(We.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:ko(S.field),direction:lx(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Eg(s,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function xb(s){let e=Rb(s.parent);const t=s.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ye(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(T){const S=Vb(T);return S instanceof We&&uy(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((S=>(function(j){return new ic(Lo(j.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,ad(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,N=T.values||[];return new Zo(N,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const S=!T.before,N=T.values||[];return new Zo(N,S)})(t.endAt)),VN(e,a,c,l,d,"F",p,g)}function ox(s,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Vb(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Lo(t.unaryFilter.field);return Le.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(t.unaryFilter.field);return Le.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(t.unaryFilter.field);return Le.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(t.unaryFilter.field);return Le.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(s):s.fieldFilter!==void 0?(function(t){return Le.create(Lo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return We.create(t.compositeFilter.filters.map((i=>Vb(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(s):me(30097,{filter:s})}function lx(s){return ZN[s]}function ux(s){return ex[s]}function cx(s){return tx[s]}function ko(s){return{fieldPath:s.canonicalString()}}function Lo(s){return mt.fromServerFormat(s.fieldPath)}function Ob(s){return s instanceof Le?(function(t){if(t.op==="=="){if(u0(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(l0(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(u0(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(l0(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:ux(t.op),value:t.value}}})(s):s instanceof We?(function(t){const i=t.getFilters().map((a=>Ob(a)));return i.length===1?i[0]:{compositeFilter:{op:cx(t.op),filters:i}}})(s):me(54877,{filter:s})}function hx(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Mb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t,i,a,l=ve.min(),c=ve.min(),d=Mt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.yt=e}}function fx(s,e){let t;if(e.document)t=rx(s.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=oe.fromSegments(e.noDocument.path),a=Ra(e.noDocument.readTime);t=yt.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return me(56709);{const i=oe.fromSegments(e.unknownDocument.path),a=Ra(e.unknownDocument.version);t=yt.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const l=new Je(a[0],a[1]);return ve.fromTimestamp(l)})(e.readTime)),t}function I0(s,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(l,c){return{name:Bf(l,c.key),fields:c.data.value.mapValue.fields,updateTime:rl(l,c.version.toTimestamp()),createTime:rl(l,c.createTime.toTimestamp())}})(s.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ia(e.version)};else{if(!e.isUnknownDocument())return me(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:Ia(e.version)}}return i}function jf(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Ia(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ra(s){const e=new Je(s.seconds,s.nanoseconds);return ve.fromTimestamp(e)}function fa(s,e){const t=(e.baseMutations||[]).map((l=>Sg(s.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map((l=>Sg(s.yt,l))),a=Je.fromMillis(e.localWriteTimeMs);return new fy(e.batchId,a,t,i)}function Ou(s){const e=Ra(s.readTime),t=s.lastLimboFreeSnapshotVersion!==void 0?Ra(s.lastLimboFreeSnapshotVersion):ve.min();let i;return i=(function(l){return l.documents!==void 0})(s.query)?(function(l){const c=l.documents.length;return ye(c===1,1966,{count:c}),Xn(gc(Rb(l.documents[0])))})(s.query):(function(l){return Xn(xb(l))})(s.query),new hr(i,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,t,Mt.fromBase64String(s.resumeToken))}function kb(s,e){const t=Ia(e.snapshotVersion),i=Ia(e.lastLimboFreeSnapshotVersion);let a;a=Uf(e.target)?Db(s.yt,e.target):Nb(s.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wa(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function Lb(s){const e=xb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vg(e,e.limit,"L"):e}function Hp(s,e){return new my(e.largestBatchId,Sg(s.yt,e.overlayMutation))}function R0(s,e){const t=e.path.lastSegment();return[s,sn(e.path.popLast()),t]}function C0(s,e,t,i){return{indexId:s,uid:e,sequenceNumber:t,readTime:Ia(i.readTime),documentKey:sn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{getBundleMetadata(e,t){return D0(e).get(t).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:Ra(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(e,t){return D0(e).put((function(a){return{bundleId:a.id,createTime:Ia(hn(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return N0(e).get(t).next((i=>{if(i)return(function(l){return{name:l.name,query:Lb(l.bundledQuery),readTime:Ra(l.readTime)}})(i)}))}saveNamedQuery(e,t){return N0(e).put((function(a){return{name:a.name,readTime:Ia(hn(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function D0(s){return Bt(s,od)}function N0(s){return Bt(s,ld)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new gd(e,i)}getOverlay(e,t){return Su(e).get(R0(this.userId,t)).next((i=>i?Hp(this.serializer,i):null))}getOverlays(e,t){const i=Ui();return U.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((l,c)=>{const d=new my(t,c);a.push(this.St(e,d))})),U.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((c=>a.add(sn(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(Su(e).Z(hg,d))})),U.waitFor(l)}getOverlaysForCollection(e,t,i){const a=Ui(),l=sn(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Su(e).J(hg,c).next((d=>{for(const p of d){const g=Hp(this.serializer,p);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const l=Ui();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Su(e).ee({index:US,range:d},((p,g,v)=>{const T=Hp(this.serializer,g);l.size()<a||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):v.done()})).next((()=>l))}St(e,t){return Su(e).put((function(a,l,c){const[d,p,g]=R0(l,c.mutation.key);return{userId:l,collectionPath:p,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:qf(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Su(s){return Bt(s,ud)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{bt(e){return Bt(e,ry)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const i=t==null?void 0:t.value;return i?Mt.fromUint8Array(i):Mt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ht(e.integerValue));else if("doubleValue"in e){const i=ht(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),$u(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=vr(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Er(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?XS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):hd(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):me(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){var c,d;const i=e.fields||{};this.Ft(t,53);const a=Jo,l=((d=(c=i[a].arrayValue)==null?void 0:c.values)==null?void 0:d.length)||0;this.Ft(t,15),t.Mt(ht(l)),this.Ot(a,t),this.Ct(i[a],t)}Qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),oe.fromName(e).path.forEach((i=>{this.Ft(t,60),this.Ut(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}da.Kt=new da;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=255;function px(s){if(s===0)return 8;let e=0;return s>>4||(e+=4,s<<=4),s>>6||(e+=2,s<<=2),s>>7||(e+=1),e}function x0(s){const e=64-(function(i){let a=0;for(let l=0;l<8;++l){const c=px(255&i[l]);if(a+=c,c!==8)break}return a})(s);return Math.ceil(e/8)}class gx{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Ht()}Yt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),i=x0(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=x0(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(No),this.sn(255)}_n(){this.an(No),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===No?(this.sn(No),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===No?(this.an(No),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class yx{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class _x{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class bu{constructor(){this.cn=new gx,this.ln=new yx(this.cn),this.hn=new _x(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,i,a){this.Tn=e,this.In=t,this.En=i,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new ma(this.Tn,this.In,this.En,i)}Rn(e,t,i){return{indexId:this.Tn,uid:e,arrayValue:Sf(this.En),directionalValue:Sf(this.dn),orderedDocumentKey:Sf(t),documentKey:i.path.toArray()}}Vn(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function os(s,e){let t=s.Tn-e.Tn;return t!==0?t:(t=V0(s.En,e.En),t!==0?t:(t=V0(s.dn,e.dn),t!==0?t:oe.comparator(s.In,e.In)))}function V0(s,e){for(let t=0;t<s.length&&t<e.length;++t){const i=s[t]-e[t];if(i!==0)return i}return s.length-e.length}function Sf(s){return cS()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(s):s}function O0(s){return typeof s!="string"?s:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(s)}class M0{constructor(e){this.mn=new Ze(((t,i)=>mt.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const i=t;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(e){if(ye(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=lg(e);if(t!==void 0&&!this.wn(t))return!1;const i=ua(e);let a=new Set,l=0,c=0;for(;l<i.length&&this.wn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const p=i[l];if(!this.Sn(d,p)||!this.bn(this.fn[c++],p))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new Ze(mt.comparator);const t=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new pf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new pf(i.field,0))}for(const i of this.fn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new pf(i.field,i.dir==="asc"?0:1)));return new Of(Of.UNKNOWN_ID,this.collectionId,t,Yu.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(s){var t,i;if(ye(s instanceof Le||s instanceof We,20012),s instanceof Le){if(s instanceof sb){const a=((i=(t=s.value.arrayValue)==null?void 0:t.values)==null?void 0:i.map((l=>Le.create(s.field,"==",l))))||[];return We.create(a,"or")}return s}const e=s.filters.map((a=>Ub(a)));return We.create(e,s.op)}function vx(s){if(s.getFilters().length===0)return[];const e=Ig(Ub(s));return ye(zb(e),7391),bg(e)||wg(e)?[e]:e.getFilters()}function bg(s){return s instanceof Le}function wg(s){return s instanceof We&&uy(s)}function zb(s){return bg(s)||wg(s)||(function(t){if(t instanceof We&&pg(t)){for(const i of t.getFilters())if(!bg(i)&&!wg(i))return!1;return!0}return!1})(s)}function Ig(s){if(ye(s instanceof Le||s instanceof We,34018),s instanceof Le)return s;if(s.filters.length===1)return Ig(s.filters[0]);const e=s.filters.map((i=>Ig(i)));let t=We.create(e,s.op);return t=Ff(t),zb(t)?t:(ye(t instanceof We,64498),ye(el(t),40251),ye(t.filters.length>1,57927),t.filters.reduce(((i,a)=>yy(i,a))))}function yy(s,e){let t;return ye(s instanceof Le||s instanceof We,38388),ye(e instanceof Le||e instanceof We,25473),t=s instanceof Le?e instanceof Le?(function(a,l){return We.create([a,l],"and")})(s,e):P0(s,e):e instanceof Le?P0(e,s):(function(a,l){if(ye(a.filters.length>0&&l.filters.length>0,48005),el(a)&&el(l))return nb(a,l.getFilters());const c=pg(a)?a:l,d=pg(a)?l:a,p=c.filters.map((g=>yy(g,d)));return We.create(p,"or")})(s,e),Ff(t)}function P0(s,e){if(el(e))return nb(e,s.getFilters());{const t=e.filters.map((i=>yy(s,i)));return We.create(t,"or")}}function Ff(s){if(ye(s instanceof Le||s instanceof We,11850),s instanceof Le)return s;const e=s.getFilters();if(e.length===1)return Ff(e[0]);if(eb(s))return s;const t=e.map((a=>Ff(a))),i=[];return t.forEach((a=>{a instanceof Le?i.push(a):a instanceof We&&(a.op===s.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:We.create(i,s.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.Cn=new _y}addToCollectionParentIndex(e,t){return this.Cn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(Vn.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(Vn.min())}updateCollectionGroup(e,t,i){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}}class _y{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Ze(Ke.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ze(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="IndexedDbIndexManager",of=new Uint8Array(0);class Tx{constructor(e,t){this.databaseId=t,this.vn=new _y,this.Fn=new br((i=>wa(i)),((i,a)=>pc(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const l={collectionId:i,parent:sn(a)};return L0(e).put(l)}return U.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[IS(t),""],!1,!0);return L0(e).J(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;i.push(Li(c.parent))}return i}))}addFieldIndex(e,t){const i=wu(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((p=>[p.fieldPath.canonicalString(),p.kind]))}})(t);delete a.indexId;const l=i.add(a);if(t.indexState){const c=Vo(e);return l.next((d=>{c.put(C0(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const i=wu(e),a=Vo(e),l=xo(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=wu(e),i=xo(e),a=Vo(e);return t.Z().next((()=>i.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return U.forEach(this.Mn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const l=new M0(i).Dn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const i=xo(e);let a=!0;const l=new Map;return U.forEach(this.Mn(t),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=xe();const d=[];return U.forEach(l,((p,g)=>{ne(k0,`Using index ${(function(Y){return`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map((ce=>`${ce.fieldPath}:${ce.kind}`)).join(",")}`})(p)} to execute ${wa(t)}`);const v=(function(Y,ce){const de=lg(ce);if(de===void 0)return null;for(const ge of zf(Y,de.fieldPath))switch(ge.op){case"array-contains-any":return ge.value.arrayValue.values||[];case"array-contains":return[ge.value]}return null})(g,p),T=(function(Y,ce){const de=new Map;for(const ge of ua(ce))for(const I of zf(Y,ge.fieldPath))switch(I.op){case"==":case"in":de.set(ge.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return de.set(ge.fieldPath.canonicalString(),I.value),Array.from(de.values())}return null})(g,p),S=(function(Y,ce){const de=[];let ge=!0;for(const I of ua(ce)){const w=I.kind===0?m0(Y,I.fieldPath,Y.startAt):p0(Y,I.fieldPath,Y.startAt);de.push(w.value),ge&&(ge=w.inclusive)}return new Zo(de,ge)})(g,p),N=(function(Y,ce){const de=[];let ge=!0;for(const I of ua(ce)){const w=I.kind===0?p0(Y,I.fieldPath,Y.endAt):m0(Y,I.fieldPath,Y.endAt);de.push(w.value),ge&&(ge=w.inclusive)}return new Zo(de,ge)})(g,p),j=this.On(p,g,S),H=this.On(p,g,N),P=this.Nn(p,g,T),te=this.Bn(p.indexId,v,j,S.inclusive,H,N.inclusive,P);return U.forEach(te,(ie=>i.Y(ie,t.limit).next((Y=>{Y.forEach((ce=>{const de=oe.fromSegments(ce.documentKey);c.has(de)||(c=c.add(de),d.push(de))}))}))))})).next((()=>d))}return U.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=vx(We.create(e.filters,"and")).map((i=>yg(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,i,a,l,c,d){const p=(t!=null?t.length:1)*Math.max(i.length,l.length),g=p/(t!=null?t.length:1),v=[];for(let T=0;T<p;++T){const S=t?this.Ln(t[T/g]):of,N=this.kn(e,S,i[T%g],a),j=this.qn(e,S,l[T%g],c),H=d.map((P=>this.kn(e,S,P,!0)));v.push(...this.createRange(N,j,H))}return v}kn(e,t,i,a){const l=new ma(e,oe.empty(),t,i);return a?l:l.An()}qn(e,t,i,a){const l=new ma(e,oe.empty(),t,i);return a?l.An():l}xn(e,t){const i=new M0(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const d of l)i.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let i=2;const a=this.Mn(t);return U.forEach(a,(l=>this.xn(e,l).next((c=>{c?i!==0&&c.fields.length<(function(p){let g=new Ze(mt.comparator),v=!1;for(const T of p.filters)for(const S of T.getFlattenedFilters())S.field.isKeyField()||(S.op==="array-contains"||S.op==="array-contains-any"?v=!0:g=g.add(S.field));for(const T of p.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(v?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&i===2?1:i))}Qn(e,t){const i=new bu;for(const a of ua(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=i.Pn(a.kind);da.Kt.Dt(l,c)}return i.un()}Ln(e){const t=new bu;return da.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const i=new bu;return da.Kt.Dt(tc(this.databaseId,t),i.Pn((function(l){const c=ua(l);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}Nn(e,t,i){if(i===null)return[];let a=[];a.push(new bu);let l=0;for(const c of ua(e)){const d=i[l++];for(const p of a)if(this.Un(t,c.fieldPath)&&nc(d))a=this.Kn(a,c,d);else{const g=p.Pn(c.kind);da.Kt.Dt(d,g)}}return this.Wn(a)}On(e,t,i){return this.Nn(e,t,i.position)}Wn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Kn(e,t,i){const a=[...e],l=[];for(const c of i.arrayValue.values||[])for(const d of a){const p=new bu;p.seed(d.un()),da.Kt.Dt(c,p.Pn(t.kind)),l.push(p)}return l}Un(e,t){return!!e.filters.find((i=>i instanceof Le&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=wu(e),a=Vo(e);return(t?i.J(cg,IDBKeyRange.bound(t,t)):i.J()).next((l=>{const c=[];return U.forEach(l,(d=>a.get([d.indexId,this.uid]).next((p=>{c.push((function(v,T){const S=T?new Yu(T.sequenceNumber,new Vn(Ra(T.readTime),new oe(Li(T.documentKey)),T.largestBatchId)):Yu.empty(),N=v.fields.map((([j,H])=>new pf(mt.fromServerFormat(j),H)));return new Of(v.indexId,v.collectionGroup,N,S)})(d,p))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:be(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=wu(e),l=Vo(e);return this.Gn(e).next((c=>a.J(cg,IDBKeyRange.bound(t,t)).next((d=>U.forEach(d,(p=>l.put(C0(p.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return U.forEach(t,((a,l)=>{const c=i.get(a.collectionGroup);return(c?U.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(i.set(a.collectionGroup,d),U.forEach(d,(p=>this.zn(e,a,p).next((g=>{const v=this.jn(l,p);return g.isEqual(v)?U.resolve():this.Jn(e,l,p,g,v)})))))))}))}Hn(e,t,i,a){return xo(e).put(a.Rn(this.uid,this.$n(i,t.key),t.key))}Yn(e,t,i,a){return xo(e).delete(a.Vn(this.uid,this.$n(i,t.key),t.key))}zn(e,t,i){const a=xo(e);let l=new Ze(os);return a.ee({index:LS,range:IDBKeyRange.only([i.indexId,this.uid,Sf(this.$n(i,t))])},((c,d)=>{l=l.add(new ma(i.indexId,t,O0(d.arrayValue),O0(d.directionalValue)))})).next((()=>l))}jn(e,t){let i=new Ze(os);const a=this.Qn(t,e);if(a==null)return i;const l=lg(t);if(l!=null){const c=e.data.field(l.fieldPath);if(nc(c))for(const d of c.arrayValue.values||[])i=i.add(new ma(t.indexId,e.key,this.Ln(d),a))}else i=i.add(new ma(t.indexId,e.key,of,a));return i}Jn(e,t,i,a,l){ne(k0,"Updating index entries for document '%s'",t.key);const c=[];return(function(p,g,v,T,S){const N=p.getIterator(),j=g.getIterator();let H=Do(N),P=Do(j);for(;H||P;){let te=!1,ie=!1;if(H&&P){const Y=v(H,P);Y<0?ie=!0:Y>0&&(te=!0)}else H!=null?ie=!0:te=!0;te?(T(P),P=Do(j)):ie?(S(H),H=Do(N)):(H=Do(N),P=Do(j))}})(a,l,os,(d=>{c.push(this.Hn(e,t,i,d))}),(d=>{c.push(this.Yn(e,t,i,d))})),U.waitFor(c)}Gn(e){let t=1;return Vo(e).ee({index:kS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,d)=>os(c,d))).filter(((c,d,p)=>!d||os(c,p[d-1])!==0));const a=[];a.push(e);for(const c of i){const d=os(c,e),p=os(c,t);if(d===0)a[0]=e.An();else if(d>0&&p<0)a.push(c),a.push(c.An());else if(p>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,of,oe.empty()),p=a[c+1].Vn(this.uid,of,oe.empty());l.push(IDBKeyRange.bound(d,p))}return l}Zn(e,t){return os(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(U0)}getMinOffset(e,t){return U.mapArray(this.Mn(t),(i=>this.xn(e,i).next((a=>a||me(44426))))).next(U0)}}function L0(s){return Bt(s,Wu)}function xo(s){return Bt(s,zu)}function wu(s){return Bt(s,iy)}function Vo(s){return Bt(s,Uu)}function U0(s){ye(s.length!==0,28825);let e=s[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<s.length;i++){const a=s[i].indexState.offset;ey(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Vn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bb=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(s,e,t){const i=s.store(hi),a=s.store(Qo),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const p=i.ee({range:c},((v,T,S)=>(d++,S.delete())));l.push(p.next((()=>{ye(d===1,47070,{batchId:t.batchId})})));const g=[];for(const v of t.mutations){const T=OS(e,v.key.path,t.batchId);l.push(a.delete(T)),g.push(v.key)}return U.waitFor(l).next((()=>g))}function Hf(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw me(14731);e=s.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Bb,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);class yd{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Xn={}}static wt(e,t,i,a){ye(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new yd(l,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).ee({index:pa,range:i},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const l=Uo(e),c=ls(e);return c.add({}).next((d=>{ye(typeof d=="number",49019);const p=new fy(d,t,i,a),g=(function(N,j,H){const P=H.baseMutations.map((ie=>qf(N.yt,ie))),te=H.mutations.map((ie=>qf(N.yt,ie)));return{userId:j,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:P,mutations:te}})(this.serializer,this.userId,p),v=[];let T=new Ze(((S,N)=>be(S.canonicalString(),N.canonicalString())));for(const S of a){const N=OS(this.userId,S.key.path,d);T=T.add(S.key.path.popLast()),v.push(c.put(g)),v.push(l.put(N,X2))}return T.forEach((S=>{v.push(this.indexManager.addToCollectionParentIndex(e,S))})),e.addOnCommittedListener((()=>{this.Xn[d]=p.keys()})),U.waitFor(v).next((()=>p))}))}lookupMutationBatch(e,t){return ls(e).get(t).next((i=>i?(ye(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),fa(this.serializer,i)):null))}er(e,t){return this.Xn[t]?U.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return ls(e).ee({index:pa,range:a},((c,d,p)=>{d.userId===this.userId&&(ye(d.batchId>=i,47524,{tr:i}),l=fa(this.serializer,d)),p.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=ga;return ls(e).ee({index:pa,range:t,reverse:!0},((a,l,c)=>{i=l.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,ga],[this.userId,Number.POSITIVE_INFINITY]);return ls(e).J(pa,t).next((i=>i.map((a=>fa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=gf(this.userId,t.path),a=IDBKeyRange.lowerBound(i),l=[];return Uo(e).ee({range:a},((c,d,p)=>{const[g,v,T]=c,S=Li(v);if(g===this.userId&&t.path.isEqual(S))return ls(e).get(T).next((N=>{if(!N)throw me(61480,{nr:c,batchId:T});ye(N.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:N.userId,batchId:T}),l.push(fa(this.serializer,N))}));p.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ze(be);const a=[];return t.forEach((l=>{const c=gf(this.userId,l.path),d=IDBKeyRange.lowerBound(c),p=Uo(e).ee({range:d},((g,v,T)=>{const[S,N,j]=g,H=Li(N);S===this.userId&&l.path.isEqual(H)?i=i.add(j):T.done()}));a.push(p)})),U.waitFor(a).next((()=>this.rr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,l=gf(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new Ze(be);return Uo(e).ee({range:c},((p,g,v)=>{const[T,S,N]=p,j=Li(S);T===this.userId&&i.isPrefixOf(j)?j.length===a&&(d=d.add(N)):v.done()})).next((()=>this.rr(e,d)))}rr(e,t){const i=[],a=[];return t.forEach((l=>{a.push(ls(e).get(l).next((c=>{if(c===null)throw me(35274,{batchId:l});ye(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(fa(this.serializer,c))})))})),U.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return qb(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),U.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return U.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Uo(e).ee({range:i},((l,c,d)=>{if(l[0]===this.userId){const p=Li(l[1]);a.push(p)}else d.done()})).next((()=>{ye(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return jb(e,this.userId,t)}_r(e){return Fb(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:ga,lastStreamToken:""}))}}function jb(s,e,t){const i=gf(e,t.path),a=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return Uo(s).ee({range:l,X:!0},((d,p,g)=>{const[v,T,S]=d;v===e&&T===a&&(c=!0),g.done()})).next((()=>c))}function ls(s){return Bt(s,hi)}function Uo(s){return Bt(s,Qo)}function Fb(s){return Bt(s,Xu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ca(0)}static cr(){return new Ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const i=new Ca(t.highestTargetId);return t.highestTargetId=i.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>ve.fromTimestamp(new Je(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((i=>(i.targetCount+=1,this.Tr(t,i),this.hr(e,i))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Oo(e).delete(t.targetId))).next((()=>this.lr(e))).next((i=>(ye(i.targetCount>0,8065),i.targetCount-=1,this.hr(e,i))))}removeTargets(e,t,i){let a=0;const l=[];return Oo(e).ee(((c,d)=>{const p=Ou(d);p.sequenceNumber<=t&&i.get(p.targetId)===null&&(a++,l.push(this.removeTargetData(e,p)))})).next((()=>U.waitFor(l))).next((()=>a))}forEachTarget(e,t){return Oo(e).ee(((i,a)=>{const l=Ou(a);t(l)}))}lr(e){return B0(e).get(kf).next((t=>(ye(t!==null,2888),t)))}hr(e,t){return B0(e).put(kf,t)}Pr(e,t){return Oo(e).put(kb(this.serializer,t))}Tr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const i=wa(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Oo(e).ee({range:a,index:PS},((c,d,p)=>{const g=Ou(d);pc(t,g.target)&&(l=g,p.done())})).next((()=>l))}addMatchingKeys(e,t,i){const a=[],l=hs(e);return t.forEach((c=>{const d=sn(c.path);a.push(l.put({targetId:i,path:d})),a.push(this.referenceDelegate.addReference(e,i,c))})),U.waitFor(a)}removeMatchingKeys(e,t,i){const a=hs(e);return U.forEach(t,(l=>{const c=sn(l.path);return U.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])}))}removeMatchingKeysForTargetId(e,t){const i=hs(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=hs(e);let l=xe();return a.ee({range:i,X:!0},((c,d,p)=>{const g=Li(c[1]),v=new oe(g);l=l.add(v)})).next((()=>l))}containsKey(e,t){const i=sn(t.path),a=IDBKeyRange.bound([i],[IS(i)],!1,!0);let l=0;return hs(e).ee({index:ny,X:!0,range:a},(([c,d],p,g)=>{c!==0&&(l++,g.done())})).next((()=>l>0))}At(e,t){return Oo(e).get(t).next((i=>i?Ou(i):null))}}function Oo(s){return Bt(s,Yo)}function B0(s){return Bt(s,ya)}function hs(s){return Bt(s,$o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="LruGarbageCollector",Sx=1048576;function j0([s,e],[t,i]){const a=be(s,t);return a===0?be(e,i):a}class bx{constructor(e){this.Ir=e,this.buffer=new Ze(j0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();j0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hb{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(q0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Cs(t)?ne(q0,"Ignoring IndexedDB error during garbage collection: ",t):await Oa(t)}await this.Vr(3e5)}))}}class wx{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return U.resolve(Yn.ce);const i=new bx(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(z0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,d=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(g=Date.now(),Mo()<=ke.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function Gb(s,e){return new wx(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t){this.db=e,this.garbageCollector=Gb(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((i,a)=>t(a)))}addReference(e,t,i){return lf(e,i)}removeReference(e,t,i){return lf(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return lf(e,t)}br(e,t){return(function(a,l){let c=!1;return Fb(a).te((d=>jb(a,d,l).next((p=>(p&&(c=!0),U.resolve(!p)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(e,((c,d)=>{if(d<=t){const p=this.br(e,c).next((g=>{if(!g)return l++,i.getEntry(e,c).next((()=>(i.removeEntry(c,ve.min()),hs(e).delete((function(T){return[0,sn(T.path)]})(c)))))}));a.push(p)}})).next((()=>U.waitFor(a))).next((()=>i.apply(e))).next((()=>l))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return lf(e,t)}Sr(e,t){const i=hs(e);let a,l=Yn.ce;return i.ee({index:ny},(([c,d],{path:p,sequenceNumber:g})=>{c===0?(l!==Yn.ce&&t(new oe(Li(a)),l),l=g,a=p):l=Yn.ce})).next((()=>{l!==Yn.ce&&t(new oe(Li(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lf(s,e){return hs(s).put((function(i,a){return{targetId:0,path:sn(i.path),sequenceNumber:a}})(e,s.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.changes=new br((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?U.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return oa(e).put(i)}removeEntry(e,t,i){return oa(e).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],jf(c),d[d.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Dr(e,i))))}getEntry(e,t){let i=yt.newInvalidDocument(t);return oa(e).ee({index:yf,range:IDBKeyRange.only(Iu(t))},((a,l)=>{i=this.Cr(t,l)})).next((()=>i))}vr(e,t){let i={size:0,document:yt.newInvalidDocument(t)};return oa(e).ee({index:yf,range:IDBKeyRange.only(Iu(t))},((a,l)=>{i={document:this.Cr(t,l),size:Hf(l)}})).next((()=>i))}getEntries(e,t){let i=xn();return this.Fr(e,t,((a,l)=>{const c=this.Cr(a,l);i=i.insert(a,c)})).next((()=>i))}Mr(e,t){let i=xn(),a=new dt(oe.comparator);return this.Fr(e,t,((l,c)=>{const d=this.Cr(l,c);i=i.insert(l,d),a=a.insert(l,Hf(c))})).next((()=>({documents:i,Or:a})))}Fr(e,t,i){if(t.isEmpty())return U.resolve();let a=new Ze(G0);t.forEach((p=>a=a.add(p)));const l=IDBKeyRange.bound(Iu(a.first()),Iu(a.last())),c=a.getIterator();let d=c.getNext();return oa(e).ee({index:yf,range:l},((p,g,v)=>{const T=oe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&G0(d,T)<0;)i(d,null),d=c.getNext();d&&d.isEqual(T)&&(i(d,g),d=c.hasNext()?c.getNext():null),d?v.j(Iu(d)):v.done()})).next((()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),jf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oa(e).J(IDBKeyRange.bound(d,p,!0)).next((g=>{l==null||l.incrementDocumentReadCount(g.length);let v=xn();for(const T of g){const S=this.Cr(oe.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);S.isFoundDocument()&&(yc(t,S)||a.has(S.key))&&(v=v.insert(S.key,S))}return v}))}getAllFromCollectionGroup(e,t,i,a){let l=xn();const c=H0(t,i),d=H0(t,Vn.max());return oa(e).ee({index:MS,range:IDBKeyRange.bound(c,d,!0)},((p,g,v)=>{const T=this.Cr(oe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(T.key,T),l.size===a&&v.done()})).next((()=>l))}newChangeBuffer(e){return new Cx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return F0(e).get(ug).next((t=>(ye(!!t,20021),t)))}Dr(e,t){return F0(e).put(ug,t)}Cr(e,t){if(t){const i=fx(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(ve.min())))return i}return yt.newInvalidDocument(e)}}function Qb(s){return new Rx(s)}class Cx extends Kb{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new br((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new Ze(((l,c)=>be(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Br.get(l);if(t.push(this.Nr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const p=I0(this.Nr.serializer,c);a=a.add(l.path.popLast());const g=Hf(p);i+=g-d.size,t.push(this.Nr.addEntry(e,l,p))}else if(i-=d.size,this.trackRemovals){const p=I0(this.Nr.serializer,c.convertToNoDocument(ve.min()));t.push(this.Nr.addEntry(e,l,p))}})),a.forEach((l=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Nr.updateMetadata(e,i)),U.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((i=>(this.Br.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:i,Or:a})=>(a.forEach(((l,c)=>{this.Br.set(l,{size:c,readTime:i.get(l).readTime})})),i)))}}function F0(s){return Bt(s,Ju)}function oa(s){return Bt(s,Pf)}function Iu(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function H0(s,e){const t=e.documentKey.path.toArray();return[s,jf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function G0(s,e){const t=s.path.toArray(),i=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(a=be(t[l],i[l]),a)return a;return a=be(t.length,i.length),a||(a=be(t[t.length-2],i[i.length-2]),a||be(t[t.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Fu(i.mutation,a,En.empty(),Je.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,xe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=xe()){const a=Ui();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=xu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=Ui();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,xe())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=xn();const c=ju(),d=(function(){return ju()})();return t.forEach(((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof wr)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Fu(v.mutation,g,v.mutation.getFieldMask(),Je.now())):c.set(g.key,En.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new Dx(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=ju();let a=new dt(((c,d)=>c-d)),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||En.empty();v=d.applyToLocalView(g,v),i.set(p,v);const T=(a.get(d.batchId)||xe()).add(p);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=hb();v.forEach((S=>{if(!l.has(S)){const N=_b(t.get(S),i.get(S));N!==null&&T.set(S,N),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return U.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return oe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ab(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):U.resolve(Ui());let d=Qu,p=l;return c.next((g=>U.forEach(g,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?U.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,xe()))).next((v=>({batchId:d,changes:cb(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next((i=>{let a=xu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=xu();return this.indexManager.getCollectionParents(e,l).next((d=>U.forEach(d,(p=>{const g=(function(T,S){return new fl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,yt.newInvalidDocument(v)))}));let d=xu();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&Fu(v.mutation,g,En.empty(),Je.now()),yc(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return U.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:hn(a.createTime)}})(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:Lb(a.bundledQuery),readTime:hn(a.readTime)}})(t)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.overlays=new dt(oe.comparator),this.qr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ui();return U.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),U.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),U.resolve()}getOverlaysForCollection(e,t,i){const a=Ui(),l=t.length+1,c=new oe(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return U.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new dt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ui(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Ui(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return U.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new my(t,i));let l=this.qr.get(t);l===void 0&&(l=xe(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.Qr=new Ze(Ht.$r),this.Ur=new Ze(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Ht(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new oe(new Ke([])),i=new Ht(t,e),a=new Ht(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new oe(new Ke([])),i=new Ht(t,e),a=new Ht(t,e+1);let l=xe();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Ht(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return oe.comparator(e.key,t.key)||be(e.Yr,t.Yr)}static Kr(e,t){return be(e.Yr,t.Yr)||oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ze(Ht.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new fy(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return U.resolve(c)}lookupMutationBatch(e,t){return U.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return U.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?ga:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),a=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),U.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ze(be);return t.forEach((a=>{const l=new Ht(a,0),c=new Ht(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),U.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;oe.isDocumentKey(l)||(l=l.child(""));const c=new Ht(new oe(l),0);let d=new Ze(be);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Yr)),!0)}),c),U.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return U.forEach(t.mutations,(a=>{const l=new Ht(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Ht(t,0),a=this.Zr.firstAfterOrEqual(i);return U.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.ri=e,this.docs=(function(){return new dt(oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return U.resolve(i?i.document.mutableCopy():yt.newInvalidDocument(t))}getEntries(e,t){let i=xn();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():yt.newInvalidDocument(a))})),U.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=xn();const c=t.path,d=new oe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||ey(DS(v),i)<=0||(a.has(v.key)||yc(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return U.resolve(l)}getAllFromCollectionGroup(e,t,i,a){me(9500)}ii(e,t){return U.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Px(this)}getSize(e){return U.resolve(this.size)}}class Px extends Kb{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),U.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.persistence=e,this.si=new br((t=>wa(t)),pc),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new vy,this.targetCount=0,this.ai=Ca.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),U.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ca(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.Pr(t),U.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),U.waitFor(l).next((()=>a))}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return U.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),U.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),U.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),U.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return U.resolve(i)}containsKey(e,t){return U.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t){this.ui={},this.overlays={},this.ci=new Yn(0),this.li=!1,this.li=!0,this.hi=new Vx,this.referenceDelegate=e(this),this.Pi=new kx(this),this.indexManager=new Ex,this.remoteDocumentCache=(function(a){return new Mx(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Pb(t),this.Ii=new Nx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Ox(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ne("MemoryPersistence","Starting transaction:",e);const a=new Lx(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return U.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class Lx extends xS{constructor(e){super(),this.currentSequenceNumber=e}}class _d{constructor(e){this.persistence=e,this.Ri=new vy,this.Vi=null}static mi(e){return new _d(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),U.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),U.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,(i=>{const a=oe.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return U.or([()=>U.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Gf{constructor(e,t){this.persistence=e,this.pi=new br((i=>sn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=Gb(this,t)}static mi(e,t){return new Gf(e,t)}Ei(){}di(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return U.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?U.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),U.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vf(e.data.value)),t}br(e,t,i){return U.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return U.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.serializer=e}k(e,t,i,a){const l=new sd("createOrUpgrade",t);i<1&&a>=1&&((function(p){p.createObjectStore(mc)})(e),(function(p){p.createObjectStore(Xu,{keyPath:$2}),p.createObjectStore(hi,{keyPath:n0,autoIncrement:!0}).createIndex(pa,i0,{unique:!0}),p.createObjectStore(Qo)})(e),K0(e),(function(p){p.createObjectStore(ca)})(e));let c=U.resolve();return i<3&&a>=3&&(i!==0&&((function(p){p.deleteObjectStore($o),p.deleteObjectStore(Yo),p.deleteObjectStore(ya)})(e),K0(e)),c=c.next((()=>(function(p){const g=p.store(ya),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return g.put(kf,v)})(l)))),i<4&&a>=4&&(i!==0&&(c=c.next((()=>(function(p,g){return g.store(hi).J().next((T=>{p.deleteObjectStore(hi),p.createObjectStore(hi,{keyPath:n0,autoIncrement:!0}).createIndex(pa,i0,{unique:!0});const S=g.store(hi),N=T.map((j=>S.put(j)));return U.waitFor(N)}))})(e,l)))),c=c.next((()=>{(function(p){p.createObjectStore(Xo,{keyPath:rN})})(e)}))),i<5&&a>=5&&(c=c.next((()=>this.yi(l)))),i<6&&a>=6&&(c=c.next((()=>((function(p){p.createObjectStore(Ju)})(e),this.wi(l))))),i<7&&a>=7&&(c=c.next((()=>this.Si(l)))),i<8&&a>=8&&(c=c.next((()=>this.bi(e,l)))),i<9&&a>=9&&(c=c.next((()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(c=c.next((()=>this.Di(l)))),i<11&&a>=11&&(c=c.next((()=>{(function(p){p.createObjectStore(od,{keyPath:sN})})(e),(function(p){p.createObjectStore(ld,{keyPath:aN})})(e)}))),i<12&&a>=12&&(c=c.next((()=>{(function(p){const g=p.createObjectStore(ud,{keyPath:dN});g.createIndex(hg,mN,{unique:!1}),g.createIndex(US,pN,{unique:!1})})(e)}))),i<13&&a>=13&&(c=c.next((()=>(function(p){const g=p.createObjectStore(Pf,{keyPath:J2});g.createIndex(yf,W2),g.createIndex(MS,Z2)})(e))).next((()=>this.Ci(e,l))).next((()=>e.deleteObjectStore(ca)))),i<14&&a>=14&&(c=c.next((()=>this.Fi(e,l)))),i<15&&a>=15&&(c=c.next((()=>(function(p){p.createObjectStore(iy,{keyPath:oN,autoIncrement:!0}).createIndex(cg,lN,{unique:!1}),p.createObjectStore(Uu,{keyPath:uN}).createIndex(kS,cN,{unique:!1}),p.createObjectStore(zu,{keyPath:hN}).createIndex(LS,fN,{unique:!1})})(e)))),i<16&&a>=16&&(c=c.next((()=>{t.objectStore(Uu).clear()})).next((()=>{t.objectStore(zu).clear()}))),i<17&&a>=17&&(c=c.next((()=>{(function(p){p.createObjectStore(ry,{keyPath:gN})})(e)}))),i<18&&a>=18&&cS()&&(c=c.next((()=>{t.objectStore(Uu).clear()})).next((()=>{t.objectStore(zu).clear()}))),c}wi(e){let t=0;return e.store(ca).ee(((i,a)=>{t+=Hf(a)})).next((()=>{const i={byteSize:t};return e.store(Ju).put(ug,i)}))}yi(e){const t=e.store(Xu),i=e.store(hi);return t.J().next((a=>U.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,ga],[l.userId,l.lastAcknowledgedBatchId]);return i.J(pa,c).next((d=>U.forEach(d,(p=>{ye(p.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:p.batchId});const g=fa(this.serializer,p);return qb(e,l.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store($o),i=e.store(ca);return e.store(ya).get(kf).next((a=>{const l=[];return i.ee(((c,d)=>{const p=new Ke(c),g=(function(T){return[0,sn(T)]})(p);l.push(t.get(g).next((v=>v?U.resolve():(T=>t.put({targetId:0,path:sn(T),sequenceNumber:a.highestListenSequenceNumber}))(p))))})).next((()=>U.waitFor(l)))}))}bi(e,t){e.createObjectStore(Wu,{keyPath:iN});const i=t.store(Wu),a=new _y,l=c=>{if(a.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:sn(p)})}};return t.store(ca).ee({X:!0},((c,d)=>{const p=new Ke(c);return l(p.popLast())})).next((()=>t.store(Qo).ee({X:!0},(([c,d,p],g)=>{const v=Li(d);return l(v.popLast())}))))}Di(e){const t=e.store(Yo);return t.ee(((i,a)=>{const l=Ou(a),c=kb(this.serializer,l);return t.put(c)}))}Ci(e,t){const i=t.store(ca),a=[];return i.ee(((l,c)=>{const d=t.store(Pf),p=(function(T){return T.document?new oe(Ke.fromString(T.document.name).popFirst(5)):T.noDocument?oe.fromSegments(T.noDocument.path):T.unknownDocument?oe.fromSegments(T.unknownDocument.path):me(36783)})(c).path.toArray(),g={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))})).next((()=>U.waitFor(a)))}Fi(e,t){const i=t.store(hi),a=Qb(this.serializer),l=new Ey(_d.mi,this.serializer.yt);return i.J().next((c=>{const d=new Map;return c.forEach((p=>{let g=d.get(p.userId)??xe();fa(this.serializer,p).keys().forEach((v=>g=g.add(v))),d.set(p.userId,g)})),U.forEach(d,((p,g)=>{const v=new Wt(g),T=gd.wt(this.serializer,v),S=l.getIndexManager(v),N=yd.wt(v,this.serializer,S,l.referenceDelegate);return new Yb(a,N,T,S).recalculateAndSaveOverlaysForDocumentKeys(new fg(t,Yn.ce),p).next()}))}))}}function K0(s){s.createObjectStore($o,{keyPath:tN}).createIndex(ny,nN,{unique:!0}),s.createObjectStore(Yo,{keyPath:"targetId"}).createIndex(PS,eN,{unique:!0}),s.createObjectStore(ya)}const us="IndexedDbPersistence",Gp=18e5,Kp=5e3,Qp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zx="main";class Ty{constructor(e,t,i,a,l,c,d,p,g,v,T=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Mi=l,this.window=c,this.document=d,this.xi=g,this.Oi=v,this.Ni=T,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=S=>Promise.resolve(),!Ty.v())throw new ae(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ix(this,a),this.$i=t+zx,this.serializer=new Pb(p),this.Ui=new Ts(this.$i,this.Ni,new Ux(this.serializer)),this.hi=new mx,this.Pi=new Ax(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qb(this.serializer),this.Ii=new dx,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&un(us,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(X.FAILED_PRECONDITION,Qp);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Yn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>uf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Cs(e))return ne(us,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne(us,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ru(e).get(Co).next((t=>U.resolve(this.es(t))))}ts(e){return uf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Gp)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=Bt(t,Xo);return i.J().next((a=>{const l=this.ss(a,Gp),c=a.filter((d=>l.indexOf(d)===-1));return U.forEach(c,(d=>i.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?U.resolve(!0):Ru(e).get(Co).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Kp)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ae(X.FAILED_PRECONDITION,Qp);return!1}}return!(!this.networkEnabled||!this.inForeground)||uf(e).J().next((i=>this.ss(i,Kp).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ne(us,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[mc,Xo],(e=>{const t=new fg(e,Yn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((i=>this.rs(i.updateTimeMs,t)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>uf(e).J().next((t=>this.ss(t,Gp).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return yd.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tx(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return gd.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,i){ne(us,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(p){return p===18?vN:p===17?jS:p===16?_N:p===15?sy:p===14?qS:p===13?BS:p===12?yN:p===11?zS:void me(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,l,(d=>(c=new fg(d,this.ci?this.ci.next():Yn.ce),t==="readwrite-primary"?this.Hi(c).next((p=>!!p||this.Yi(c))).next((p=>{if(!p)throw un(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ae(X.FAILED_PRECONDITION,NS);return i(c)})).next((p=>this.Xi(c).next((()=>p)))):this.Is(c).next((()=>i(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return Ru(e).get(Co).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,Kp)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(X.FAILED_PRECONDITION,Qp)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ru(e).put(Co,t)}static v(){return Ts.v()}Zi(e){const t=Ru(e);return t.get(Co).next((i=>this.es(i)?(ne(us,"Releasing primary lease."),t.delete(Co)):U.resolve()))}rs(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(un(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;uS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const i=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return ne(us,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return un(us,"Failed to get zombied client id.",i),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){un("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ru(s){return Bt(s,mc)}function uf(s){return Bt(s,Xo)}function Bx(s,e){let t=s.projectId;return s.isDefaultDatabase||(t+="."+s.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=xe(),a=xe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ay(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uS()?8:VS(zt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new qx;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(Mo()<=ke.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Mo()<=ke.DEBUG&&ne("QueryEngine","Query:",Po(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Mo()<=ke.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(t))):U.resolve())}ys(e,t){if(g0(t))return U.resolve(null);let i=Xn(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=vg(t,null,"F"),i=Xn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=xe(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,vg(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,i,a){return g0(t)||a.isEqual(ve.min())?U.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?U.resolve(null):(Mo()<=ke.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(t)),this.vs(e,c,t,j2(a,Qu)).next((d=>d)))}))}Ds(e,t){let i=new Ze(lb(e));return t.forEach(((a,l)=>{yc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return Mo()<=ke.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Po(t)),this.ps.getDocumentsMatchingQuery(e,t,Vn.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="LocalStore",jx=3e8;class Fx{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new dt(be),this.xs=new br((l=>wa(l)),pc),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Xb(s,e,t,i){return new Fx(s,e,t,i)}async function Jb(s,e){const t=we(s);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=xe();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function Hx(s,e){const t=we(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const T=g.batch,S=T.keys();let N=U.resolve();return S.forEach((j=>{N=N.next((()=>v.getEntry(p,j))).next((H=>{const P=g.docVersions.get(j);ye(P!==null,48541),H.version.compareTo(P)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))}))})),N.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=xe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function Wb(s){const e=we(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Gx(s,e){const t=we(s),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((v,T)=>{const S=a.get(T);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T))));let N=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Mt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):v.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(v.resumeToken,i)),a=a.insert(T,N),(function(H,P,te){return H.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=jx?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(S,N,v)&&d.push(t.Pi.updateTargetData(l,N))}));let p=xn(),g=xe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(Kx(l,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!i.isEqual(ve.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return U.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=a,l)))}function Kx(s,e,t){let i=xe(),a=xe();return t.forEach((l=>i=i.add(l))),e.getEntries(s,i).next((l=>{let c=xn();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(ve.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ne(Sy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:a}}))}function Qx(s,e){const t=we(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=ga),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Yx(s,e){const t=we(s);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,U.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new hr(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Rg(s,e,t){const i=we(s),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Cs(c))throw c;ne(Sy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Q0(s,e,t){const i=we(s);let a=ve.min(),l=xe();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=we(p),S=T.xs.get(v);return S!==void 0?U.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,v)})(i,c,Xn(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:ve.min(),t?l:xe()))).next((d=>($x(i,MN(e),d),{documents:d,Qs:l})))))}function $x(s,e,t){let i=s.Os.get(e)||ve.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),s.Os.set(e,i)}class Y0{constructor(){this.activeTargetIds=BN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zb{constructor(){this.Mo=new Y0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Y0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="ConnectivityMonitor";class X0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne($0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne($0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf=null;function Cg(){return cf===null?cf=(function(){return 268435456+Math.round(2147483648*Math.random())})():cf++,"0x"+cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="RestConnection",Jx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Lf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=Cg(),d=this.zo(e,t.toUriEncodedString());ne(Yp,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,a,l);const{host:g}=new URL(d),v=ul(g);return this.Jo(e,d,p,i,v).then((T=>(ne(Yp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Sa(Yp,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=Jx[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class eV extends Wx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Cg();return new Promise(((d,p)=>{const g=new vS;g.setWithCredentials(!0),g.listenOnce(ES.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case mf.NO_ERROR:const T=g.getResponseJson();ne(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case mf.TIMEOUT:ne(tn,`RPC '${e}' ${c} timed out`),p(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case mf.HTTP_ERROR:const S=g.getStatus();if(ne(tn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N==null?void 0:N.error;if(j&&j.status&&j.message){const H=(function(te){const ie=te.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ie)>=0?ie:X.UNKNOWN})(j.status);p(new ae(H,j.message))}else p(new ae(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ae(X.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ne(tn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);ne(tn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=Cg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=SS(),d=AS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");ne(tn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let S=!1,N=!1;const j=new Zx({Yo:P=>{N?ne(tn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(S||(ne(tn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),S=!0),ne(tn,`RPC '${e}' stream ${a} sending:`,P),T.send(P))},Zo:()=>T.close()}),H=(P,te,ie)=>{P.listen(te,(Y=>{try{ie(Y)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return H(T,Nu.EventType.OPEN,(()=>{N||(ne(tn,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),H(T,Nu.EventType.CLOSE,(()=>{N||(N=!0,ne(tn,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(T))})),H(T,Nu.EventType.ERROR,(P=>{N||(N=!0,Sa(tn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),j.a_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),H(T,Nu.EventType.MESSAGE,(P=>{var te;if(!N){const ie=P.data[0];ye(!!ie,16349);const Y=ie,ce=(Y==null?void 0:Y.error)||((te=Y[0])==null?void 0:te.error);if(ce){ne(tn,`RPC '${e}' stream ${a} received error:`,ce);const de=ce.status;let ge=(function(R){const M=Vt[R];if(M!==void 0)return Tb(M)})(de),I=ce.message;ge===void 0&&(ge=X.INTERNAL,I="Unknown error status: "+de+" with message "+ce.message),N=!0,j.a_(new ae(ge,I)),T.close()}else ne(tn,`RPC '${e}' stream ${a} received:`,ie),j.u_(ie)}})),H(d,TS.STAT_EVENT,(P=>{P.stat===ag.PROXY?ne(tn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===ag.NOPROXY&&ne(tn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){return typeof window<"u"?window:null}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(s){return new nx(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="PersistentStream";class tw{constructor(e,t,i,a,l,c,d,p){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ew(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(un(t.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ae(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ne(J0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ne(J0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nV extends tw{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=sx(this.serializer,e),i=(function(l){if(!("targetChange"in l))return ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ve.min():c.readTime?hn(c.readTime):ve.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Ag(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=Uf(p)?{documents:Db(l,p)}:{query:Nb(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=bb(l,c.resumeToken);const g=Eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(ve.min())>0){d.readTime=rl(l,c.snapshotVersion.toTimestamp());const g=Eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=ox(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.q_(t)}}class iV extends tw{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ax(e.writeResults,e.commitTime),i=hn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Ag(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>qf(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{}class sV extends rV{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Tg(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(X.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Tg(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(X.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(un(t),this.aa=!1):ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class oV{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ma(this)&&(ne(Da,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await vc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ed(g)})(this))}))})),this.Ra=new aV(i,a)}}async function Ed(s){if(Ma(s))for(const e of s.da)await e(!0)}async function vc(s){for(const e of s.da)await e(!1)}function nw(s,e){const t=we(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ry(t)?Iy(t):ml(t).O_()&&wy(t,e))}function by(s,e){const t=we(s),i=ml(t);t.Ia.delete(e),i.O_()&&iw(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ma(t)&&t.Ra.set("Unknown"))}function wy(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ml(s).Y_(e)}function iw(s,e){s.Va.Ue(e),ml(s).Z_(e)}function Iy(s){s.Va=new WN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ml(s).start(),s.Ra.ua()}function Ry(s){return Ma(s)&&!ml(s).x_()&&s.Ia.size>0}function Ma(s){return we(s).Ea.size===0}function rw(s){s.Va=void 0}async function lV(s){s.Ra.set("Online")}async function uV(s){s.Ia.forEach(((e,t)=>{wy(s,e)}))}async function cV(s,e){rw(s),Ry(s)?(s.Ra.ha(e),Iy(s)):s.Ra.set("Unknown")}async function hV(s,e,t){if(s.Ra.set("Online"),e instanceof Sb&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(s,e)}catch(i){ne(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Kf(s,i)}else if(e instanceof Af?s.Va.Ze(e):e instanceof Ab?s.Va.st(e):s.Va.tt(e),!t.isEqual(ve.min()))try{const i=await Wb(s.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Mt.EMPTY_BYTE_STRING,v.snapshotVersion)),iw(l,p);const T=new hr(v.target,p,g,v.sequenceNumber);wy(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(s,t)}catch(i){ne(Da,"Failed to raise snapshot:",i),await Kf(s,i)}}async function Kf(s,e,t){if(!Cs(e))throw e;s.Ea.add(1),await vc(s),s.Ra.set("Offline"),t||(t=()=>Wb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ne(Da,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await Ed(s)}))}function sw(s,e){return e().catch((t=>Kf(s,t,e)))}async function Ec(s){const e=we(s),t=ws(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ga;for(;fV(e);)try{const a=await Qx(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,dV(e,a)}catch(a){await Kf(e,a)}aw(e)&&ow(e)}function fV(s){return Ma(s)&&s.Ta.length<10}function dV(s,e){s.Ta.push(e);const t=ws(s);t.O_()&&t.X_&&t.ea(e.mutations)}function aw(s){return Ma(s)&&!ws(s).x_()&&s.Ta.length>0}function ow(s){ws(s).start()}async function mV(s){ws(s).ra()}async function pV(s){const e=ws(s);for(const t of s.Ta)e.ea(t.mutations)}async function gV(s,e,t){const i=s.Ta.shift(),a=dy.from(i,e,t);await sw(s,(()=>s.remoteSyncer.applySuccessfulWrite(a))),await Ec(s)}async function yV(s,e){e&&ws(s).X_&&await(async function(i,a){if((function(c){return $N(c)&&c!==X.ABORTED})(a.code)){const l=i.Ta.shift();ws(i).B_(),await sw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ec(i)}})(s,e),aw(s)&&ow(s)}async function W0(s,e){const t=we(s);t.asyncQueue.verifyOperationInProgress(),ne(Da,"RemoteStore received new credentials");const i=Ma(t);t.Ea.add(3),await vc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ed(t)}async function _V(s,e){const t=we(s);e?(t.Ea.delete(2),await Ed(t)):e||(t.Ea.add(2),await vc(t),t.Ra.set("Unknown"))}function ml(s){return s.ma||(s.ma=(function(t,i,a){const l=we(t);return l.sa(),new nV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(s.datastore,s.asyncQueue,{Xo:lV.bind(null,s),t_:uV.bind(null,s),r_:cV.bind(null,s),H_:hV.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Ry(s)?Iy(s):s.Ra.set("Unknown")):(await s.ma.stop(),rw(s))}))),s.ma}function ws(s){return s.fa||(s.fa=(function(t,i,a){const l=we(t);return l.sa(),new iV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:mV.bind(null,s),r_:yV.bind(null,s),ta:pV.bind(null,s),na:gV.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ec(s)):(await s.fa.stop(),s.Ta.length>0&&(ne(Da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Cy(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(s,e){if(un("AsyncQueue",`${e}: ${s}`),Cs(s))return new ae(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||oe.comparator(t.key,i.key):(t,i)=>oe.comparator(t.key,i.key),this.keyedMap=xu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.ga=new dt(oe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class sl{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new sl(e,t,Bo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class EV{constructor(){this.queries=eA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=we(t),l=a.queries;a.queries=eA(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function eA(){return new br((s=>ob(s)),fd)}async function lw(s,e){const t=we(s);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new vV,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Dy(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ny(t)}async function uw(s,e){const t=we(s),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function TV(s,e){const t=we(s);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&Ny(t)}function AV(s,e,t){const i=we(s),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function Ny(s){s.Ca.forEach((e=>{e.next()}))}var Dg,tA;(tA=Dg||(Dg={})).Ma="default",tA.Cache="cache";class cw{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new sl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.key=e}}class fw{constructor(e){this.key=e}}class SV{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=lb(e),this.tu=new Bo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Z0,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,T)=>{const S=a.get(v),N=yc(this.query,T)?T:null,j=!!S&&this.mutatedKeys.has(S.key),H=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let P=!1;S&&N?S.data.isEqual(N.data)?j!==H&&(i.track({type:3,doc:N}),P=!0):this.su(S,N)||(i.track({type:2,doc:N}),P=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(d=!0)):!S&&N?(i.track({type:0,doc:N}),P=!0):S&&!N&&(i.track({type:1,doc:S}),P=!0,(p||g)&&(d=!0)),P&&(N?(c=c.add(N),l=H?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(N,j){const H=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:P})}};return H(N)-H(j)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],p=this.Xa.size===0&&this.current&&!a?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new sl(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new fw(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new hw(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xy="SyncEngine";class bV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class wV{constructor(e){this.key=e,this.hu=!1}}class IV{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new br((d=>ob(d)),fd),this.Iu=new Map,this.Eu=new Set,this.du=new dt(oe.comparator),this.Au=new Map,this.Ru=new vy,this.Vu={},this.mu=new Map,this.fu=Ca.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RV(s,e,t=!0){const i=_w(s);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await dw(i,e,t,!0),a}async function CV(s,e){const t=_w(s);await dw(t,e,!0,!1)}async function dw(s,e,t,i){const a=await Yx(s.localStore,Xn(e)),l=a.targetId,c=s.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await DV(s,e,l,c==="current",a.resumeToken)),s.isPrimaryClient&&t&&nw(s.remoteStore,a),d}async function DV(s,e,t,i,a){s.pu=(T,S,N)=>(async function(H,P,te,ie){let Y=P.view.ru(te);Y.Cs&&(Y=await Q0(H.localStore,P.query,!1).then((({documents:I})=>P.view.ru(I,Y))));const ce=ie&&ie.targetChanges.get(P.targetId),de=ie&&ie.targetMismatches.get(P.targetId)!=null,ge=P.view.applyChanges(Y,H.isPrimaryClient,ce,de);return iA(H,P.targetId,ge.au),ge.snapshot})(s,T,S,N);const l=await Q0(s.localStore,e,!0),c=new SV(e,l.Qs),d=c.ru(l.documents),p=_c.createSynthesizedTargetChangeForCurrentChange(t,i&&s.onlineState!=="Offline",a),g=c.applyChanges(d,s.isPrimaryClient,p);iA(s,t,g.au);const v=new bV(e,t,c);return s.Tu.set(e,v),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),g.snapshot}async function NV(s,e,t){const i=we(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!fd(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Rg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&by(i.remoteStore,a.targetId),Ng(i,a.targetId)})).catch(Oa)):(Ng(i,a.targetId),await Rg(i.localStore,a.targetId,!0))}async function xV(s,e){const t=we(s),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),by(t.remoteStore,i.targetId))}async function VV(s,e,t){const i=vw(s);try{const a=await(function(c,d){const p=we(c),g=Je.now(),v=d.reduce(((N,j)=>N.add(j.key)),xe());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let j=xn(),H=xe();return p.Ns.getEntries(N,v).next((P=>{j=P,j.forEach(((te,ie)=>{ie.isValidDocument()||(H=H.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,j))).next((P=>{T=P;const te=[];for(const ie of d){const Y=QN(ie,T.get(ie.key).overlayedDocument);Y!=null&&te.push(new wr(ie.key,Y,WS(Y.value.mapValue),cn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,te,d)})).next((P=>{S=P;const te=P.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(N,P.batchId,te)}))})).then((()=>({batchId:S.batchId,changes:cb(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new dt(be)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await Tc(i,a.changes),await Ec(i.remoteStore)}catch(a){const l=Dy(a,"Failed to persist write");t.reject(l)}}async function mw(s,e){const t=we(s);try{const i=await Gx(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ye(c.hu,14607):a.removedDocuments.size>0&&(ye(c.hu,42227),c.hu=!1))})),await Tc(t,i,e)}catch(i){await Oa(i)}}function nA(s,e,t){const i=we(s);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const p=we(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(d)&&(g=!0)})),g&&Ny(p)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function OV(s,e,t){const i=we(s);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new dt(oe.comparator);c=c.insert(l,yt.newNoDocument(l,ve.min()));const d=xe().add(l),p=new pd(ve.min(),new Map,new dt(be),c,d);await mw(i,p),i.du=i.du.remove(l),i.Au.delete(e),Vy(i)}else await Rg(i.localStore,e,!1).then((()=>Ng(i,e,t))).catch(Oa)}async function MV(s,e){const t=we(s),i=e.batch.batchId;try{const a=await Hx(t.localStore,e);gw(t,i,null),pw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Tc(t,a)}catch(a){await Oa(a)}}async function PV(s,e,t){const i=we(s);try{const a=await(function(c,d){const p=we(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(ye(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);gw(i,e,t),pw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Tc(i,a)}catch(a){await Oa(a)}}function pw(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function gw(s,e,t){const i=we(s);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Ng(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.Iu.get(e))s.Tu.delete(i),t&&s.Pu.yu(i,t);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((i=>{s.Ru.containsKey(i)||yw(s,i)}))}function yw(s,e){s.Eu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(by(s.remoteStore,t),s.du=s.du.remove(e),s.Au.delete(t),Vy(s))}function iA(s,e,t){for(const i of t)i instanceof hw?(s.Ru.addReference(i.key,e),kV(s,i)):i instanceof fw?(ne(xy,"Document no longer in limbo: "+i.key),s.Ru.removeReference(i.key,e),s.Ru.containsKey(i.key)||yw(s,i.key)):me(19791,{wu:i})}function kV(s,e){const t=e.key,i=t.path.canonicalString();s.du.get(t)||s.Eu.has(i)||(ne(xy,"New document in limbo: "+t),s.Eu.add(i),Vy(s))}function Vy(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new oe(Ke.fromString(e)),i=s.fu.next();s.Au.set(i,new wV(t)),s.du=s.du.insert(t,i),nw(s.remoteStore,new hr(Xn(gc(t.path)),i,"TargetPurposeLimboResolution",Yn.ce))}}async function Tc(s,e,t){const i=we(s),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((g=>{var v;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))==null?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){a.push(g);const T=Ay.As(p.targetId,g);l.push(T)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(p,g){const v=we(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>U.forEach(g,(S=>U.forEach(S.Es,(N=>v.persistence.referenceDelegate.addReference(T,S.targetId,N))).next((()=>U.forEach(S.ds,(N=>v.persistence.referenceDelegate.removeReference(T,S.targetId,N)))))))))}catch(T){if(!Cs(T))throw T;ne(Sy,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const N=v.Ms.get(S),j=N.snapshotVersion,H=N.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(S,H)}}})(i.localStore,l))}async function LV(s,e){const t=we(s);if(!t.currentUser.isEqual(e)){ne(xy,"User change. New user:",e.toKey());const i=await Jb(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new ae(X.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Tc(t,i.Ls)}}function UV(s,e){const t=we(s),i=t.Au.get(e);if(i&&i.hu)return xe().add(i.key);{let a=xe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function _w(s){const e=we(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=mw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OV.bind(null,e),e.Pu.H_=TV.bind(null,e.eventManager),e.Pu.yu=AV.bind(null,e.eventManager),e}function vw(s){const e=we(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PV.bind(null,e),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Xb(this.persistence,new $b,e.initialUser,this.serializer)}Cu(e){return new Ey(_d.mi,this.serializer)}Du(e){return new Zb}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class zV extends sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ye(this.persistence.referenceDelegate instanceof Gf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Hb(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Ey((i=>Gf.mi(i,t)),this.serializer)}}class BV extends sc{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await vw(this.xu.syncEngine),await Ec(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return Xb(this.persistence,new $b,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new Hb(i,e.asyncQueue,t)}Mu(e,t){const i=new K2(t,this.persistence);return new G2(e.asyncQueue,i)}Cu(e){const t=Bx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Ty(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,tV(),bf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Zb}}class Qf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LV.bind(null,this.syncEngine),await _V(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EV})()}createDatastore(e){const t=vd(e.databaseInfo.databaseId),i=(function(l){return new eV(l)})(e.databaseInfo);return(function(l,c,d,p){return new sV(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new oV(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>nA(this.syncEngine,t,0)),(function(){return X0.v()?new X0:new Xx})())}createSyncEngine(e,t){return(function(a,l,c,d,p,g,v){const T=new IV(a,l,c,d,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=we(a);ne(Da,"RemoteStore shutting down."),l.Ea.add(5),await vc(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class qV{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Wt.UNAUTHENTICATED,this.clientId=Zg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ne(Is,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ne(Is,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Dy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function $p(s,e){s.asyncQueue.verifyOperationInProgress(),ne(Is,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let i=t.initialUser;s.setCredentialChangeListener((async a=>{i.isEqual(a)||(await Jb(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function rA(s,e){s.asyncQueue.verifyOperationInProgress();const t=await jV(s);ne(Is,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((i=>W0(e.remoteStore,i))),s.setAppCheckTokenChangeListener(((i,a)=>W0(e.remoteStore,a))),s._onlineComponents=e}async function jV(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ne(Is,"Using user provided OfflineComponentProvider");try{await $p(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Sa("Error using user provided cache. Falling back to memory cache: "+t),await $p(s,new sc)}}else ne(Is,"Using default OfflineComponentProvider"),await $p(s,new zV(void 0));return s._offlineComponents}async function Tw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ne(Is,"Using user provided OnlineComponentProvider"),await rA(s,s._uninitializedComponentsProvider._online)):(ne(Is,"Using default OnlineComponentProvider"),await rA(s,new Qf))),s._onlineComponents}function FV(s){return Tw(s).then((e=>e.syncEngine))}async function xg(s){const e=await Tw(s),t=e.eventManager;return t.onListen=RV.bind(null,e.syncEngine),t.onUnlisten=NV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xV.bind(null,e.syncEngine),t}function HV(s,e,t={}){const i=new pr;return s.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new Ew({next:S=>{v.Nu(),c.enqueueAndForget((()=>uw(l,T)));const N=S.docs.has(d);!N&&S.fromCache?g.reject(new ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?g.reject(new ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new cw(gc(d.path),v,{includeMetadataChanges:!0,qa:!0});return lw(l,T)})(await xg(s),s.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="firestore.googleapis.com",aA=!0;class oA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sw,this.ssl=aA}else this.host=e.host,this.ssl=e.ssl??aA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sx)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new x2;switch(i.type){case"firstParty":return new P2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=sA.get(t);i&&(ne("ComponentProvider","Removing Datastore"),sA.delete(t),i.terminate())})(this),Promise.resolve()}}function GV(s,e,t,i={}){var g;s=$n(s,Td);const a=ul(e),l=s._getSettings(),c={...l,emulatorOptions:s._getEmulatorOptions()},d=`${e}:${t}`;a&&(aS(`https://${d}`),oS("Firestore",!0)),l.host!==Sw&&l.host!==d&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:a,emulatorOptions:i};if(!Ea(p,c)&&(s._setSettings(p),i.mockUserToken)){let v,T;if(typeof i.mockUserToken=="string")v=i.mockUserToken,T=Wt.MOCK_USER;else{v=sD(i.mockUserToken,(g=s._app)==null?void 0:g.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(S)}s._authCredentials=new V2(new wS(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pa(this.firestore,e,this._query)}}class _t{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(dc(t,_t._jsonSchema))return new _t(e,i||null,new oe(Ke.fromString(t.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Ot("string",_t._jsonSchemaVersion),referencePath:Ot("string")};class As extends Pa{constructor(e,t,i){super(e,t,gc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new oe(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function LP(s,e,...t){if(s=Gt(s),RS("collection","path",e),s instanceof Td){const i=Ke.fromString(e,...t);return JT(i),new As(s,null,i)}{if(!(s instanceof _t||s instanceof As))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(Ke.fromString(e,...t));return JT(i),new As(s.firestore,null,i)}}function Vg(s,e,...t){if(s=Gt(s),arguments.length===1&&(e=Zg.newId()),RS("doc","path",e),s instanceof Td){const i=Ke.fromString(e,...t);return XT(i),new _t(s,null,new oe(i))}{if(!(s instanceof _t||s instanceof As))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(Ke.fromString(e,...t));return XT(i),new _t(s.firestore,s instanceof As?s.converter:null,new oe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="AsyncQueue";class uA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ew(this,"async_queue_retry"),this._c=()=>{const i=bf();i&&ne(lA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=bf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=bf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cs(e))throw e;ne(lA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,un("INTERNAL UNHANDLED ERROR: ",cA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Cy.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&me(47125,{Pc:cA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function cA(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(s){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(s,["next","error","complete"])}class Rs extends Td{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new uA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uA(e),this._firestoreClient=void 0,await e}}}function KV(s,e){const t=typeof s=="object"?s:pS(),i=typeof s=="string"?s:Lf,a=Jg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=iD("firestore");l&&GV(a,...l)}return a}function Oy(s){if(s._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||bw(s),s._firestoreClient}function bw(s){var i,a,l;const e=s._freezeSettings(),t=(function(d,p,g,v){return new TN(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Aw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(s._databaseId,((i=s._app)==null?void 0:i.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new qV(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(s._componentsProvider))}function QV(s,e){Sa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=s._freezeSettings();return YV(s,Qf.provider,{build:i=>new BV(i,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function YV(s,e,t){if((s=$n(s,Rs))._firestoreClient||s._terminated)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(s._componentsProvider||s._getSettings().localCache)throw new ae(X.FAILED_PRECONDITION,"SDK cache is already specified.");s._componentsProvider={_online:e,_offline:t},bw(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Mt.fromBase64String(e))}catch(t){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qn(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ot("string",Qn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(dc(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ot("string",zi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dc(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Bi(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ot("string",Bi._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=/^__.*__$/;class XV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,t,this.fieldTransforms):new dl(e,this.data,t,this.fieldTransforms)}}class ww{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new wr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iw(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:s})}}class My{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new My({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Iw(this.Ac)&&$V.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||vd(e)}Cc(e,t,i,a=!1){return new My({Ac:e,methodName:t,Dc:i,path:mt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bd(s){const e=s._freezeSettings(),t=vd(s._databaseId);return new JV(s._databaseId,!!e.ignoreUndefinedProperties,t)}function Rw(s,e,t,i,a,l={}){const c=s.Cc(l.merge||l.mergeFields?2:0,e,t,a);ky("Data must be an object, but it was:",c,i);const d=Cw(i,c);let p,g;if(l.merge)p=new En(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=Og(e,T,t);if(!c.contains(S))throw new ae(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Nw(v,S)||v.push(S)}p=new En(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new XV(new rn(d),p,g)}class wd extends Sd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wd}}class Py extends Sd{_toFieldTransform(e){return new yb(e.path,new tl)}isEqual(e){return e instanceof Py}}function WV(s,e,t,i){const a=s.Cc(1,e,t);ky("Data must be an object, but it was:",a,i);const l=[],c=rn.empty();Ds(i,((p,g)=>{const v=Ly(e,p,t);g=Gt(g);const T=a.yc(v);if(g instanceof wd)l.push(v);else{const S=Ac(g,T);S!=null&&(l.push(v),c.set(v,S))}}));const d=new En(l);return new ww(c,d,a.fieldTransforms)}function ZV(s,e,t,i,a,l){const c=s.Cc(1,e,t),d=[Og(e,i,t)],p=[a];if(l.length%2!=0)throw new ae(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Og(e,l[S])),p.push(l[S+1]);const g=[],v=rn.empty();for(let S=d.length-1;S>=0;--S)if(!Nw(g,d[S])){const N=d[S];let j=p[S];j=Gt(j);const H=c.yc(N);if(j instanceof wd)g.push(N);else{const P=Ac(j,H);P!=null&&(g.push(N),v.set(N,P))}}const T=new En(g);return new ww(v,T,c.fieldTransforms)}function eO(s,e,t,i=!1){return Ac(t,s.Cc(i?4:3,e))}function Ac(s,e){if(Dw(s=Gt(s)))return ky("Unsupported field value:",e,s),Cw(s,e);if(s instanceof Sd)return(function(i,a){if(!Iw(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let p=Ac(d,a.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(s,e)}return(function(i,a){if((i=Gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return qN(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Je.fromDate(i);return{timestampValue:rl(a.serializer,l)}}if(i instanceof Je){const l=new Je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rl(a.serializer,l)}}if(i instanceof zi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qn)return{bytesValue:bb(a.serializer,i._byteString)};if(i instanceof _t){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:gy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Bi)return(function(c,d){return{mapValue:{fields:{[oy]:{stringValue:ly},[Jo]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return cy(d.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${rd(i)}`)})(s,e)}function Cw(s,e){const t={};return FS(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(s,((i,a)=>{const l=Ac(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Dw(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Je||s instanceof zi||s instanceof Qn||s instanceof _t||s instanceof Sd||s instanceof Bi)}function ky(s,e,t){if(!Dw(t)||!CS(t)){const i=rd(t);throw i==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+i)}}function Og(s,e,t){if((e=Gt(e))instanceof Ad)return e._internalPath;if(typeof e=="string")return Ly(s,e);throw Yf("Field path arguments must be of type string or ",s,!1,void 0,t)}const tO=new RegExp("[~\\*/\\[\\]]");function Ly(s,e,t){if(e.search(tO)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Ad(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Yf(s,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new ae(X.INVALID_ARGUMENT,d+s+p)}function Nw(s,e){return s.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Id("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class nO extends xw{data(){return super.data()}}function Id(s,e){return typeof e=="string"?Ly(s,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uy{}class Vw extends Uy{}function UP(s,e,...t){let i=[];e instanceof Uy&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof zy)).length,d=l.filter((p=>p instanceof Rd)).length;if(c>1||c>0&&d>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)s=a._apply(s);return s}class Rd extends Vw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Rd(e,t,i)}_apply(e){const t=this._parse(e);return Ow(e._query,t),new Pa(e.firestore,e.converter,_g(e._query,t))}_parse(e){const t=bd(e.firestore);return(function(l,c,d,p,g,v,T){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){dA(T,v);const j=[];for(const H of T)j.push(fA(p,l,H));S={arrayValue:{values:j}}}else S=fA(p,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||dA(T,v),S=eO(d,c,T,v==="in"||v==="not-in");return Le.create(g,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function zP(s,e,t){const i=e,a=Id("where",s);return Rd._create(a,i,t)}class zy extends Uy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zy(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:We.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)Ow(c,p),c=_g(c,p)})(e._query,t),new Pa(e.firestore,e.converter,_g(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class By extends Vw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new By(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(l,c)})(e._query,this._field,this._direction);return new Pa(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new fl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function BP(s,e="asc"){const t=e,i=Id("orderBy",s);return By._create(i,t)}function fA(s,e,t){if(typeof(t=Gt(t))=="string"){if(t==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ab(e)&&t.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ke.fromString(t));if(!oe.isDocumentKey(i))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tc(s,new oe(i))}if(t instanceof _t)return tc(s,t._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(t)}.`)}function dA(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ow(s,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(s.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class rO{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ds(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){var i,a,l;const t=(l=(a=(i=e.fields)==null?void 0:i[Jo].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>ht(c.doubleValue)));return new Bi(t)}convertGeoPoint(e){return new zi(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const t=vr(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ke.fromString(e);ye(Mb(i),9688,{name:e});const a=new ba(i.get(1),i.get(3)),l=new oe(i.popFirst(5));return a.isEqual(t)||un(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(s,e,t){let i;return i=s?s.toFirestore(e):e,i}class Mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends xw{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Id("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:Ot("string",va._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class wf extends va{data(e={}){return super.data(e)}}class qo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Mu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new wf(this._firestore,this._userDataWriter,i.key,i,new Mu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const p=new wf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new wf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Mu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:sO(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(s){s=$n(s,_t);const e=$n(s.firestore,Rs);return HV(Oy(e),s._key).then((t=>kw(e,s,t)))}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:Ot("string",qo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Pw extends rO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function oO(s,e,t){s=$n(s,_t);const i=$n(s.firestore,Rs),a=Mw(s.converter,e);return qy(i,[Rw(bd(i),"setDoc",s._key,a,s.converter!==null,t).toMutation(s._key,cn.none())])}function qP(s,e,t,...i){s=$n(s,_t);const a=$n(s.firestore,Rs),l=bd(a);let c;return c=typeof(e=Gt(e))=="string"||e instanceof Ad?ZV(l,"updateDoc",s._key,e,t,i):WV(l,"updateDoc",s._key,e),qy(a,[c.toMutation(s._key,cn.exists(!0))])}function jP(s,e){const t=$n(s.firestore,Rs),i=Vg(s),a=Mw(s.converter,e);return qy(t,[Rw(bd(s.firestore),"addDoc",i._key,a,s.converter!==null,{}).toMutation(i._key,cn.exists(!1))]).then((()=>i))}function FP(s,...e){var p,g,v;s=Gt(s);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||hA(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(hA(e[i])){const T=e[i];e[i]=(p=T.next)==null?void 0:p.bind(T),e[i+1]=(g=T.error)==null?void 0:g.bind(T),e[i+2]=(v=T.complete)==null?void 0:v.bind(T)}let l,c,d;if(s instanceof _t)c=$n(s.firestore,Rs),d=gc(s._key.path),l={next:T=>{e[i]&&e[i](kw(c,s,T))},error:e[i+1],complete:e[i+2]};else{const T=$n(s,Pa);c=$n(T.firestore,Rs),d=T._query;const S=new Pw(c);l={next:N=>{e[i]&&e[i](new qo(c,S,T,N))},error:e[i+1],complete:e[i+2]},iO(s._query)}return(function(S,N,j,H){const P=new Ew(H),te=new cw(N,P,j);return S.asyncQueue.enqueueAndForget((async()=>lw(await xg(S),te))),()=>{P.Nu(),S.asyncQueue.enqueueAndForget((async()=>uw(await xg(S),te)))}})(Oy(c),d,a,l)}function qy(s,e){return(function(i,a){const l=new pr;return i.asyncQueue.enqueueAndForget((async()=>VV(await FV(i),a,l))),l.promise})(Oy(s),e)}function kw(s,e,t){const i=t.docs.get(e._key),a=new Pw(s);return new va(s,a,e._key,i,new Mu(t.hasPendingWrites,t.fromCache),e.converter)}function HP(){return new Py("serverTimestamp")}(function(e,t=!0){(function(a){hl=a})(cl),Go(new Ta("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Rs(new O2(i.getProvider("auth-internal")),new k2(c,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ba(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),vs(KT,QT,e),vs(KT,QT,"esm2020")})();function Lw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lO=Lw,Uw=new hc("auth","Firebase",Lw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new $g("@firebase/auth");function uO(s,...e){$f.logLevel<=ke.WARN&&$f.warn(`Auth (${cl}): ${s}`,...e)}function If(s,...e){$f.logLevel<=ke.ERROR&&$f.error(`Auth (${cl}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(s,...e){throw jy(s,...e)}function qi(s,...e){return jy(s,...e)}function zw(s,e,t){const i={...lO(),[e]:t};return new hc("auth","Firebase",i).create(e,{appName:s.name})}function gr(s){return zw(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(s,...e){if(typeof s!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(t,...i)}return Uw.create(s,...e)}function Ae(s,e,...t){if(!s)throw jy(e,...t)}function fr(s){const e="INTERNAL ASSERTION FAILED: "+s;throw If(e),new Error(e)}function Tr(s,e){s||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function cO(){return mA()==="http:"||mA()==="https:"}function mA(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cO()||cD()||"connection"in navigator)?navigator.onLine:!0}function fO(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=lD()||hD()}get(){return hO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(s,e){Tr(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pO=new Sc(3e4,6e4);function Ir(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Rr(s,e,t,i,a={}){return qw(s,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=fc({key:s.config.apiKey,...c}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:p,...l};return uD()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&ul(s.emulatorConfig.host)&&(g.credentials="include"),Bw.fetch()(await jw(s,s.config.apiHost,t,d),g)})}async function qw(s,e,t){s._canInitEmulator=!1;const i={...dO,...e};try{const a=new yO(s),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw hf(s,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(s,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw hf(s,"email-already-in-use",c);if(p==="USER_DISABLED")throw hf(s,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw zw(s,v,g);di(s,v)}}catch(a){if(a instanceof Sr)throw a;di(s,"network-request-failed",{message:String(a)})}}async function bc(s,e,t,i,a={}){const l=await Rr(s,e,t,i,a);return"mfaPendingCredential"in l&&di(s,"multi-factor-auth-required",{_serverResponse:l}),l}async function jw(s,e,t,i){const a=`${e}${t}?${i}`,l=s,c=l.config.emulator?Fy(s.config,a):`${s.config.apiScheme}://${a}`;return mO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function gO(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(qi(this.auth,"network-request-failed")),pO.get())})}}function hf(s,e,t){const i={appName:s.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=qi(s,e,i);return a.customData._tokenResponse=t,a}function pA(s){return s!==void 0&&s.enterprise!==void 0}class _O{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vO(s,e){return Rr(s,"GET","/v2/recaptchaConfig",Ir(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(s,e){return Rr(s,"POST","/v1/accounts:delete",e)}async function Xf(s,e){return Rr(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TO(s,e=!1){const t=Gt(s),i=await t.getIdToken(e),a=Hy(i);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Hu(Xp(a.auth_time)),issuedAtTime:Hu(Xp(a.iat)),expirationTime:Hu(Xp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Xp(s){return Number(s)*1e3}function Hy(s){const[e,t,i]=s.split(".");if(e===void 0||t===void 0||i===void 0)return If("JWT malformed, contained fewer than 3 sections"),null;try{const a=tS(t);return a?JSON.parse(a):(If("Failed to decode base64 JWT payload"),null)}catch(a){return If("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function gA(s){const e=Hy(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(s,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Sr&&AO(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function AO({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(s){var T;const e=s.auth,t=await s.getIdToken(),i=await ac(s,Xf(e,{idToken:t}));Ae(i==null?void 0:i.users.length,e,"internal-error");const a=i.users[0];s._notifyReloadListener(a);const l=(T=a.providerUserInfo)!=null&&T.length?Fw(a.providerUserInfo):[],c=wO(s.providerData,l),d=s.isAnonymous,p=!(s.email&&a.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(s,v)}async function bO(s){const e=Gt(s);await Jf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wO(s,e){return[...s.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function Fw(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(s,e){const t=await qw(s,{},async()=>{const i=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=s.config,c=await jw(s,a,"/v1/token",`key=${l}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return s.emulatorConfig&&ul(s.emulatorConfig.host)&&(p.credentials="include"),Bw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RO(s,e){return Rr(s,"POST","/v2/accounts:revokeToken",Ir(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=gA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await IO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new jo;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new SO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ac(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TO(this,e)}reload(){return bO(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Jf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await ac(this,EO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:N,providerData:j,stsTokenManager:H}=t;Ae(T&&H,e,"internal-error");const P=jo.fromJSON(this.name,H);Ae(typeof T=="string",e,"internal-error"),cs(i,e.name),cs(a,e.name),Ae(typeof S=="boolean",e,"internal-error"),Ae(typeof N=="boolean",e,"internal-error"),cs(l,e.name),cs(c,e.name),cs(d,e.name),cs(p,e.name),cs(g,e.name),cs(v,e.name);const te=new fi({uid:T,auth:e,email:a,emailVerified:S,displayName:i,isAnonymous:N,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:P,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(te.providerData=j.map(ie=>({...ie}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,t,i=!1){const a=new jo;a.updateFromServerResponse(t);const l=new fi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Jf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Fw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new jo;d.updateFromIdToken(i);const p=new fi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new Map;function dr(s){Tr(s instanceof Function,"Expected a class definition");let e=yA.get(s);return e?(Tr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,yA.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Hw.type="NONE";const _A=Hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(s,e,t){return`firebase:${s}:${e}:${t}`}class Fo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Rf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Rf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xf(this.auth,{idToken:e}).catch(()=>{});return t?fi._fromGetAccountInfoResponse(this.auth,t,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Fo(dr(_A),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||dr(_A);const c=Rf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const S=await Xf(e,{idToken:v}).catch(()=>{});if(!S)break;T=await fi._fromGetAccountInfoResponse(e,S,v)}else T=fi._fromJSON(e,v);g!==l&&(d=T),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Fo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Gw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Xw(e))return"Blackberry";if(Jw(e))return"Webos";if(Kw(e))return"Safari";if((e.includes("chrome/")||Qw(e))&&!e.includes("edge/"))return"Chrome";if($w(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Gw(s=zt()){return/firefox\//i.test(s)}function Kw(s=zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qw(s=zt()){return/crios\//i.test(s)}function Yw(s=zt()){return/iemobile/i.test(s)}function $w(s=zt()){return/android/i.test(s)}function Xw(s=zt()){return/blackberry/i.test(s)}function Jw(s=zt()){return/webos/i.test(s)}function Gy(s=zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function CO(s=zt()){var e;return Gy(s)&&!!((e=window.navigator)!=null&&e.standalone)}function DO(){return fD()&&document.documentMode===10}function Ww(s=zt()){return Gy(s)||$w(s)||Jw(s)||Xw(s)||/windows phone/i.test(s)||Yw(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(s,e=[]){let t;switch(s){case"Browser":t=vA(zt());break;case"Worker":t=`${vA(zt())}-${s}`;break;default:t=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${cl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(s,e={}){return Rr(s,"GET","/v2/passwordPolicy",Ir(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=6;class OO{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??VO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EA(this),this.idTokenSubscription=new EA(this),this.beforeStateQueue=new NO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dr(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xf(this,{idToken:e}),i=await fi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,d=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(i=p.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(c){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(gr(this));const t=e?Gt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xO(this),t=new OO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await RO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&uO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ka(s){return Gt(s)}class EA{constructor(e){this.auth=e,this.observer=null,this.addObserver=_D(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PO(s){Cd=s}function eI(s){return Cd.loadJS(s)}function kO(){return Cd.recaptchaEnterpriseScript}function LO(){return Cd.gapiScript}function UO(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class zO{constructor(){this.enterprise=new BO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qO="recaptcha-enterprise",tI="NO_RECAPTCHA";class jO{constructor(e){this.type=qO,this.auth=ka(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{vO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new _O(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;pA(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(tI)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&pA(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=kO();p.length!==0&&(p+=d),eI(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function TA(s,e,t,i=!1,a=!1){const l=new jO(s);let c;if(a)c=tI;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function kg(s,e,t,i,a){var l;if((l=s._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await TA(s,e,t,t==="getOobCode");return i(s,c)}else return i(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await TA(s,e,t,t==="getOobCode");return i(s,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(s,e){const t=Jg(s,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ea(l,e??{}))return a;di(a,"already-initialized")}return t.initialize({options:e})}function HO(s,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(dr);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function GO(s,e,t){const i=ka(s);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=nI(e),{host:c,port:d}=KO(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(Ea(g,i.config.emulator)&&Ea(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,ul(c)?(aS(`${l}//${c}${p}`),oS("Auth",!0)):QO()}function nI(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function KO(s){const e=nI(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:AA(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:AA(c)}}}function AA(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function QO(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,t){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function YO(s,e){return Rr(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(s,e){return bc(s,"POST","/v1/accounts:signInWithPassword",Ir(s,e))}async function XO(s,e){return Rr(s,"POST","/v1/accounts:sendOobCode",Ir(s,e))}async function JO(s,e){return XO(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(s,e){return bc(s,"POST","/v1/accounts:signInWithEmailLink",Ir(s,e))}async function ZO(s,e){return bc(s,"POST","/v1/accounts:signInWithEmailLink",Ir(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Ky{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new oc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new oc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,t,"signInWithPassword",$O);case"emailLink":return WO(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,i,"signUpPassword",YO);case"emailLink":return ZO(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(s,e){return bc(s,"POST","/v1/accounts:signInWithIdp",Ir(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="http://localhost";class Na extends Ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Na(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:eM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nM(s){const e=Cu(Du(s)).link,t=e?Cu(Du(e)).deep_link_id:null,i=Cu(Du(s)).deep_link_id;return(i?Cu(Du(i)).link:null)||i||t||e||s}class Qy{constructor(e){const t=Cu(Du(e)),i=t.apiKey??null,a=t.oobCode??null,l=tM(t.mode??null);Ae(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=nM(e);try{return new Qy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,t){return oc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Qy.parseLink(t);return Ae(i,"argument-error"),oc._fromEmailAndCode(e,i.code,i.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends iI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends wc{constructor(){super("facebook.com")}static credential(e){return Na._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Na._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ds.credential(t,i)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends wc{constructor(){super("github.com")}static credential(e){return Na._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends wc{constructor(){super("twitter.com")}static credential(e,t){return Na._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ps.credential(t,i)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(s,e){return bc(s,"POST","/v1/accounts:signUp",Ir(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await fi._fromIdTokenResponse(e,i,a),c=SA(i);return new xa({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=SA(i);return new xa({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function SA(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Sr{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Wf(e,t,i,a)}}function rI(s,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(s,l,e,i):l})}async function rM(s,e,t=!1){const i=await ac(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return xa._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(s,e,t=!1){const{auth:i}=s;if(Kn(i.app))return Promise.reject(gr(i));const a="reauthenticate";try{const l=await ac(s,rI(i,a,e,s),t);Ae(l.idToken,i,"internal-error");const c=Hy(l.idToken);Ae(c,i,"internal-error");const{sub:d}=c;return Ae(s.uid===d,i,"user-mismatch"),xa._forOperation(s,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&di(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(s,e,t=!1){if(Kn(s.app))return Promise.reject(gr(s));const i="signIn",a=await rI(s,i,e),l=await xa._fromIdTokenResponse(s,i,a);return t||await s._updateCurrentUser(l.user),l}async function aM(s,e){return sI(ka(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(s){const e=ka(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oM(s,e,t){if(Kn(s.app))return Promise.reject(gr(s));const i=ka(s),c=await kg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iM).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&aI(s),p}),d=await xa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function lM(s,e,t){return Kn(s.app)?Promise.reject(gr(s)):aM(Gt(s),pl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&aI(s),i})}async function uM(s,e){const t=Gt(s),a={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:l}=await JO(t.auth,a);l!==s.email&&await s.reload()}function cM(s,e,t,i){return Gt(s).onIdTokenChanged(e,t,i)}function hM(s,e,t){return Gt(s).beforeAuthStateChanged(e,t)}const Zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=1e3,dM=10;class lI extends oI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ww(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);DO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,dM):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},fM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lI.type="LOCAL";const mM=lI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends oI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}uI.type="SESSION";const cI=uI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Dd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await pM(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(s="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Yy("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function yM(s){ji().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function _M(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vM(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function EM(){return hI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebaseLocalStorageDb",TM=1,ed="firebaseLocalStorage",dI="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nd(s,e){return s.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function AM(){const s=indexedDB.deleteDatabase(fI);return new Ic(s).toPromise()}function Lg(){const s=indexedDB.open(fI,TM);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(ed,{keyPath:dI})}catch(a){t(a)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(ed)?e(i):(i.close(),await AM(),e(await Lg()))})})}async function bA(s,e,t){const i=Nd(s,!0).put({[dI]:e,value:t});return new Ic(i).toPromise()}async function SM(s,e){const t=Nd(s,!1).get(e),i=await new Ic(t).toPromise();return i===void 0?null:i.value}function wA(s,e){const t=Nd(s,!0).delete(e);return new Ic(t).toPromise()}const bM=800,wM=3;class mI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>wM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dd._getInstance(EM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await _M(),!this.activeServiceWorker)return;this.sender=new gM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await bA(e,Zf,"1"),await wA(e,Zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>bA(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>SM(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nd(a,!1).getAll();return new Ic(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mI.type="LOCAL";const IM=mI;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(s,e){return e?dr(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends Ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function CM(s){return sI(s.auth,new $y(s),s.bypassAuthState)}function DM(s){const{auth:e,user:t}=s;return Ae(t,e,"internal-error"),sM(t,new $y(s),s.bypassAuthState)}async function NM(s){const{auth:e,user:t}=s;return Ae(t,e,"internal-error"),rM(t,new $y(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CM;case"linkViaPopup":case"linkViaRedirect":return NM;case"reauthViaPopup":case"reauthViaRedirect":return DM;default:di(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Sc(2e3,1e4);class zo extends pI{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=Yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xM.get())};e()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="pendingRedirect",Cf=new Map;class OM extends pI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const i=await MM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MM(s,e){const t=LM(e),i=kM(s);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function PM(s,e){Cf.set(s._key(),e)}function kM(s){return dr(s._redirectPersistence)}function LM(s){return Rf(VM,s.config.apiKey,s.name)}async function UM(s,e,t=!1){if(Kn(s.app))return Promise.reject(gr(s));const i=ka(s),a=RM(i,e),c=await new OM(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=600*1e3;class BM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!gI(e)){const a=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(qi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zM&&this.cachedEventUids.clear(),this.cachedEventUids.has(IA(e))}saveEventToCache(e){this.cachedEventUids.add(IA(e)),this.lastProcessedEventTime=Date.now()}}function IA(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function gI({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qM(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gI(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jM(s,e={}){return Rr(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HM=/^https?/;async function GM(s){if(s.config.emulator)return;const{authorizedDomains:e}=await jM(s);for(const t of e)try{if(KM(t))return}catch{}di(s,"unauthorized-domain")}function KM(s){const e=Mg(),{protocol:t,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const c=new URL(s);return c.hostname===""&&i===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!HM.test(t))return!1;if(FM.test(s))return i===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new Sc(3e4,6e4);function RA(){const s=ji().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function YM(s){return new Promise((e,t)=>{var a,l,c;function i(){RA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RA(),t(qi(s,"network-request-failed"))},timeout:QM.get()})}if((l=(a=ji().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=ji().gapi)!=null&&c.load)i();else{const d=UO("iframefcb");return ji()[d]=()=>{gapi.load?i():t(qi(s,"network-request-failed"))},eI(`${LO()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Df=null,e})}let Df=null;function $M(s){return Df=Df||YM(s),Df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new Sc(5e3,15e3),JM="__/auth/iframe",WM="emulator/auth/iframe",ZM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tP(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Fy(e,WM):`https://${s.config.authDomain}/${JM}`,i={apiKey:e.apiKey,appName:s.name,v:cl},a=eP.get(s.config.apiHost);a&&(i.eid=a);const l=s._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${fc(i).slice(1)}`}async function nP(s){const e=await $M(s),t=ji().gapi;return Ae(t,s,"internal-error"),e.open({where:document.body,url:tP(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=qi(s,"network-request-failed"),d=ji().setTimeout(()=>{l(c)},XM.get());function p(){ji().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rP=500,sP=600,aP="_blank",oP="http://localhost";class CA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lP(s,e,t,i=rP,a=sP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...iP,width:i.toString(),height:a.toString(),top:l,left:c},g=zt().toLowerCase();t&&(d=Qw(g)?aP:t),Gw(g)&&(e=e||oP,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[N,j])=>`${S}${N}=${j},`,"");if(CO(g)&&d!=="_self")return uP(e||"",d),new CA(null);const T=window.open(e||"",d,v);Ae(T,s,"popup-blocked");try{T.focus()}catch{}return new CA(T)}function uP(s,e){const t=document.createElement("a");t.href=s,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="__/auth/handler",hP="emulator/auth/handler",fP=encodeURIComponent("fac");async function DA(s,e,t,i,a,l){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const c={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:i,v:cl,eventId:a};if(e instanceof iI){e.setDefaultLanguage(s.languageCode),c.providerId=e.providerId||"",yD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof wc){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}s.tenantId&&(c.tid=s.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await s._getAppCheckToken(),g=p?`#${fP}=${encodeURIComponent(p)}`:"";return`${dP(s)}?${fc(d).slice(1)}${g}`}function dP({config:s}){return s.emulator?Fy(s,hP):`https://${s.authDomain}/${cP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class mP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cI,this._completeRedirectFn=UM,this._overrideRedirectResult=PM}async _openPopup(e,t,i,a){var c;Tr((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await DA(e,t,i,Mg(),a);return lP(e,l,Yy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await DA(e,t,i,Mg(),a);return yM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Tr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await nP(e),i=new BM(e);return t.register("authEvent",a=>(Ae(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jp,{type:Jp},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[Jp];l!==void 0&&t(!!l),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=GM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ww()||Kw()||Gy()}}const pP=mP;var NA="@firebase/auth",xA="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _P(s){Go(new Ta("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zw(s)},g=new MO(i,a,l,p);return HO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Go(new Ta("auth-internal",e=>{const t=ka(e.getProvider("auth").getImmediate());return(i=>new gP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(NA,xA,yP(s)),vs(NA,xA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=300,EP=sS("authIdTokenMaxAge")||vP;let VA=null;const TP=s=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>EP)return;const a=t==null?void 0:t.token;VA!==a&&(VA=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function AP(s=pS()){const e=Jg(s,"auth");if(e.isInitialized())return e.getImmediate();const t=FO(s,{popupRedirectResolver:pP,persistence:[IM,mM,cI]}),i=sS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=TP(l.toString());hM(t,c,()=>c(t.currentUser)),cM(t,d=>c(d))}}const a=iS("auth");return a&&GO(t,`http://${a}`),t}function SP(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}PO({loadJS(s){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=a=>{const l=qi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",SP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_P("Browser");const bP={apiKey:"AIzaSyA7-G3ZPT-ZBJ-cfyVRGTxYwhwvGFb9qig",authDomain:"t-tow-39100614-4b786.firebaseapp.com",projectId:"t-tow-39100614-4b786",storageBucket:"t-tow-39100614-4b786.firebasestorage.app",messagingSenderId:"850514831066",appId:"1:850514831066:web:ddf30ac4a4d02932b467e3"},yI=mS(bP),OA=AP(yI),Ug=KV(yI);try{QV(Ug)}catch(s){s.code=="failed-precondition"||s.code=="unimplemented"}const wP=({onLogin:s,currentLang:e,setLanguage:t})=>{const[i,a]=K.useState(!0),[l,c]=K.useState(vn.USER),[d,p]=K.useState(null),[g,v]=K.useState(!1),[T,S]=K.useState({email:"",password:"",vehicleModel:"",vehiclePlate:"",name:""}),N=XA[e],{primaryColor:j,textColor:H}=Yg(),P=K.useMemo(()=>({background:H==="gray"?"bg-gray-100":"bg-blue-100",text:H==="gray"?"text-gray-800":"text-blue-800",textMuted:H==="gray"?"text-gray-500":"text-blue-500",primary:j==="blue"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white",primaryText:j==="blue"?"text-blue-600":"text-gray-600",ring:j==="blue"?"focus:ring-blue-500":"focus:ring-gray-500",border:H==="gray"?"border-gray-300":"border-blue-300",activeTab:j==="blue"?"bg-white shadow text-blue-600":"bg-white shadow text-gray-600",inactiveTab:H==="gray"?"text-gray-500":"text-blue-500"}),[j,H]),te=Y=>{const{name:ce,value:de}=Y.target;S(ge=>({...ge,[ce]:de}))},ie=async Y=>{Y.preventDefault(),v(!0),p(null);try{if(i){const ce=await lM(OA,T.email,T.password),de=await aO(Vg(Ug,"users",ce.user.uid));de.exists()?s(de.data()):p("User data not found.")}else{const ce=await oM(OA,T.email,T.password);await uM(ce.user);const de={id:ce.user.uid,email:T.email,name:T.name,role:l,language:e,verified:ce.user.emailVerified,...l===vn.USER&&{vehicle:{model:T.vehicleModel,plate:T.vehiclePlate}},...l===vn.OWNER&&{companyName:"My Towing Co",isAvailable:!0,truckType:"flatbed",location:{lat:0,lng:0},lastUpdate:Date.now()}};await oO(Vg(Ug,"users",ce.user.uid),de),s(de)}}catch(ce){ce.code==="auth/email-already-in-use"?p("This email address is already in use. Please login or use a different email."):p(ce.message)}finally{v(!1)}};return se.jsxs("div",{className:`min-h-screen ${P.background} flex flex-col justify-center p-6 ${e==="ar"?"rtl":""}`,children:[se.jsxs("div",{className:"text-center mb-8",children:[se.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${P.primary.split(" ")[0]} text-white`,children:se.jsx(WA,{size:32})}),se.jsx("h1",{className:`text-3xl font-bold ${P.text}`,children:"DzTow"}),se.jsx("p",{className:`${P.textMuted} mt-2`,children:N.welcome})]}),se.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[se.jsxs("div",{className:`flex justify-center mb-6 ${P.background} p-1 rounded-lg`,children:[se.jsx("button",{onClick:()=>c(vn.USER),className:`flex-1 py-2 rounded-md text-sm font-medium transition-all ${l===vn.USER?P.activeTab:P.inactiveTab}`,children:N.driver}),se.jsx("button",{onClick:()=>c(vn.OWNER),className:`flex-1 py-2 rounded-md text-sm font-medium transition-all ${l===vn.OWNER?P.activeTab:P.inactiveTab}`,children:N.owner})]}),se.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[!i&&se.jsxs("div",{children:[se.jsx("label",{className:`block text-sm font-medium ${P.text} mb-1`,children:"Name"}),se.jsx("input",{type:"text",name:"name",className:`w-full p-3 border ${P.border} rounded-lg focus:ring-2 ${P.ring} outline-none`,placeholder:"Your Name",required:!0,value:T.name,onChange:te})]}),se.jsxs("div",{children:[se.jsx("label",{className:`block text-sm font-medium ${P.text} mb-1`,children:"Email"}),se.jsx("input",{type:"email",name:"email",className:`w-full p-3 border ${P.border} rounded-lg focus:ring-2 ${P.ring} outline-none`,placeholder:"email@example.com",required:!0,value:T.email,onChange:te})]}),se.jsxs("div",{children:[se.jsx("label",{className:`block text-sm font-medium ${P.text} mb-1`,children:"Password"}),se.jsx("input",{type:"password",name:"password",className:`w-full p-3 border ${P.border} rounded-lg focus:ring-2 ${P.ring} outline-none`,placeholder:"",required:!0,value:T.password,onChange:te})]}),!i&&l===vn.USER&&se.jsxs(se.Fragment,{children:[se.jsxs("div",{children:[se.jsx("label",{className:`block text-sm font-medium ${P.text} mb-1`,children:"Vehicle Model"}),se.jsx("input",{type:"text",name:"vehicleModel",className:`w-full p-3 border ${P.border} rounded-lg focus:ring-2 ${P.ring} outline-none`,placeholder:"e.g. Renault Clio 4",value:T.vehicleModel,onChange:te})]}),se.jsxs("div",{children:[se.jsx("label",{className:`block text-sm font-medium ${P.text} mb-1`,children:"License Plate"}),se.jsx("input",{type:"text",name:"vehiclePlate",className:`w-full p-3 border ${P.border} rounded-lg focus:ring-2 ${P.ring} outline-none`,placeholder:"00123 115 16",value:T.vehiclePlate,onChange:te})]})]}),d&&se.jsx("p",{className:"text-red-500 text-sm text-center",children:d}),se.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg font-semibold transition-colors ${P.primary}`,disabled:g,children:g?"Loading...":i?N.login:N.signup})]}),se.jsx("button",{onClick:()=>a(!i),className:`w-full mt-4 text-sm ${P.primaryText} text-center`,children:i?"Need an account? Sign up":"Already have an account? Login"})]}),se.jsx("div",{className:"mt-8 text-center",children:se.jsxs("select",{value:e,onChange:Y=>t(Y.target.value),className:`bg-transparent ${P.textMuted} text-sm`,children:[se.jsx("option",{value:"en",children:"English"}),se.jsx("option",{value:"fr",children:"Franais"}),se.jsx("option",{value:"ar",children:""})]})})]})},IP=K.lazy(()=>Va(()=>import("./HomePage-DVHKIwC2.js"),__vite__mapDeps([0,1,2,3]))),RP=K.lazy(()=>Va(()=>import("./TruckListPage-DusvZW54.js"),__vite__mapDeps([4,3]))),CP=K.lazy(()=>Va(()=>import("./OwnerChatPage-CqenVLad.js"),__vite__mapDeps([5,1,6,7,8]))),DP=K.lazy(()=>Va(()=>import("./OwnerDashboard-B98vrcys.js"),__vite__mapDeps([9,8,10]))),NP=K.lazy(()=>Va(()=>import("./ProfilePage-BuajgvqA.js"),__vite__mapDeps([11,7,8,10,2]))),xP=K.lazy(()=>Va(()=>import("./SettingsPage-aLZjmRLz.js"),__vite__mapDeps([12,1,6,2]))),VP=K.lazy(()=>Va(()=>import("./SupportPage-DGq2anEf.js"),__vite__mapDeps([13,6,3]))),OP=()=>{const[s,e]=K.useState(null),[t,i]=K.useState("en"),[a,l]=K.useState(null),[c,d]=K.useState({primaryColor:"blue",textColor:"gray"}),p=T=>{T.language&&i(T.language),e(T)};K.useEffect(()=>{s&&s.language!==t&&e(T=>T?{...T,language:t}:null)},[t,s]);const g=K.useMemo(()=>({background:c.textColor==="gray"?"bg-gray-50":"bg-blue-50"}),[c.textColor]),v=()=>se.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:se.jsx("p",{children:"Loading..."})});return s?se.jsx(SC,{children:se.jsx(eg.Provider,{value:{...c,setTheme:d},children:se.jsxs("div",{className:`min-h-screen ${g.background} max-w-md mx-auto shadow-2xl relative overflow-hidden ${t==="ar"?"rtl":""}`,children:[se.jsx($C,{title:"DzTow",currentLang:t,setLanguage:i}),se.jsx("div",{className:"pt-2",children:se.jsx(K.Suspense,{fallback:v(),children:se.jsxs(eC,{children:[se.jsx(cr,{path:"/",element:se.jsx(kp,{to:"/home"})}),se.jsx(cr,{path:"/home",element:se.jsx(IP,{user:s,currentLang:t,activeRequest:a,setActiveRequest:l})}),se.jsx(cr,{path:"/trucks",element:se.jsx(RP,{currentLang:t})}),se.jsx(cr,{path:"/chat",element:s.role===vn.OWNER?se.jsx(CP,{user:s,currentLang:t}):se.jsx(kp,{to:"/home"})}),se.jsx(cr,{path:"/dashboard",element:s.role===vn.OWNER?se.jsx(DP,{user:s,currentLang:t,onUpdateUser:e}):se.jsx(kp,{to:"/home"})}),se.jsx(cr,{path:"/profile",element:se.jsx(NP,{user:s,onLogout:()=>e(null),onUpdateUser:e,currentLang:t})}),se.jsx(cr,{path:"/settings",element:se.jsx(xP,{currentLang:t,setLanguage:i})}),se.jsx(cr,{path:"/support",element:se.jsx(VP,{currentLang:t})})]})})}),se.jsx(YC,{role:s.role,setLanguage:i,currentLang:t,onLogout:()=>e(null)})]})})}):se.jsx(eg.Provider,{value:{...c,setTheme:d},children:se.jsx(wP,{onLogin:p,currentLang:t,setLanguage:i})})},_I=document.getElementById("root");if(!_I)throw new Error("Could not find root element to mount to");const MP=aR.createRoot(_I);MP.render(se.jsx(W1.StrictMode,{children:se.jsx(OP,{})}));export{PP as C,zi as G,jC as M,OC as R,XA as T,QC as U,LP as a,Ug as b,cc as c,Vg as d,qP as e,jP as f,aO as g,WA as h,W1 as i,se as j,BP as k,Fg as l,FP as o,UP as q,K as r,HP as s,Yg as u,zP as w};
