const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-2ahR1-Fn.js","assets/useNotifications-Cbmh51Hk.js","assets/triangle-alert-BVWuNIex.js","assets/phone-Ksa3mGiC.js","assets/TruckListPage-CkmzMvtc.js","assets/OwnerChatPage-CX1hPknR.js","assets/chevron-left-QcDiI-p3.js","assets/camera-DQkYf54e.js","assets/check--E9i1QDC.js","assets/OwnerDashboard-B7uD7LZf.js","assets/x-C3tgBpW1.js","assets/ProfilePage-BE_dCZ1-.js","assets/SettingsPage-cmywuT1J.js","assets/SupportPage-Lll7LX6N.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function UT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function vb(){if(zv)return Vl;zv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var Bv;function Eb(){return Bv||(Bv=1,hm.exports=vb()),hm.exports}var _e=Eb(),fm={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Tb(){if(qv)return Te;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,F={};function te(M,J,re){this.props=M,this.context=J,this.refs=F,this.updater=re||G}te.prototype.isReactComponent={},te.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function se(){}se.prototype=te.prototype;function ee(M,J,re){this.props=M,this.context=J,this.refs=F,this.updater=re||G}var pe=ee.prototype=new se;pe.constructor=ee,X(pe,te.prototype),pe.isPureReactComponent=!0;var Ie=Array.isArray;function be(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(M,J,re){var le=re.ref;return{$$typeof:r,type:M,key:J,ref:le!==void 0?le:null,props:re}}function V(M,J){return R(M.type,J,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function x(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return J[re]})}var I=/\/+/g;function rt(M,J){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):J.toString(36)}function Nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(be,be):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,J,re,le,ve){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case r:case e:Le=!0;break;case E:return Le=M._init,Q(Le(M._payload),J,re,le,ve)}}if(Le)return ve=ve(M),Le=le===""?"."+rt(M,0):le,Ie(ve)?(re="",Le!=null&&(re=Le.replace(I,"$&/")+"/"),Q(ve,J,re,"",function(_s){return _s})):ve!=null&&(N(ve)&&(ve=V(ve,re+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+Le)),J.push(ve)),1;Le=0;var Ot=le===""?".":le+":";if(Ie(M))for(var st=0;st<M.length;st++)le=M[st],Re=Ot+rt(le,st),Le+=Q(le,J,re,Re,ve);else if(st=k(M),typeof st=="function")for(M=st.call(M),st=0;!(le=M.next()).done;)le=le.value,Re=Ot+rt(le,st++),Le+=Q(le,J,re,Re,ve);else if(Re==="object"){if(typeof M.then=="function")return Q(Nt(M),J,re,le,ve);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ie(M,J,re){if(M==null)return M;var le=[],ve=0;return Q(M,le,"","",function(Re){return J.call(re,Re,ve++)}),le}function de(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ie,forEach:function(M,J,re){ie(M,function(){J.apply(this,arguments)},re)},count:function(M){var J=0;return ie(M,function(){J++}),J},toArray:function(M){return ie(M,function(J){return J})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Te.Activity=T,Te.Children=Ge,Te.Component=te,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=ee,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(M,J,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=X({},M.props),ve=M.key;if(J!=null)for(Re in J.key!==void 0&&(ve=""+J.key),J)!b.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(le[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)le.children=re;else if(1<Re){for(var Le=Array(Re),Ot=0;Ot<Re;Ot++)Le[Ot]=arguments[Ot+2];le.children=Le}return R(M.type,ve,le)},Te.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Te.createElement=function(M,J,re){var le,ve={},Re=null;if(J!=null)for(le in J.key!==void 0&&(Re=""+J.key),J)b.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=J[le]);var Le=arguments.length-2;if(Le===1)ve.children=re;else if(1<Le){for(var Ot=Array(Le),st=0;st<Le;st++)Ot[st]=arguments[st+2];ve.children=Ot}if(M&&M.defaultProps)for(le in Le=M.defaultProps,Le)ve[le]===void 0&&(ve[le]=Le[le]);return R(M,Re,ve)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:m,render:M}},Te.isValidElement=N,Te.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:de}},Te.memo=function(M,J){return{$$typeof:g,type:M,compare:J===void 0?null:J}},Te.startTransition=function(M){var J=C.T,re={};C.T=re;try{var le=M(),ve=C.S;ve!==null&&ve(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(be,ze)}catch(Re){ze(Re)}finally{J!==null&&re.types!==null&&(J.types=re.types),C.T=J}},Te.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Te.use=function(M){return C.H.use(M)},Te.useActionState=function(M,J,re){return C.H.useActionState(M,J,re)},Te.useCallback=function(M,J){return C.H.useCallback(M,J)},Te.useContext=function(M){return C.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,J){return C.H.useDeferredValue(M,J)},Te.useEffect=function(M,J){return C.H.useEffect(M,J)},Te.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Te.useId=function(){return C.H.useId()},Te.useImperativeHandle=function(M,J,re){return C.H.useImperativeHandle(M,J,re)},Te.useInsertionEffect=function(M,J){return C.H.useInsertionEffect(M,J)},Te.useLayoutEffect=function(M,J){return C.H.useLayoutEffect(M,J)},Te.useMemo=function(M,J){return C.H.useMemo(M,J)},Te.useOptimistic=function(M,J){return C.H.useOptimistic(M,J)},Te.useReducer=function(M,J,re){return C.H.useReducer(M,J,re)},Te.useRef=function(M){return C.H.useRef(M)},Te.useState=function(M){return C.H.useState(M)},Te.useSyncExternalStore=function(M,J,re){return C.H.useSyncExternalStore(M,J,re)},Te.useTransition=function(){return C.H.useTransition()},Te.version="19.2.1",Te}var Hv;function dp(){return Hv||(Hv=1,fm.exports=Tb()),fm.exports}var j=dp();const Ab=UT(j);var dm={exports:{}},kl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function Sb(){return jv||(jv=1,(function(r){function e(Q,ie){var de=Q.length;Q.push(ie);e:for(;0<de;){var ze=de-1>>>1,Ge=Q[ze];if(0<o(Ge,ie))Q[ze]=ie,Q[de]=Ge,de=ze;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ie=Q[0],de=Q.pop();if(de!==ie){Q[0]=de;e:for(var ze=0,Ge=Q.length,M=Ge>>>1;ze<M;){var J=2*(ze+1)-1,re=Q[J],le=J+1,ve=Q[le];if(0>o(re,de))le<Ge&&0>o(ve,re)?(Q[ze]=ve,Q[le]=de,ze=le):(Q[ze]=re,Q[J]=de,ze=J);else if(le<Ge&&0>o(ve,de))Q[ze]=ve,Q[le]=de,ze=le;else break e}}return ie}function o(Q,ie){var de=Q.sortIndex-ie.sortIndex;return de!==0?de:Q.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,k=!1,G=!1,X=!1,F=!1,te=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function pe(Q){for(var ie=n(g);ie!==null;){if(ie.callback===null)s(g);else if(ie.startTime<=Q)s(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(g)}}function Ie(Q){if(X=!1,pe(Q),!G)if(n(p)!==null)G=!0,be||(be=!0,x());else{var ie=n(g);ie!==null&&Nt(Ie,ie.startTime-Q)}}var be=!1,C=-1,b=5,R=-1;function V(){return F?!0:!(r.unstable_now()-R<b)}function N(){if(F=!1,be){var Q=r.unstable_now();R=Q;var ie=!0;try{e:{G=!1,X&&(X=!1,se(C),C=-1),k=!0;var de=w;try{t:{for(pe(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&V());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,w=T.priorityLevel;var Ge=ze(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,pe(Q),ie=!0;break t}T===n(p)&&s(p),pe(Q)}else s(p);T=n(p)}if(T!==null)ie=!0;else{var M=n(g);M!==null&&Nt(Ie,M.startTime-Q),ie=!1}}break e}finally{T=null,w=de,k=!1}ie=void 0}}finally{ie?x():be=!1}}}var x;if(typeof ee=="function")x=function(){ee(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,rt=I.port2;I.port1.onmessage=N,x=function(){rt.postMessage(null)}}else x=function(){te(N,0)};function Nt(Q,ie){C=te(function(){Q(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var de=w;w=ie;try{return Q()}finally{w=de}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=w;w=Q;try{return ie()}finally{w=de}},r.unstable_scheduleCallback=function(Q,ie,de){var ze=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,Q){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=de+Ge,Q={id:E++,callback:ie,priorityLevel:Q,startTime:de,expirationTime:Ge,sortIndex:-1},de>ze?(Q.sortIndex=de,e(g,Q),n(p)===null&&Q===n(g)&&(X?(se(C),C=-1):X=!0,Nt(Ie,de-ze))):(Q.sortIndex=Ge,e(p,Q),G||k||(G=!0,be||(be=!0,x()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var ie=w;return function(){var de=w;w=ie;try{return Q.apply(this,arguments)}finally{w=de}}}})(pm)),pm}var Fv;function wb(){return Fv||(Fv=1,mm.exports=Sb()),mm.exports}var gm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function bb(){if(Gv)return Xt;Gv=1;var r=dp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.1",Xt}var Kv;function Rb(){if(Kv)return gm.exports;Kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=bb(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function Cb(){if(Qv)return kl;Qv=1;var r=wb(),e=dp(),n=Rb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,l=d;break}if(A===l){_=!0,l=f,a=d;break}A=A.sibling}if(!_){for(A=d.child;A;){if(A===a){_=!0,a=d,l=f;break}if(A===l){_=!0,l=d,a=f;break}A=A.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case te:return"Profiler";case F:return"StrictMode";case Ie:return"Suspense";case be:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ee:return t.displayName||"Context";case se:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Nt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],Ge=-1;function M(t){return{current:t}}function J(t){0>Ge||(t.current=ze[Ge],ze[Ge]=null,Ge--)}function re(t,i){Ge++,ze[Ge]=t.current,t.current=i}var le=M(null),ve=M(null),Re=M(null),Le=M(null);function Ot(t,i){switch(re(Re,i),re(ve,t),re(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?lv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=lv(i),t=uv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(le),re(le,t)}function st(){J(le),J(ve),J(Re)}function _s(t){t.memoizedState!==null&&re(Le,t);var i=le.current,a=uv(i,t.type);i!==a&&(re(ve,t),re(le,a))}function la(t){ve.current===t&&(J(le),J(ve)),Le.current===t&&(J(Le),Dl._currentValue=de)}var ua,ca;function si(t){if(ua===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ua=i&&i[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+t+ca}var Do=!1;function vs(t,i){if(!t||Do)return"";Do=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var B=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){B=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){B=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],A=d[1];if(_&&A){var D=_.split(`
`),z=A.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===z.length)for(l=D.length-1,f=z.length-1;1<=l&&0<=f&&D[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==z[f]){var K=`
`+D[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=f);break}}}finally{Do=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function No(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return si("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=No(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,df=r.unstable_shouldYield,Su=r.unstable_requestPaint,tn=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,mf=r.unstable_LowPriority,wu=r.unstable_IdlePriority,bu=r.log,Ru=r.unstable_setDisableYieldValue,Hn=null,qt=null;function bn(t){if(typeof bu=="function"&&Ru(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Hn,t)}catch{}}var dt=Math.clz32?Math.clz32:Iu,Cu=Math.log,ha=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Cu(t)/ha|0)|0}var ai=256,Ts=262144,vt=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?f=oi(l):(_&=A,_!==0?f=oi(_):a||(a=A&~t,a!==0&&(f=oi(a))))):(A=l&~d,A!==0?f=oi(A):_!==0?f=oi(_):a||(a=l&~t,a!==0&&(f=oi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var K=31-dt(a),W=1<<K;A[K]=0,D[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&Ss(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Po(t,i){var a=i&-i;return a=(a&42)!==0?1:ws(a),(a&(t.suspendedLanes|i))!==0?0:a}function ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Mv(t.type))}function Fn(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var Gn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,ci="__reactContainer$"+Gn,fa="__reactEvents$"+Gn,yf="__reactListeners$"+Gn,Ou="__reactHandles$"+Gn,Mu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function da(t){delete t[Et],delete t[Lt],delete t[fa],delete t[yf],delete t[Ou]}function fi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=gv(t);t!==null;){if(a=t[Et])return a;t=gv(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Et]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[hi]=!0}var xo=new Set,Lo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(Lo[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Bo={};function Vu(t){return _t.call(Bo,t)?!0:_t.call(zo,t)?!1:Uo.test(t)?Bo[t]=!0:(zo[t]=!0,!1)}function ma(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=qo(t,i,""+t[i])}}function bs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rs=/[\n"\\]/g;function sn(t){return t.replace(Rs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pa(t,i,a,l,f,d,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ho(t,_,Ut(i)):a!=null?Ho(t,_,Ut(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ut(A):t.removeAttribute("name")}function ku(t,i,a,l,f,d,_,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Ho(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Pu(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function Tr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||xu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&jo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&jo(t,d,i[d])}function ga(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Go=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,yi=null;function Cs(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));pa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&bs(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var _a=!1;function wr(t,i,a){if(_a)return t(i,a);_a=!0;try{var l=t(i);return l}finally{if(_a=!1,(Sr!==null||yi!==null)&&(Nc(),Sr&&(i=Sr,t=yi,yi=Sr=null,Cs(i),t)))for(i=0;i<t.length;i++)Cs(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(In)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Is=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Is=!1}var _i=null,Ko=null,Ds=null;function Qo(){if(Ds)return Ds;var t,i=Ko,a=i.length,l,f="value"in _i?_i.value:_i.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ds=f.slice(t,1<l?1-l:void 0)}function Ns(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function Ht(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Ht(Ui),br=T({},Ui,{view:0,detail:0}),Yo=Ht(br),Rr,va,Ei,Ea=T({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Rr=t.screenX-Ei.screenX,va=t.screenY-Ei.screenY):va=Rr=0,Ei=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:va}}),$o=Ht(Ea),Os=T({},Ea,{dataTransfer:0}),Uu=Ht(Os),zu=T({},br,{relatedTarget:0}),Ms=Ht(zu),Xo=T({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=Ht(Xo),Ta=T({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qu=Ht(Ta),Hu=T({},Ui,{data:0}),Ti=Ht(Hu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Cr(){return Ku}var nn=T({},br,{key:function(t){if(t.key){var i=ju[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ns(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Ns(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ns(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qu=Ht(nn),Yu=T({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Ht(Yu),c=T({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=Ht(c),v=T({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(v),L=T({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ht(L),ne=T({},Ui,{newState:0,oldState:0}),Se=Ht(ne),mt=[9,13,27,32],He=In&&"CompositionEvent"in window,at=null;In&&"documentMode"in document&&(at=document.documentMode);var Dn=In&&"TextEvent"in window&&!at,Ai=In&&(!He||at&&8<at&&11>=at),$n=" ",Xn=!1;function Vs(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function jS(t,i){switch(t){case"compositionend":return Aa(i);case"keypress":return i.which!==32?null:(Xn=!0,$n);case"textInput":return t=i.data,t===$n&&Xn?null:t;default:return null}}function FS(t,i){if(Sa)return t==="compositionend"||!He&&Vs(t,i)?(t=Qo(),Ds=Ko=_i=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!GS[t.type]:i==="textarea"}function Eg(t,i,a,l){Sr?yi?yi.push(l):yi=[l]:Sr=l,i=Lc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Wo=null,Jo=null;function KS(t){nv(t,0)}function $u(t){var i=pn(t);if(bs(i))return t}function Tg(t,i){if(t==="change")return i}var Ag=!1;if(In){var _f;if(In){var vf="oninput"in document;if(!vf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),vf=typeof Sg.oninput=="function"}_f=vf}else _f=!1;Ag=_f&&(!document.documentMode||9<document.documentMode)}function wg(){Wo&&(Wo.detachEvent("onpropertychange",bg),Jo=Wo=null)}function bg(t){if(t.propertyName==="value"&&$u(Jo)){var i=[];Eg(i,Jo,t,Cn(t)),wr(KS,i)}}function QS(t,i,a){t==="focusin"?(wg(),Wo=i,Jo=a,Wo.attachEvent("onpropertychange",bg)):t==="focusout"&&wg()}function YS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Jo)}function $S(t,i){if(t==="click")return $u(i)}function XS(t,i){if(t==="input"||t==="change")return $u(i)}function WS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:WS;function Zo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_t.call(i,f)||!yn(t[f],i[f]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,i){var a=Rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function Ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var JS=In&&"documentMode"in document&&11>=document.documentMode,wa=null,Tf=null,el=null,Af=!1;function Ng(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||wa==null||wa!==gi(l)||(l=wa,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Zo(el,l)||(el=l,l=Lc(Tf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=wa)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Sf={},Og={};In&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ps(t){if(Sf[t])return Sf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Og)return Sf[t]=i[a];return t}var Mg=Ps("animationend"),Vg=Ps("animationiteration"),kg=Ps("animationstart"),ZS=Ps("transitionrun"),ew=Ps("transitionstart"),tw=Ps("transitioncancel"),Pg=Ps("transitionend"),xg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Wn(t,i){xg.set(t,i),mi(i,[t])}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],Ra=0,bf=0;function Wu(){for(var t=Ra,i=bf=Ra=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var f=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Lg(a,f,d)}}function Ju(t,i,a,l){Nn[Ra++]=t,Nn[Ra++]=i,Nn[Ra++]=a,Nn[Ra++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,i,a,l){return Ju(t,i,a,l),Zu(t)}function xs(t,i){return Ju(t,null,null,i),Zu(t)}function Lg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-dt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zu(t){if(50<Al)throw Al=0,Pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={};function nw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new nw(t,i,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ug(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=ob(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,i,f),t.elementType=R,t.lanes=d,t;case X:return Ls(a.children,f,d,i);case F:_=8,f|=24;break;case te:return t=_n(12,a,i,f|2),t.elementType=te,t.lanes=d,t;case Ie:return t=_n(13,a,i,f),t.elementType=Ie,t.lanes=d,t;case be:return t=_n(19,a,i,f),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:_=10;break e;case se:_=9;break e;case pe:_=11;break e;case C:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Ls(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function If(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function zg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function Df(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Bg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Bg.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Ia=[],Da=0,tc=null,tl=0,Mn=[],Vn=0,Ir=null,Si=1,wi="";function qi(t,i){Ia[Da++]=tl,Ia[Da++]=tc,tc=t,tl=i}function qg(t,i,a){Mn[Vn++]=Si,Mn[Vn++]=wi,Mn[Vn++]=Ir,Ir=t;var l=Si;t=wi;var f=32-dt(l)-1;l&=~(1<<f),a+=1;var d=32-dt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Si=1<<32-dt(i)+f|a<<f|l,wi=d+t}else Si=1<<d|a<<f|l,wi=t}function Nf(t){t.return!==null&&(qi(t,1),qg(t,1,0))}function Of(t){for(;t===tc;)tc=Ia[--Da],Ia[Da]=null,tl=Ia[--Da],Ia[Da]=null;for(;t===Ir;)Ir=Mn[--Vn],Mn[Vn]=null,wi=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null}function Hg(t,i){Mn[Vn++]=Si,Mn[Vn++]=wi,Mn[Vn++]=Ir,Si=i.id,wi=i.overflow,Ir=t}var jt=null,tt=null,xe=!1,Dr=null,kn=!1,Mf=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(On(i,t)),Mf}function jg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)Ne(wl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),ku(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||av(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Nr(t,!0)}function Fg(t){for(jt=t.return;jt;)switch(jt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:jt=jt.return}}function Na(t){if(t!==jt)return!1;if(!xe)return Fg(t),xe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&tt&&Nr(t),Fg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=pv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=pv(t)}else i===27?(i=tt,Fr(t.type)?(t=tm,tm=null,tt=t):tt=i):tt=jt?xn(t.stateNode.nextSibling):null;return!0}function Us(){tt=jt=null,xe=!1}function Vf(){var t=Dr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Dr=null),t}function nl(t){Dr===null?Dr=[t]:Dr.push(t)}var kf=M(null),zs=null,Hi=null;function Or(t,i,a){re(kf,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=kf.current,J(kf)}function Pf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function xf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=f;for(var D=0;D<i.length;D++)if(A.context===i[D]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),Pf(d.return,a,t),l||(_=null);break e}d=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Pf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Oa(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var A=f.type;yn(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}f=f.return}t!==null&&xf(i,t,a,l),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){zs=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Gg(zs,t)}function ic(t,i){return zs===null&&Bs(t),Gg(t,i)}function Gg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hi=Hi.next=i;return a}var iw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},rw=r.unstable_scheduleCallback,sw=r.unstable_NormalPriority,St={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new iw,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&rw(sw,function(){t.controller.abort()})}var rl=null,Uf=0,Ma=0,Va=null;function aw(t,i){if(rl===null){var a=rl=[];Uf=0,Ma=qd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,i.then(Kg,Kg),i}function Kg(){if(--Uf===0&&rl!==null){Va!==null&&(Va.status="fulfilled");var t=rl;rl=null,Ma=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ow(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Qg=Q.S;Q.S=function(t,i){N_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&aw(t,i),Qg!==null&&Qg(t,i)};var qs=M(null);function zf(){var t=qs.current;return t!==null?t:Ze.pooledCache}function rc(t,i){i===null?re(qs,qs.current):re(qs,i.pool)}function Yg(){var t=zf();return t===null?null:{parent:St._currentValue,pool:t}}var ka=Error(s(460)),Bf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function $g(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t}throw js=i,ka}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(js=a,ka):a}}var js=null;function Wg(){if(js===null)throw Error(s(459));var t=js;return js=null,t}function Jg(t){if(t===ka||t===sc)throw Error(s(483))}var Pa=null,sl=0;function oc(t){var i=sl;return sl+=1,Pa===null&&(Pa=[]),Xg(Pa,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Zg(t){function i(P,O){if(t){var U=P.deletions;U===null?(P.deletions=[O],P.flags|=16):U.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(P,O){return P=Bi(P,O),P.index=0,P.sibling=null,P}function d(P,O,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<O?(P.flags|=67108866,O):U):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function A(P,O,U,Y){return O===null||O.tag!==6?(O=If(U,P.mode,Y),O.return=P,O):(O=f(O,U),O.return=P,O)}function D(P,O,U,Y){var he=U.type;return he===X?K(P,O,U.props.children,Y,U.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&Hs(he)===O.type)?(O=f(O,U.props),al(O,U),O.return=P,O):(O=ec(U.type,U.key,U.props,null,P.mode,Y),al(O,U),O.return=P,O)}function z(P,O,U,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Df(U,P.mode,Y),O.return=P,O):(O=f(O,U.children||[]),O.return=P,O)}function K(P,O,U,Y,he){return O===null||O.tag!==7?(O=Ls(U,P.mode,Y,he),O.return=P,O):(O=f(O,U),O.return=P,O)}function W(P,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=If(""+O,P.mode,U),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return U=ec(O.type,O.key,O.props,null,P.mode,U),al(U,O),U.return=P,U;case G:return O=Df(O,P.mode,U),O.return=P,O;case b:return O=Hs(O),W(P,O,U)}if(Nt(O)||x(O))return O=Ls(O,P.mode,U,null),O.return=P,O;if(typeof O.then=="function")return W(P,oc(O),U);if(O.$$typeof===ee)return W(P,ic(P,O),U);lc(P,O)}return null}function B(P,O,U,Y){var he=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return he!==null?null:A(P,O,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return U.key===he?D(P,O,U,Y):null;case G:return U.key===he?z(P,O,U,Y):null;case b:return U=Hs(U),B(P,O,U,Y)}if(Nt(U)||x(U))return he!==null?null:K(P,O,U,Y,null);if(typeof U.then=="function")return B(P,O,oc(U),Y);if(U.$$typeof===ee)return B(P,O,ic(P,U),Y);lc(P,U)}return null}function H(P,O,U,Y,he){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(U)||null,A(O,P,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case k:return P=P.get(Y.key===null?U:Y.key)||null,D(O,P,Y,he);case G:return P=P.get(Y.key===null?U:Y.key)||null,z(O,P,Y,he);case b:return Y=Hs(Y),H(P,O,U,Y,he)}if(Nt(Y)||x(Y))return P=P.get(U)||null,K(O,P,Y,he,null);if(typeof Y.then=="function")return H(P,O,U,oc(Y),he);if(Y.$$typeof===ee)return H(P,O,U,ic(O,Y),he);lc(O,Y)}return null}function ue(P,O,U,Y){for(var he=null,Be=null,ce=O,Ce=O=0,Me=null;ce!==null&&Ce<U.length;Ce++){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var qe=B(P,ce,U[Ce],Y);if(qe===null){ce===null&&(ce=Me);break}t&&ce&&qe.alternate===null&&i(P,ce),O=d(qe,O,Ce),Be===null?he=qe:Be.sibling=qe,Be=qe,ce=Me}if(Ce===U.length)return a(P,ce),xe&&qi(P,Ce),he;if(ce===null){for(;Ce<U.length;Ce++)ce=W(P,U[Ce],Y),ce!==null&&(O=d(ce,O,Ce),Be===null?he=ce:Be.sibling=ce,Be=ce);return xe&&qi(P,Ce),he}for(ce=l(ce);Ce<U.length;Ce++)Me=H(ce,P,Ce,U[Ce],Y),Me!==null&&(t&&Me.alternate!==null&&ce.delete(Me.key===null?Ce:Me.key),O=d(Me,O,Ce),Be===null?he=Me:Be.sibling=Me,Be=Me);return t&&ce.forEach(function($r){return i(P,$r)}),xe&&qi(P,Ce),he}function me(P,O,U,Y){if(U==null)throw Error(s(151));for(var he=null,Be=null,ce=O,Ce=O=0,Me=null,qe=U.next();ce!==null&&!qe.done;Ce++,qe=U.next()){ce.index>Ce?(Me=ce,ce=null):Me=ce.sibling;var $r=B(P,ce,qe.value,Y);if($r===null){ce===null&&(ce=Me);break}t&&ce&&$r.alternate===null&&i(P,ce),O=d($r,O,Ce),Be===null?he=$r:Be.sibling=$r,Be=$r,ce=Me}if(qe.done)return a(P,ce),xe&&qi(P,Ce),he;if(ce===null){for(;!qe.done;Ce++,qe=U.next())qe=W(P,qe.value,Y),qe!==null&&(O=d(qe,O,Ce),Be===null?he=qe:Be.sibling=qe,Be=qe);return xe&&qi(P,Ce),he}for(ce=l(ce);!qe.done;Ce++,qe=U.next())qe=H(ce,P,Ce,qe.value,Y),qe!==null&&(t&&qe.alternate!==null&&ce.delete(qe.key===null?Ce:qe.key),O=d(qe,O,Ce),Be===null?he=qe:Be.sibling=qe,Be=qe);return t&&ce.forEach(function(_b){return i(P,_b)}),xe&&qi(P,Ce),he}function Je(P,O,U,Y){if(typeof U=="object"&&U!==null&&U.type===X&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case k:e:{for(var he=U.key;O!==null;){if(O.key===he){if(he=U.type,he===X){if(O.tag===7){a(P,O.sibling),Y=f(O,U.props.children),Y.return=P,P=Y;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&Hs(he)===O.type){a(P,O.sibling),Y=f(O,U.props),al(Y,U),Y.return=P,P=Y;break e}a(P,O);break}else i(P,O);O=O.sibling}U.type===X?(Y=Ls(U.props.children,P.mode,Y,U.key),Y.return=P,P=Y):(Y=ec(U.type,U.key,U.props,null,P.mode,Y),al(Y,U),Y.return=P,P=Y)}return _(P);case G:e:{for(he=U.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(P,O.sibling),Y=f(O,U.children||[]),Y.return=P,P=Y;break e}else{a(P,O);break}else i(P,O);O=O.sibling}Y=Df(U,P.mode,Y),Y.return=P,P=Y}return _(P);case b:return U=Hs(U),Je(P,O,U,Y)}if(Nt(U))return ue(P,O,U,Y);if(x(U)){if(he=x(U),typeof he!="function")throw Error(s(150));return U=he.call(U),me(P,O,U,Y)}if(typeof U.then=="function")return Je(P,O,oc(U),Y);if(U.$$typeof===ee)return Je(P,O,ic(P,U),Y);lc(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(a(P,O.sibling),Y=f(O,U),Y.return=P,P=Y):(a(P,O),Y=If(U,P.mode,Y),Y.return=P,P=Y),_(P)):a(P,O)}return function(P,O,U,Y){try{sl=0;var he=Je(P,O,U,Y);return Pa=null,he}catch(ce){if(ce===ka||ce===sc)throw ce;var Be=_n(29,ce,null,P.mode);return Be.lanes=Y,Be.return=P,Be}finally{}}}var Fs=Zg(!0),ey=Zg(!1),Mr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(je&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Zu(t),Lg(t,null,a),i}return Ju(t,l,i,a),Zu(t)}function ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}function jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function ll(){if(Ff){var t=Va;if(t!==null)throw t}}function ul(t,i,a,l){Ff=!1;var f=t.updateQueue;Mr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,z=D.next;D.next=null,_===null?d=z:_.next=z,_=D;var K=t.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==_&&(A===null?K.firstBaseUpdate=z:A.next=z,K.lastBaseUpdate=D))}if(d!==null){var W=f.baseState;_=0,K=z=D=null,A=d;do{var B=A.lane&-536870913,H=B!==A.lane;if(H?(Oe&B)===B:(l&B)===B){B!==0&&B===Ma&&(Ff=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ue=t,me=A;B=i;var Je=a;switch(me.tag){case 1:if(ue=me.payload,typeof ue=="function"){W=ue.call(Je,W,B);break e}W=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=me.payload,B=typeof ue=="function"?ue.call(Je,W,B):ue,B==null)break e;W=T({},W,B);break e;case 2:Mr=!0}}B=A.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[B]:H.push(B))}else H={lane:B,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(z=K=H,D=W):K=K.next=H,_|=B;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;H=A,A=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);K===null&&(D=W),f.baseState=D,f.firstBaseUpdate=z,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),zr|=_,t.lanes=_,t.memoizedState=W}}function ty(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ny(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ty(a[t],i)}var xa=M(null),uc=M(0);function iy(t,i){t=Ji,re(uc,t),re(xa,i),Ji=t|i.baseLanes}function Gf(){re(uc,Ji),re(xa,xa.current)}function Kf(){Ji=uc.current,J(xa),J(uc)}var vn=M(null),Pn=null;function Pr(t){var i=t.alternate;re(pt,pt.current&1),re(vn,t),Pn===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(Pn=t)}function Qf(t){re(pt,pt.current),re(vn,t),Pn===null&&(Pn=t)}function ry(t){t.tag===22?(re(pt,pt.current),re(vn,t),Pn===null&&(Pn=t)):xr()}function xr(){re(pt,pt.current),re(vn,vn.current)}function En(t){J(vn),Pn===t&&(Pn=null),J(pt)}var pt=M(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fi=0,we=null,Xe=null,wt=null,hc=!1,La=!1,Gs=!1,fc=0,cl=0,Ua=null,lw=0;function ct(){throw Error(s(321))}function Yf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,f,d){return Fi=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?qy:cd,Gs=!1,d=a(l,f),Gs=!1,La&&(d=ay(i,a,l,f)),sy(t),d}function sy(t){Q.H=dl;var i=Xe!==null&&Xe.next!==null;if(Fi=0,wt=Xe=we=null,hc=!1,cl=0,Ua=null,i)throw Error(s(300));t===null||bt||(t=t.dependencies,t!==null&&nc(t)&&(bt=!0))}function ay(t,i,a,l){we=t;var f=0;do{if(La&&(Ua=null),cl=0,La=!1,25<=f)throw Error(s(301));if(f+=1,wt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Hy,d=i(a,l)}while(La);return d}function uw(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(we.flags|=1024),i}function Xf(){var t=fc!==0;return fc=0,t}function Wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}Fi=0,wt=Xe=we=null,La=!1,cl=fc=0,Ua=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?we.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if(Xe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=wt===null?we.memoizedState:wt.next;if(i!==null)wt=i,Xe=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?we.memoizedState=wt=t:wt=wt.next=t}return wt}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,Ua===null&&(Ua=[]),t=Xg(Ua,t,i),i=we,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?qy:cd),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===ee)return Ft(t)}throw Error(s(438,String(t)))}function Zf(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Gi(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=gt();return ed(i,Xe,t)}function ed(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var A=_=null,D=null,z=i,K=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Oe&W)===W:(Fi&W)===W){var B=z.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Ma&&(K=!0);else if((Fi&B)===B){z=z.next,B===Ma&&(K=!0);continue}else W={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=W,_=d):D=D.next=W,we.lanes|=B,zr|=B;W=z.action,Gs&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else B={lane:W,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(A=D=B,_=d):D=D.next=B,we.lanes|=W,zr|=W;z=z.next}while(z!==null&&z!==i);if(D===null?_=d:D.next=A,!yn(d,t.memoizedState)&&(bt=!0,K&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);yn(d,i.memoizedState)||(bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function oy(t,i,a){var l=we,f=gt(),d=xe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,bt=!0),f=f.queue,rd(cy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},uy.bind(null,l,f,a,i),null),Ze===null)throw Error(s(349));d||(Fi&127)!==0||ly(l,i,a)}return a}function ly(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=dc(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function uy(t,i,a,l){i.value=a,i.getSnapshot=l,hy(i)&&fy(t)}function cy(t,i,a){return a(function(){hy(i)&&fy(t)})}function hy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function fy(t){var i=xs(t,2);i!==null&&hn(i,t,2)}function nd(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Gs){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},i}function dy(t,i,a,l){return t.baseState=a,ed(t,Xe,typeof l=="function"?l:Gi)}function cw(t,i,a,l,f){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,my(i,d)):(d.next=a.next,i.pending=a.next=d)}}function my(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var A=a(f,l),D=Q.S;D!==null&&D(_,A),py(t,i,A)}catch(z){id(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),py(t,i,d)}catch(z){id(t,i,z)}}function py(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gy(t,i,l)},function(l){return id(t,i,l)}):gy(t,i,a)}function gy(t,i,a){i.status="fulfilled",i.value=a,yy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,my(t,a)))}function id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,yy(i),i=i.next;while(i!==l)}t.action=null}function yy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function _y(t,i){return i}function vy(t,i){if(xe){var a=Ze.formState;if(a!==null){e:{var l=we;if(xe){if(tt){t:{for(var f=tt,d=kn;f.nodeType!==8;){if(!d){f=null;break t}if(f=xn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){tt=xn(f.nextSibling),l=f.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:i},a.queue=l,a=Uy.bind(null,we,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,we,!1,l.queue),l=rn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=cw.bind(null,we,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ey(t){var i=gt();return Ty(i,Xe,t)}function Ty(t,i,a){if(i=ed(t,i,_y)[0],t=pc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(_){throw _===ka?sc:_}else l=i;i=gt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(we.flags|=2048,za(9,{destroy:void 0},hw.bind(null,f,a),null)),[l,d,t]}function hw(t,i){t.action=i}function Ay(t){var i=gt(),a=Xe;if(a!==null)return Ty(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=dc(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Sy(){return gt().memoizedState}function gc(t,i,a,l){var f=rn();we.flags|=t,f.memoizedState=za(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(t,i,a,l){var f=gt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&Yf(l,Xe.memoizedState.deps)?f.memoizedState=za(i,d,a,l):(we.flags|=t,f.memoizedState=za(1|i,d,a,l))}function wy(t,i){gc(8390656,8,t,i)}function rd(t,i){yc(2048,8,t,i)}function fw(t){we.flags|=4;var i=we.updateQueue;if(i===null)i=dc(),we.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function by(t){var i=gt().memoizedState;return fw({ref:i,nextImpl:t}),function(){if((je&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ry(t,i){return yc(4,2,t,i)}function Cy(t,i){return yc(4,4,t,i)}function Iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Dy(t,i,a){a=a!=null?a.concat([t]):null,yc(4,4,Iy.bind(null,i,t),a)}function sd(){}function Ny(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Oy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yf(i,l[1]))return l[0];if(l=t(),Gs){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,i],l}function ad(t,i,a){return a===void 0||(Fi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=M_(),we.lanes|=t,zr|=t,a)}function My(t,i,a,l){return yn(a,i)?a:xa.current!==null?(t=ad(t,a,l),yn(t,i)||(bt=!0),t):(Fi&42)===0||(Fi&1073741824)!==0&&(Oe&261930)===0?(bt=!0,t.memoizedState=a):(t=M_(),we.lanes|=t,zr|=t,i)}function Vy(t,i,a,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var _=Q.T,A={};Q.T=A,ud(t,!1,i,a);try{var D=f(),z=Q.S;if(z!==null&&z(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=ow(D,l);fl(t,i,K,Sn(t))}else fl(t,i,l,Sn(t))}catch(W){fl(t,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{ie.p=d,_!==null&&A.types!==null&&(_.types=A.types),Q.T=_}}function dw(){}function od(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=ky(t).queue;Vy(t,f,i,de,a===null?dw:function(){return Py(t),a(l)})}function ky(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Py(t){var i=ky(t);i.next===null&&(i=t.alternate.memoizedState),fl(t,i.next.queue,{},Sn())}function ld(){return Ft(Dl)}function xy(){return gt().memoizedState}function Ly(){return gt().memoizedState}function mw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Vr(a);var l=kr(i,t,a);l!==null&&(hn(l,i,a),ol(l,i,a)),i={cache:Lf()},t.payload=i;return}i=i.return}}function pw(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?zy(i,a):(a=Rf(t,i,a,l),a!==null&&(hn(a,t,l),By(a,i,l)))}function Uy(t,i,a){var l=Sn();fl(t,i,a,l)}function fl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))zy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,A=d(_,a);if(f.hasEagerState=!0,f.eagerState=A,yn(A,_))return Ju(t,i,f,0),Ze===null&&Wu(),!1}catch{}finally{}if(a=Rf(t,i,f,l),a!==null)return hn(a,t,l),By(a,i,l),!0}return!1}function ud(t,i,a,l){if(l={lane:2,revertLane:qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=Rf(t,a,l,2),i!==null&&hn(i,t,2)}function _c(t){var i=t.alternate;return t===we||i!==null&&i===we}function zy(t,i){La=hc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function By(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,ko(t,a)}}var dl={readContext:Ft,use:mc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};dl.useEffectEvent=ct;var qy={readContext:Ft,use:mc,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:wy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,gc(4194308,4,Iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Gs){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var f=a(i);if(Gs){bn(!0);try{a(i)}finally{bn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=pw.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=Uy.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,i){var a=rn();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=Vy.bind(null,we,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=we,f=rn();if(xe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ze===null)throw Error(s(349));(Oe&127)!==0||ly(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,wy(cy.bind(null,l,d,t),[t]),l.flags|=2048,za(9,{destroy:void 0},uy.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=Ze.identifierPrefix;if(xe){var a=wi,l=Si;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=lw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ld,useFormState:vy,useActionState:vy,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zf,useCacheRefresh:function(){return rn().memoizedState=mw.bind(null,we)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((je&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:Ft,use:mc,useCallback:Ny,useContext:Ft,useEffect:rd,useImperativeHandle:Dy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Oy,useReducer:pc,useRef:Sy,useState:function(){return pc(Gi)},useDebugValue:sd,useDeferredValue:function(t,i){var a=gt();return My(a,Xe.memoizedState,t,i)},useTransition:function(){var t=pc(Gi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:oy,useId:xy,useHostTransitionStatus:ld,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,i){var a=gt();return dy(a,Xe,t,i)},useMemoCache:Zf,useCacheRefresh:Ly};cd.useEffectEvent=by;var Hy={readContext:Ft,use:mc,useCallback:Ny,useContext:Ft,useEffect:rd,useImperativeHandle:Dy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Oy,useReducer:td,useRef:Sy,useState:function(){return td(Gi)},useDebugValue:sd,useDeferredValue:function(t,i){var a=gt();return Xe===null?ad(a,t,i):My(a,Xe.memoizedState,t,i)},useTransition:function(){var t=td(Gi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:oy,useId:xy,useHostTransitionStatus:ld,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var a=gt();return Xe!==null?dy(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zf,useCacheRefresh:Ly};Hy.useEffectEvent=by;function hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=Vr(l);f.payload=i,a!=null&&(f.callback=a),i=kr(t,f,l),i!==null&&(hn(i,t,l),ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),f=Vr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=kr(t,f,l),i!==null&&(hn(i,t,l),ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(hn(i,t,a),ol(i,t,a))}};function jy(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(f,d):!0}function Fy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Gy(t){Xu(t)}function Ky(t){console.error(t)}function Qy(t){Xu(t)}function vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Yy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dd(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,i)},a}function $y(t){return t=Vr(t),t.tag=3,t}function Xy(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Yy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Yy(i,a,l),typeof f!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function gw(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,f,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Pn===null?Oc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ud(t,l,f)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ud(t,l,f)),!1}throw Error(s(435,a.tag))}return Ud(t,l,f),Oc(),!1}if(xe)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Mf&&(t=Error(s(422),{cause:l}),nl(On(t,a)))):(l!==Mf&&(i=Error(s(423),{cause:l}),nl(On(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=On(l,a),f=dd(t.stateNode,l,f),jf(t,f),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),Tl===null?Tl=[d]:Tl.push(d),ht!==4&&(ht=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=dd(a.stateNode,l,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=$y(f),Xy(f,t,a,l),jf(a,f),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),bt=!1;function Gt(t,i,a,l){i.child=t===null?ey(i,null,a,l):Fs(i,t.child,a,l)}function Wy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var A in l)A!=="ref"&&(_[A]=l[A])}else _=l;return Bs(i),l=$f(t,i,a,_,d,f),A=Xf(),t!==null&&!bt?(Wf(t,i,f),Ki(t,i,f)):(xe&&A&&Nf(i),i.flags|=1,Gt(t,i,l,f),i.child)}function Jy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Zy(t,i,d,l,f)):(t=ec(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ad(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,l)&&t.ref===i.ref)return Ki(t,i,f)}return i.flags|=1,t=Bi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Zy(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(bt=!1,i.pendingProps=l=d,Ad(t,f))(t.flags&131072)!==0&&(bt=!0);else return i.lanes=t.lanes,Ki(t,i,f)}return pd(t,i,a,l,f)}function e_(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return t_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?iy(i,d):Gf(),ry(i);else return l=i.lanes=536870912,t_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),iy(i,d),xr(),i.memoizedState=null):(t!==null&&rc(i,null),Gf(),xr());return Gt(t,i,f,a),i.child}function ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function t_(t,i,a,l,f){var d=zf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),Gf(),ry(i),t!==null&&Oa(t,i,l,!0),i.childLanes=f,null}function Ec(t,i){return i=Ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function n_(t,i,a){return Fs(i,t.child,null,a),t=Ec(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function yw(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(xe){if(l.mode==="hidden")return t=Ec(i,l),i.lanes=536870912,ml(null,t);if(Qf(i),(t=tt)?(t=mv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=zg(t),a.return=i,i.child=a,jt=i,tt=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return Ec(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Qf(i),f)if(i.flags&256)i.flags&=-257,i=n_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(bt||Oa(t,i,a,!1),f=(a&t.childLanes)!==0,bt||f){if(l=Ze,l!==null&&(_=Po(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,xs(t,_),hn(l,t,_),md;Oc(),i=n_(t,i,a)}else t=d.treeContext,tt=xn(_.nextSibling),jt=i,xe=!0,Dr=null,kn=!1,t!==null&&Hg(i,t),i=Ec(i,l),i.flags|=4096;return i}return t=Bi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,l,f){return Bs(i),a=$f(t,i,a,l,void 0,f),l=Xf(),t!==null&&!bt?(Wf(t,i,f),Ki(t,i,f)):(xe&&l&&Nf(i),i.flags|=1,Gt(t,i,a,f),i.child)}function i_(t,i,a,l,f,d){return Bs(i),i.updateQueue=null,a=ay(i,l,a,f),sy(t),l=Xf(),t!==null&&!bt?(Wf(t,i,d),Ki(t,i,d)):(xe&&l&&Nf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function r_(t,i,a,l,f){if(Bs(i),i.stateNode===null){var d=Ca,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Ca,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),ul(i,l,d,f),ll(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,D=Ks(a,A);d.props=D;var z=d.context,K=a.contextType;_=Ca,typeof K=="object"&&K!==null&&(_=Ft(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==_)&&Fy(i,d,l,_),Mr=!1;var B=i.memoizedState;d.state=B,ul(i,l,d,f),ll(),z=i.memoizedState,A||B!==z||Mr?(typeof W=="function"&&(hd(i,a,W,l),z=i.memoizedState),(D=Mr||jy(i,a,D,l,B,z,_))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),_=i.memoizedProps,K=Ks(a,_),d.props=K,W=i.pendingProps,B=d.context,z=a.contextType,D=Ca,typeof z=="object"&&z!==null&&(D=Ft(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||B!==D)&&Fy(i,d,l,D),Mr=!1,B=i.memoizedState,d.state=B,ul(i,l,d,f),ll();var H=i.memoizedState;_!==W||B!==H||Mr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof A=="function"&&(hd(i,a,A,l),H=i.memoizedState),(K=Mr||jy(i,a,K,l,B,H,D)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,f),i.child=Fs(i,null,a,f)):Gt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Ki(t,i,f),t}function s_(t,i,a,l){return Us(),i.flags|=256,Gt(t,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Yg()}}function _d(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function a_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(xe){if(f?Pr(i):xr(),(t=tt)?(t=mv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Si,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=zg(t),a.return=i,i.child=a,jt=i,tt=null)):t=null,t===null)throw Nr(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var A=l.children;return l=l.fallback,f?(xr(),f=i.mode,A=Ac({mode:"hidden",children:A},f),l=Ls(l,f,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),i.memoizedState=gd,ml(null,l)):(Pr(i),vd(i,A))}var D=t.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(xr(),i.child=t.child,i.flags|=128,i=null):(xr(),A=l.fallback,f=i.mode,l=Ac({mode:"visible",children:l.children},f),A=Ls(A,f,a,null),A.flags|=2,l.return=i,A.return=i,l.sibling=A,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),i.memoizedState=gd,i=ml(null,l));else if(Pr(i),em(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),i=Ed(t,i,a)}else if(bt||Oa(t,i,a,!1),_=(a&t.childLanes)!==0,bt||_){if(_=Ze,_!==null&&(l=Po(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,xs(t,l),hn(_,t,l),md;Zd(A)||Oc(),i=Ed(t,i,a)}else Zd(A)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,tt=xn(A.nextSibling),jt=i,xe=!0,Dr=null,kn=!1,t!==null&&Hg(i,t),i=vd(i,l.children),i.flags|=4096);return i}return f?(xr(),A=l.fallback,f=i.mode,D=t.child,z=D.sibling,l=Bi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?A=Bi(z,A):(A=Ls(A,f,a,null),A.flags|=2),A.return=i,l.return=i,l.sibling=A,i.child=l,ml(null,l),l=i.child,A=t.child.memoizedState,A===null?A=yd(a):(f=A.cachePool,f!==null?(D=St._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Yg(),A={baseLanes:A.baseLanes|a,cachePool:f}),l.memoizedState=A,l.childLanes=_d(t,_,a),i.memoizedState=gd,ml(t.child,l)):(Pr(i),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function vd(t,i){return i=Ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ac(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return Fs(i,t.child,null,a),t=vd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function o_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Pf(t.return,i,a)}function Td(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function l_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,re(pt,_),Gt(t,i,l,a),l=xe?tl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o_(t,a,i);else if(t.tag===19)o_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Td(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&cc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Td(i,!0,a,null,d,l);break;case"together":Td(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Oa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Bi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function _w(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Or(i,St,t.memoizedState.cache),Us();break;case 27:case 5:_s(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?a_(t,i,a):(Pr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Pr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oa(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return l_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(pt,pt.current),l)break;return null;case 22:return i.lanes=0,e_(t,i,a,i.pendingProps);case 24:Or(i,St,t.memoizedState.cache)}return Ki(t,i,a)}function u_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)bt=!0;else{if(!Ad(t,a)&&(i.flags&128)===0)return bt=!1,_w(t,i,a);bt=(t.flags&131072)!==0}else bt=!1,xe&&(i.flags&1048576)!==0&&qg(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")Cf(t)?(l=Ks(t,l),i.tag=1,i=r_(null,i,t,l,a)):(i.tag=0,i=pd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===pe){i.tag=11,i=Wy(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=Jy(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ks(l,i.pendingProps),r_(t,i,l,f,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Hf(t,i),ul(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Or(i,St,l),l!==d.cache&&xf(i,[St],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=s_(t,i,l,a);break e}else if(l!==f){f=On(Error(s(424)),i),nl(f),i=s_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=xn(t.firstChild),jt=i,xe=!0,Dr=null,kn=!0,a=ey(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Us(),l===f){i=Ki(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Tc(t,i),t===null?(a=Ev(i.type,null,i.pendingProps,null))?i.memoizedState=a:xe||(a=i.type,t=i.pendingProps,l=Uc(Re.current).createElement(a),l[Et]=i,l[Lt]=t,Kt(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=Ev(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _s(i),t===null&&xe&&(l=i.stateNode=yv(i.type,i.pendingProps,Re.current),jt=i,kn=!0,f=tt,Fr(i.type)?(tm=f,tt=xn(l.firstChild)):tt=f),Gt(t,i,i.pendingProps.children,a),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&xe&&((f=l=tt)&&(l=Yw(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,jt=i,tt=xn(l.firstChild),kn=!1,f=!0):f=!1),f||Nr(i)),_s(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Xd(f,d)?l=null:_!==null&&Xd(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=$f(t,i,uw,null,null,a),Dl._currentValue=f),Tc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&xe&&((t=a=tt)&&(a=$w(a,i.pendingProps,kn),a!==null?(i.stateNode=a,jt=i,tt=null,t=!0):t=!1),t||Nr(i)),null;case 13:return a_(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return Wy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Bs(i),f=Ft(f),l=l(f),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return Jy(t,i,i.type,i.pendingProps,a);case 15:return Zy(t,i,i.type,i.pendingProps,a);case 19:return l_(t,i,a);case 31:return yw(t,i,a);case 22:return e_(t,i,a,i.pendingProps);case 24:return Bs(i),l=Ft(St),t===null?(f=zf(),f===null&&(f=Ze,d=Lf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},qf(i),Or(i,St,f)):((t.lanes&a)!==0&&(Hf(t,i),ul(i,null,null,a),ll()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Or(i,St,l)):(l=d.cache,Or(i,St,l),l!==f.cache&&xf(i,[St],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Qi(t){t.flags|=4}function Sd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(x_())t.flags|=8192;else throw js=ac,Bf}else t.flags&=-16777217}function c_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(i))if(x_())t.flags|=8192;else throw js=ac,Bf}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Du():536870912,t.lanes|=i,ja|=i)}function pl(t,i){if(!xe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function vw(t,i,a){var l=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(i)?Qi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),nt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Qi(i),d!==null?(nt(i),c_(i,d)):(nt(i),Sd(i,f,null,l,a))):d?d!==t.memoizedState?(Qi(i),nt(i),c_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Qi(i),nt(i),Sd(i,f,t,l,a)),null;case 27:if(la(i),a=Re.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=le.current,Na(i)?jg(i):(t=yv(f,l,a),i.stateNode=t,Qi(i))}return nt(i),null;case 5:if(la(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=le.current,Na(i))jg(i);else{var _=Uc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Et]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Qi(i)}}return nt(i),Sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Na(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=jt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||av(t.nodeValue,a)),t||Nr(i,!0)}else t=Uc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Na(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Na(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Et]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),f=!1}else f=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Gd(i.stateNode.containerInfo),nt(i),null;case 10:return ji(i.type),nt(i),null;case 19:if(J(pt),l=i.memoizedState,l===null)return nt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)pl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,pl(l,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ug(a,t),a=a.sibling;return re(pt,pt.current&1|2),xe&&qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&tn()>Ic&&(i.flags|=128,f=!0,pl(l,!1),i.lanes=4194304)}else{if(!f)if(t=cc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!xe)return nt(i),null}else 2*tn()-l.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,f=!0,pl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=pt.current,re(pt,f?a&1|2:a&1),xe&&qi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return En(i),Kf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ew(t,i){switch(Of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return la(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(pt),null;case 4:return st(),null;case 10:return ji(i.type),null;case 22:case 23:return En(i),Kf(),t!==null&&J(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(St),null;case 25:return null;default:return null}}function h_(t,i){switch(Of(i),i.tag){case 3:ji(St),st();break;case 26:case 27:case 5:la(i);break;case 4:st();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:J(pt);break;case 10:ji(i.type);break;case 22:case 23:En(i),Kf(),t!==null&&J(qs);break;case 24:ji(St)}}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(A){Ye(i,i.return,A)}}function Lr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var D=a,z=A;try{z()}catch(K){Ye(f,D,K)}}}l=l.next}while(l!==d)}}catch(K){Ye(i,i.return,K)}}function f_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ny(i,a)}catch(l){Ye(t,t.return,l)}}}function d_(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ye(t,i,f)}}function bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(t,i,f)}else a.current=null}function m_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(t,t.return,f)}}function wd(t,i,a){try{var l=t.stateNode;Hw(l,t.type,a,i),l[Lt]=i}catch(f){Ye(t,t.return,f)}}function p_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function wc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function g_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Kt(i,l,a),i[Et]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var Yi=!1,Rt=!1,Cd=!1,y_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Tw(t,i){if(t=t.containerInfo,Yd=Gc,t=Dg(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,A=-1,D=-1,z=0,K=0,W=t,B=null;t:for(;;){for(var H;W!==a||f!==0&&W.nodeType!==3||(A=_+f),W!==d||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(H=W.firstChild)!==null;)B=W,W=H;for(;;){if(W===t)break t;if(B===a&&++z===f&&(A=_),B===d&&++K===l&&(D=_),(H=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=H}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Gc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Ks(a.type,f);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ye(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function __(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),l&4&&gl(5,a);break;case 1:if(Xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&f_(a),l&512&&yl(a,a.return);break;case 3:if(Xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ny(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&g_(a);case 26:case 5:Xi(t,a),i===null&&l&4&&m_(a),l&512&&yl(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),l&4&&T_(t,a);break;case 13:Xi(t,a),l&4&&A_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Nw.bind(null,a),Xw(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||Rt,f=Yi;var d=Rt;Yi=l,(Rt=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Yi=f,Rt=d}break;case 30:break;default:Xi(t,a)}}function v_(t){var i=t.alternate;i!==null&&(t.alternate=null,v_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&da(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function $i(t,i,a){for(a=a.child;a!==null;)E_(t,i,a),a=a.sibling}function E_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Rt||bi(a,i),$i(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||bi(a,i);var l=ot,f=on;Fr(a.type)&&(ot=a.stateNode,on=!1),$i(t,i,a),Rl(a.stateNode),ot=l,on=f;break;case 5:Rt||bi(a,i);case 6:if(l=ot,f=on,ot=null,$i(t,i,a),ot=l,on=f,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(on?(t=ot,fv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wa(t)):fv(ot,a.stateNode));break;case 4:l=ot,f=on,ot=a.stateNode.containerInfo,on=!0,$i(t,i,a),ot=l,on=f;break;case 0:case 11:case 14:case 15:Lr(2,a,i),Rt||Lr(4,a,i),$i(t,i,a);break;case 1:Rt||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&d_(a,i,l)),$i(t,i,a);break;case 21:$i(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,$i(t,i,a),Rt=l;break;default:$i(t,i,a)}}function T_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(a){Ye(i,i.return,a)}}}function A_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(a){Ye(i,i.return,a)}}function Aw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new y_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new y_),i;default:throw Error(s(435,t.tag))}}function bc(t,i){var a=Aw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=Ow.bind(null,t,l);l.then(f,f)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Fr(A.type)){ot=A.stateNode,on=!1;break e}break;case 5:ot=A.stateNode,on=!1;break e;case 3:case 4:ot=A.stateNode.containerInfo,on=!0;break e}A=A.return}if(ot===null)throw Error(s(160));E_(d,_,f),ot=null,on=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)S_(i,t),i=i.sibling}var Jn=null;function S_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Lr(3,t,t.return),gl(3,t),Lr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Rt||a===null||bi(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(ln(i,t),un(t),l&512&&(Rt||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[hi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Kt(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=Sv("link","href",f).get(l+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(d=_[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Sv("meta","content",f).get(l+(a.content||""))){for(A=0;A<_.length;A++)if(d=_[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}d=f.createElement(l),Kt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else wv(f,t.type,t.stateNode);else t.stateNode=Av(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?wv(f,t.type,t.stateNode):Av(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Rt||a===null||bi(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Rt||a===null||bi(a,a.return)),t.flags&32){f=t.stateNode;try{an(f,"")}catch(ue){Ye(t,t.return,ue)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,wd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Cd=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){Ye(t,t.return,ue)}}break;case 3:if(qc=null,f=Jn,Jn=zc(i.containerInfo),ln(i,t),Jn=f,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wa(i.containerInfo)}catch(ue){Ye(t,t.return,ue)}Cd&&(Cd=!1,w_(t));break;case 4:l=Jn,Jn=zc(t.stateNode.containerInfo),ln(i,t),un(t),Jn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=Yi,K=Rt;if(Yi=z||f,Rt=K||D,ln(i,t),Rt=K,Yi=z,un(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||Yi||Rt||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var W=D.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Ye(D,D.return,ue)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ue){Ye(D,D.return,ue)}}}else if(i.tag===18){if(a===null){D=i;try{var H=D.stateNode;f?dv(H,!0):dv(D.stateNode,!1)}catch(ue){Ye(D,D.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(p_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=bd(t);wc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var A=bd(t);wc(t,A,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=bd(t);Rd(t,z,D);break;default:throw Error(s(161))}}catch(K){Ye(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function w_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;w_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)__(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),Qs(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&d_(i,i.return,a),Qs(i);break;case 27:Rl(i.stateNode);case 26:case 5:bi(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(f,d,a),gl(4,d);break;case 1:if(Wi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var A=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ty(D[f],A)}catch(z){Ye(l,l.return,z)}}a&&_&64&&f_(d),yl(d,d.return);break;case 27:g_(d);case 26:case 5:Wi(f,d,a),a&&l===null&&_&4&&m_(d),yl(d,d.return);break;case 12:Wi(f,d,a);break;case 31:Wi(f,d,a),a&&_&4&&T_(f,d);break;case 13:Wi(f,d,a),a&&_&4&&A_(f,d);break;case 22:d.memoizedState===null&&Wi(f,d,a),yl(d,d.return);break;case 30:break;default:Wi(f,d,a)}i=i.sibling}}function Id(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function Zn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(t,i,a,l),i=i.sibling}function b_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,l),f&2048&&gl(9,i);break;case 1:Zn(t,i,a,l);break;case 3:Zn(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(f&2048){Zn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,A=d.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ye(i,i.return,D)}}else Zn(t,i,a,l);break;case 31:Zn(t,i,a,l);break;case 13:Zn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,l):_l(t,i):d._visibility&2?Zn(t,i,a,l):(d._visibility|=2,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Id(_,i);break;case 24:Zn(t,i,a,l),f&2048&&Dd(i.alternate,i);break;default:Zn(t,i,a,l)}}function Ba(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,A=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ba(d,_,A,D,f),gl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?Ba(d,_,A,D,f):_l(d,_):(K._visibility|=2,Ba(d,_,A,D,f)),f&&z&2048&&Id(_.alternate,_);break;case 24:Ba(d,_,A,D,f),f&&z&2048&&Dd(_.alternate,_);break;default:Ba(d,_,A,D,f)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&Id(l.alternate,l);break;case 24:_l(a,l),f&2048&&Dd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function qa(t,i,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)R_(t,i,a),t=t.sibling}function R_(t,i,a){switch(t.tag){case 26:qa(t,i,a),t.flags&vl&&t.memoizedState!==null&&lb(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:qa(t,i,a);break;case 3:case 4:var l=Jn;Jn=zc(t.stateNode.containerInfo),qa(t,i,a),Jn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,qa(t,i,a),vl=l):qa(t,i,a));break;default:qa(t,i,a)}}function C_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,D_(l,t)}C_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):El(t);break;default:El(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,D_(l,t)}C_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function D_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,d=l.return;if(v_(l),l===a){zt=null;break e}if(f!==null){f.return=d,zt=f;break e}zt=d}}}var Sw={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(St).controller.signal}},ww=typeof WeakMap=="function"?WeakMap:Map,je=0,Ze=null,De=null,Oe=0,Qe=0,Tn=null,Ur=!1,Ha=!1,Nd=!1,Ji=0,ht=0,zr=0,Ys=0,Od=0,An=0,ja=0,Tl=null,cn=null,Md=!1,Cc=0,N_=0,Ic=1/0,Dc=null,Br=null,Vt=0,qr=null,Fa=null,Zi=0,Vd=0,kd=null,O_=null,Al=0,Pd=null;function Sn(){return(je&2)!==0&&Oe!==0?Oe&-Oe:Q.T!==null?qd():Nu()}function M_(){if(An===0)if((Oe&536870912)===0||xe){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),An=t}else An=536870912;return t=vn.current,t!==null&&(t.flags|=32),An}function hn(t,i,a){(t===Ze&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Hr(t,Oe,An,!1)),As(t,a),((je&2)===0||t!==Ze)&&(t===Ze&&((je&2)===0&&(Ys|=a),ht===4&&Hr(t,Oe,An,!1)),Ri(t))}function V_(t,i,a){if((je&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||jn(t,i),f=l?Cw(t,i):Ld(t,i,!0),d=l;do{if(f===0){Ha&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!bw(a)){f=Ld(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;f=Tl;var D=A.current.memoizedState.isDehydrated;if(D&&(Ga(A,_).flags|=256),_=Ld(A,_,!1),_!==2){if(Nd&&!D){A.errorRecoveryDisabledLanes|=d,Ys|=d,f=4;break e}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ga(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,An,!Ur);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Cc+300-tn(),10<f)){if(Hr(l,i,An,!Ur),li(l,0,!0)!==0)break e;Zi=i,l.timeoutHandle=cv(k_.bind(null,l,a,cn,Dc,Md,i,An,Ys,ja,Ur,d,"Throttled",-0,0),f);break e}k_(l,a,cn,Dc,Md,i,An,Ys,ja,Ur,d,null,-0,0)}}break}while(!0);Ri(t)}function k_(t,i,a,l,f,d,_,A,D,z,K,W,B,H){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},R_(i,d,W);var ue=(d&62914560)===d?Cc-tn():(d&4194048)===d?N_-tn():0;if(ue=ub(W,ue),ue!==null){Zi=d,t.cancelPendingCommit=ue(H_.bind(null,t,i,d,a,l,f,_,A,D,K,W,null,B,H)),Hr(t,d,_,!z);return}}H_(t,i,d,a,l,f,_,A,D)}function bw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!yn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~Od,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-dt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ss(t,a,i)}function Nc(){return(je&6)===0?(Sl(0),!1):!0}function xd(){if(De!==null){if(Qe===0)var t=De.return;else t=De,Hi=zs=null,Jf(t),Pa=null,sl=0,t=De;for(;t!==null;)h_(t.alternate,t),t=t.return;De=null}}function Ga(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Gw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,xd(),Ze=t,De=a=Bi(t.current,null),Oe=i,Qe=0,Tn=null,Ur=!1,Ha=jn(t,i),Nd=!1,ja=An=Od=Ys=zr=ht=0,cn=Tl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-dt(l),d=1<<f;i|=t[f],l&=~d}return Ji=i,Wu(),a}function P_(t,i){we=null,Q.H=dl,i===ka||i===sc?(i=Wg(),Qe=3):i===Bf?(i=Wg(),Qe=4):Qe=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,De===null&&(ht=1,vc(t,On(i,t.current)))}function x_(){var t=vn.current;return t===null?!0:(Oe&4194048)===Oe?Pn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Pn:!1}function L_(){var t=Q.H;return Q.H=dl,t===null?dl:t}function U_(){var t=Q.A;return Q.A=Sw,t}function Oc(){ht=4,Ur||(Oe&4194048)!==Oe&&vn.current!==null||(Ha=!0),(zr&134217727)===0&&(Ys&134217727)===0||Ze===null||Hr(Ze,Oe,An,!1)}function Ld(t,i,a){var l=je;je|=2;var f=L_(),d=U_();(Ze!==t||Oe!==i)&&(Dc=null,Ga(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&De!==null){var A=De,D=Tn;switch(Qe){case 8:xd(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var z=Qe;if(Qe=0,Tn=null,Ka(t,A,D,z),a&&Ha){_=0;break e}break;default:z=Qe,Qe=0,Tn=null,Ka(t,A,D,z)}}Rw(),_=ht;break}catch(K){P_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Hi=zs=null,je=l,Q.H=f,Q.A=d,De===null&&(Ze=null,Oe=0,Wu()),_}function Rw(){for(;De!==null;)z_(De)}function Cw(t,i){var a=je;je|=2;var l=L_(),f=U_();Ze!==t||Oe!==i?(Dc=null,Ic=tn()+500,Ga(t,i)):Ha=jn(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=Tn;t:switch(Qe){case 1:Qe=0,Tn=null,Ka(t,i,d,1);break;case 2:case 9:if($g(d)){Qe=0,Tn=null,B_(i);break}i=function(){Qe!==2&&Qe!==9||Ze!==t||(Qe=7),Ri(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:$g(d)?(Qe=0,Tn=null,B_(i)):(Qe=0,Tn=null,Ka(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var A=De;if(_?bv(_):A.stateNode.complete){Qe=0,Tn=null;var D=A.sibling;if(D!==null)De=D;else{var z=A.return;z!==null?(De=z,Mc(z)):De=null}break t}}Qe=0,Tn=null,Ka(t,i,d,5);break;case 6:Qe=0,Tn=null,Ka(t,i,d,6);break;case 8:xd(),ht=6;break e;default:throw Error(s(462))}}Iw();break}catch(K){P_(t,K)}while(!0);return Hi=zs=null,Q.H=l,Q.A=f,je=a,De!==null?0:(Ze=null,Oe=0,Wu(),ht)}function Iw(){for(;De!==null&&!df();)z_(De)}function z_(t){var i=u_(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Mc(t):De=i}function B_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=i_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=i_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Jf(i);default:h_(a,i),i=De=Ug(i,Ji),i=u_(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Mc(t):De=i}function Ka(t,i,a,l){Hi=zs=null,Jf(i),Pa=null,sl=0;var f=i.return;try{if(gw(t,f,i,a,Oe)){ht=1,vc(t,On(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ht=1,vc(t,On(a,t.current)),De=null;return}i.flags&32768?(xe||l===1?t=!0:Ha||(Oe&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),q_(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){q_(i,Ur);return}t=i.return;var a=vw(i.alternate,i,Ji);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function q_(t,i){do{var a=Ew(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function H_(t,i,a,l,f,d,_,A,D){t.cancelPendingCommit=null;do Vc();while(Vt!==0);if((je&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=bf,gf(t,a,d,_,A,D),t===Ze&&(De=Ze=null,Oe=0),Fa=i,qr=t,Zi=a,Vd=d,kd=f,O_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mw(_r,function(){return Q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=ie.p,ie.p=2,_=je,je|=4;try{Tw(t,i,a)}finally{je=_,ie.p=f,Q.T=l}}Vt=1,j_(),F_(),G_()}}function j_(){if(Vt===1){Vt=0;var t=qr,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ie.p;ie.p=2;var f=je;je|=4;try{S_(i,t);var d=$d,_=Dg(t.containerInfo),A=d.focusedElem,D=d.selectionRange;if(_!==A&&A&&A.ownerDocument&&Ig(A.ownerDocument.documentElement,A)){if(D!==null&&Ef(A)){var z=D.start,K=D.end;if(K===void 0&&(K=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(K,A.value.length);else{var W=A.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var H=B.getSelection(),ue=A.textContent.length,me=Math.min(D.start,ue),Je=D.end===void 0?me:Math.min(D.end,ue);!H.extend&&me>Je&&(_=Je,Je=me,me=_);var P=Cg(A,me),O=Cg(A,Je);if(P&&O&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var U=W.createRange();U.setStart(P.node,P.offset),H.removeAllRanges(),me>Je?(H.addRange(U),H.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),H.addRange(U))}}}}for(W=[],H=A;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var Y=W[A];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Gc=!!Yd,$d=Yd=null}finally{je=f,ie.p=l,Q.T=a}}t.current=i,Vt=2}}function F_(){if(Vt===2){Vt=0;var t=qr,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ie.p;ie.p=2;var f=je;je|=4;try{__(t,i.alternate,i)}finally{je=f,ie.p=l,Q.T=a}}Vt=3}}function G_(){if(Vt===4||Vt===3){Vt=0,Su();var t=qr,i=Fa,a=Zi,l=O_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Fa=qr=null,K_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Br=null),xi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=ie.p,ie.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var A=l[_];d(A.value,{componentStack:A.stack})}}finally{Q.T=i,ie.p=f}}(Zi&3)!==0&&Vc(),Ri(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Pd?Al++:(Al=0,Pd=t):Al=0,Sl(0)}}function K_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function Vc(){return j_(),F_(),G_(),Q_()}function Q_(){if(Vt!==5)return!1;var t=qr,i=Vd;Vd=0;var a=xi(Zi),l=Q.T,f=ie.p;try{ie.p=32>a?32:a,Q.T=null,a=kd,kd=null;var d=qr,_=Zi;if(Vt=0,Fa=qr=null,Zi=0,(je&6)!==0)throw Error(s(331));var A=je;if(je|=4,I_(d.current),b_(d,d.current,_,a),je=A,Sl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{ie.p=f,Q.T=l,K_(t,i)}}function Y_(t,i,a){i=On(a,i),i=dd(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(As(t,2),Ri(t))}function Ye(t,i,a){if(t.tag===3)Y_(t,t,a);else for(;i!==null;){if(i.tag===3){Y_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=On(a,t),a=$y(2),l=kr(i,a,2),l!==null&&(Xy(a,l,i,t),As(l,2),Ri(l));break}}i=i.return}}function Ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ww;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Nd=!0,f.add(a),t=Dw.bind(null,t,i,a),i.then(t,t))}function Dw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>tn()-Cc?(je&2)===0&&Ga(t,0):Od|=a,ja===Oe&&(ja=0)),Ri(t)}function $_(t,i){i===0&&(i=Du()),t=xs(t,i),t!==null&&(As(t,i),Ri(t))}function Nw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),$_(t,a)}function Ow(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),$_(t,a)}function Mw(t,i){return Mt(t,i)}var kc=null,Qa=null,zd=!1,Pc=!1,Bd=!1,jr=0;function Ri(t){t!==Qa&&t.next===null&&(Qa===null?kc=Qa=t:Qa=Qa.next=t),Pc=!0,zd||(zd=!0,kw())}function Sl(t,i){if(!Bd&&Pc){Bd=!0;do for(var a=!1,l=kc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=f&~(_&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Z_(l,d))}else d=Oe,d=li(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||jn(l,d)||(a=!0,Z_(l,d));l=l.next}while(a);Bd=!1}}function Vw(){X_()}function X_(){Pc=zd=!1;var t=0;jr!==0&&Fw()&&(t=jr);for(var i=tn(),a=null,l=kc;l!==null;){var f=l.next,d=W_(l,i);d===0?(l.next=null,a===null?kc=f:a.next=f,f===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=f}Vt!==0&&Vt!==5||Sl(t),jr!==0&&(jr=0)}function W_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),A=1<<_,D=f[_];D===-1?((A&a)===0||(A&l)!==0)&&(f[_]=pf(A,i)):D<=i&&(t.expiredLanes|=A),d&=~A}if(i=Ze,a=Oe,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),xi(a)){case 2:case 8:a=Vo;break;case 32:a=_r;break;case 268435456:a=wu;break;default:a=_r}return l=J_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function J_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=Oe;return l=li(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(V_(t,l,i),W_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?J_.bind(null,t):null)}function Z_(t,i){if(Vc())return null;V_(t,i,!0)}function kw(){Kw(function(){(je&6)!==0?Mt(Mo,Vw):X_()})}function qd(){if(jr===0){var t=Ma;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),jr=t}return jr}function ev(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ya(""+t)}function tv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Pw(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=ev((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?ev(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var A=new vi("action","action",null,l,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(jr!==0){var D=_?tv(f,_):new FormData(f);od(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(A.preventDefault(),D=_?tv(f,_):new FormData(f),od(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Hd=0;Hd<wf.length;Hd++){var jd=wf[Hd],xw=jd.toLowerCase(),Lw=jd[0].toUpperCase()+jd.slice(1);Wn(xw,"on"+Lw)}Wn(Mg,"onAnimationEnd"),Wn(Vg,"onAnimationIteration"),Wn(kg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(ZS,"onTransitionRun"),Wn(ew,"onTransitionStart"),Wn(tw,"onTransitionCancel"),Wn(Pg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function nv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var A=l[_],D=A.instance,z=A.currentTarget;if(A=A.listener,D!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=z;try{d(f)}catch(K){Xu(K)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(A=l[_],D=A.instance,z=A.currentTarget,A=A.listener,D!==d&&f.isPropagationStopped())break e;d=A,f.currentTarget=z;try{d(f)}catch(K){Xu(K)}f.currentTarget=null,d=D}}}}function Ne(t,i){var a=i[fa];a===void 0&&(a=i[fa]=new Set);var l=t+"__bubble";a.has(l)||(iv(i,t,2,!1),a.add(l))}function Fd(t,i,a){var l=0;i&&(l|=4),iv(a,t,l,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[xc]){t[xc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(Uw.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,Fd("selectionchange",!1,i))}}function iv(t,i,a,l){switch(Mv(i)){case 2:var f=fb;break;case 8:f=db;break;default:f=am}a=f.bind(null,i,a,t),f=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Kd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var A=l.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=fi(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}A=A.parentNode}}l=l.return}wr(function(){var z=d,K=Cn(a),W=[];e:{var B=xg.get(t);if(B!==void 0){var H=vi,ue=t;switch(t){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":H=Qu;break;case"focusin":ue="focus",H=Ms;break;case"focusout":ue="blur",H=Ms;break;case"beforeblur":case"afterblur":H=Ms;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=y;break;case Mg:case Vg:case kg:H=Bu;break;case Pg:H=S;break;case"scroll":case"scrollend":H=Yo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zi;break;case"toggle":case"beforetoggle":H=Se}var me=(i&4)!==0,Je=!me&&(t==="scroll"||t==="scrollend"),P=me?B!==null?B+"Capture":null:B;me=[];for(var O=z,U;O!==null;){var Y=O;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||P===null||(Y=Qn(O,P),Y!=null&&me.push(bl(O,Y,U))),Je)break;O=O.return}0<me.length&&(B=new H(B,ue,null,a,K),W.push({event:B,listeners:me}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==Go&&(ue=a.relatedTarget||a.fromElement)&&(fi(ue)||ue[ci]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=z,ue=ue?fi(ue):null,ue!==null&&(Je=u(ue),me=ue.tag,ue!==Je||me!==5&&me!==27&&me!==6)&&(ue=null)):(H=null,ue=z),H!==ue)){if(me=$o,Y="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(me=zi,Y="onPointerLeave",P="onPointerEnter",O="pointer"),Je=H==null?B:pn(H),U=ue==null?B:pn(ue),B=new me(Y,O+"leave",H,a,K),B.target=Je,B.relatedTarget=U,Y=null,fi(K)===z&&(me=new me(P,O+"enter",ue,a,K),me.target=U,me.relatedTarget=Je,Y=me),Je=Y,H&&ue)t:{for(me=zw,P=H,O=ue,U=0,Y=P;Y;Y=me(Y))U++;Y=0;for(var he=O;he;he=me(he))Y++;for(;0<U-Y;)P=me(P),U--;for(;0<Y-U;)O=me(O),Y--;for(;U--;){if(P===O||O!==null&&P===O.alternate){me=P;break t}P=me(P),O=me(O)}me=null}else me=null;H!==null&&rv(W,B,H,me,!1),ue!==null&&Je!==null&&rv(W,Je,ue,me,!0)}}e:{if(B=z?pn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Be=Tg;else if(vg(B))if(Ag)Be=XS;else{Be=YS;var ce=QS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ga(z.elementType)&&(Be=Tg):Be=$S;if(Be&&(Be=Be(t,z))){Eg(W,Be,a,K);break e}ce&&ce(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ho(B,"number",B.value)}switch(ce=z?pn(z):window,t){case"focusin":(vg(ce)||ce.contentEditable==="true")&&(wa=ce,Tf=z,el=null);break;case"focusout":el=Tf=wa=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Ng(W,a,K);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":Ng(W,a,K)}var Ce;if(He)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Sa?Vs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ai&&a.locale!=="ko"&&(Sa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Sa&&(Ce=Qo()):(_i=K,Ko="value"in _i?_i.value:_i.textContent,Sa=!0)),ce=Lc(z,Me),0<ce.length&&(Me=new Ti(Me,t,null,a,K),W.push({event:Me,listeners:ce}),Ce?Me.data=Ce:(Ce=Aa(a),Ce!==null&&(Me.data=Ce)))),(Ce=Dn?jS(t,a):FS(t,a))&&(Me=Lc(z,"onBeforeInput"),0<Me.length&&(ce=new Ti("onBeforeInput","beforeinput",null,a,K),W.push({event:ce,listeners:Me}),ce.data=Ce)),Pw(W,t,z,a,K)}nv(W,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Lc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Qn(t,a),f!=null&&l.unshift(bl(t,f,d)),f=Qn(t,i),f!=null&&l.push(bl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function zw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function rv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var A=a,D=A.alternate,z=A.stateNode;if(A=A.tag,D!==null&&D===l)break;A!==5&&A!==26&&A!==27||z===null||(D=z,f?(z=Qn(a,d),z!=null&&_.unshift(bl(a,z,D))):f||(z=Qn(a,d),z!=null&&_.push(bl(a,z,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Bw=/\r\n?/g,qw=/\u0000|\uFFFD/g;function sv(t){return(typeof t=="string"?t:""+t).replace(Bw,`
`).replace(qw,"")}function av(t,i){return i=sv(i),sv(t)===i}function We(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",f.name,f,null),We(t,i,"formEncType",f.formEncType,f,null),We(t,i,"formMethod",f.formMethod,f,null),We(t,i,"formTarget",f.formTarget,f,null)):(We(t,i,"encType",f.encType,f,null),We(t,i,"method",f.method,f,null),We(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ma(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lu.get(a)||a,ma(t,a,l))}}function Qd(t,i,a,l,f,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ma(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}f&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var A=d=_=f=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":_=K;break;case"checked":D=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:We(t,i,l,K,a,null)}}ku(t,d,A,D,z,_,f,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":d=A;break;case"defaultValue":_=A;break;case"multiple":l=A;default:We(t,i,f,A,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":l=A;break;case"defaultValue":f=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:We(t,i,_,A,a,null)}Tr(t,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,D,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ne(wl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,z,l,a,null)}return;default:if(ga(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Qd(t,i,K,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&We(t,i,A,l,a,null))}function Hw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,A=null,D=null,z=null,K=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(H)||We(t,i,H,null,l,W)}}for(var B in l){var H=l[B];if(W=a[B],l.hasOwnProperty(B)&&(H!=null||W!=null))switch(B){case"type":d=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":_=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==W&&We(t,i,B,H,l,W)}}pa(t,_,A,D,z,K,d,f);return;case"select":H=_=A=B=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(d)||We(t,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":B=d;break;case"defaultValue":A=d;break;case"multiple":_=d;default:d!==D&&We(t,i,f,d,l,D)}i=A,a=_,l=H,B!=null?Er(t,!!a,B,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:We(t,i,A,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":B=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(t,i,_,f,l,d)}Pu(t,B,H);return;case"option":for(var ue in a)if(B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:We(t,i,ue,null,l,B)}for(D in l)if(B=l[D],H=a[D],l.hasOwnProperty(D)&&B!==H&&(B!=null||H!=null))switch(D){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:We(t,i,D,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)B=a[me],a.hasOwnProperty(me)&&B!=null&&!l.hasOwnProperty(me)&&We(t,i,me,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:We(t,i,z,B,l,H)}return;default:if(ga(i)){for(var Je in a)B=a[Je],a.hasOwnProperty(Je)&&B!==void 0&&!l.hasOwnProperty(Je)&&Qd(t,i,Je,void 0,l,B);for(K in l)B=l[K],H=a[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||Qd(t,i,K,B,l,H);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!l.hasOwnProperty(P)&&We(t,i,P,null,l,B);for(W in l)B=l[W],H=a[W],!l.hasOwnProperty(W)||B===H||B==null&&H==null||We(t,i,W,B,l,H)}function ov(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,A=f.duration;if(d&&A&&ov(_)){for(_=0,A=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],z=D.startTime;if(z>A)break;var K=D.transferSize,W=D.initiatorType;K&&ov(W)&&(D=D.responseEnd,_+=K*(D<A?1:(A-z)/(D-z)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,$d=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function lv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Fw(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,Kw=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(Qw)}:cv;function Qw(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function fv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Wa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,A=d.nodeName;d[hi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=f}while(a);Wa(i)}function dv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Yw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function $w(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xn(t.nextSibling),t===null))return null;return t}function mv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=xn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Xw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function pv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return xn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function gv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function yv(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);da(t)}var Ln=new Map,_v=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=ie.d;ie.d={f:Ww,r:Jw,D:Zw,C:eb,L:tb,m:nb,X:rb,S:ib,M:sb};function Ww(){var t=er.f(),i=Nc();return t||i}function Jw(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?Py(i):er.r(t)}var Ya=typeof document>"u"?null:document;function vv(t,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var f=sn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),_v.has(f)||(_v.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Kt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function Zw(t){er.D(t),vv("dns-prefetch",t,null)}function eb(t,i){er.C(t,i),vv("preconnect",t,i)}function tb(t,i,a){er.L(t,i,a);var l=Ya;if(l&&t&&i){var f='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+sn(a.imageSizes)+'"]')):f+='[href="'+sn(t)+'"]';var d=f;switch(i){case"style":d=$a(t);break;case"script":d=Xa(t)}Ln.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Kt(i,"link",t),Tt(i),l.head.appendChild(i)))}}function nb(t,i){er.m(t,i);var a=Ya;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Ln.has(d)&&(t=T({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Kt(l,"link",t),Tt(l),a.head.appendChild(l)}}}function ib(t,i,a){er.S(t,i,a);var l=Ya;if(l&&t){var f=di(l).hoistableStyles,d=$a(t);i=i||"default";var _=f.get(d);if(!_){var A={loading:0,preload:null};if(_=l.querySelector(Cl(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&nm(t,a);var D=_=l.createElement("link");Tt(D),Kt(D,"link",t),D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(d,_)}}}function rb(t,i){er.X(t,i);var a=Ya;if(a&&t){var l=di(a).hoistableScripts,f=Xa(t),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(t=T({src:t,async:!0},i),(i=Ln.get(f))&&im(t,i),d=a.createElement("script"),Tt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function sb(t,i){er.M(t,i);var a=Ya;if(a&&t){var l=di(a).hoistableScripts,f=Xa(t),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Ln.get(f))&&im(t,i),d=a.createElement("script"),Tt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ev(t,i,a,l){var f=(f=Re.current)?zc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=di(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=$a(a.href);var d=di(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||ab(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=di(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function $a(t){return'href="'+sn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function Tv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function ab(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),Tt(i),t.head.appendChild(i))}function Xa(t){return'[src="'+sn(t)+'"]'}function Il(t){return"script[async]"+t}function Av(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Kt(l,"style",f),Bc(l,a.precedence,t),i.instance=l;case"stylesheet":f=$a(a.href);var d=t.querySelector(Cl(f));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=Tv(a),(f=Ln.get(f))&&nm(l,f),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Kt(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,t),i.instance=d;case"script":return d=Xa(a.src),(f=t.querySelector(Il(d)))?(i.instance=f,Tt(f),f):(l=a,(f=Ln.get(d))&&(l=T({},a),im(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Tt(f),Kt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,t));return i.instance}function Bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var A=l[_];if(A.dataset.precedence===i)d=A;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function Sv(t,i,a){if(qc===null){var l=new Map,f=qc=new Map;f.set(a,l)}else f=qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[hi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var A=l.get(_);A?A.push(d):l.set(_,[d])}}return l}function wv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ob(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lb(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=$a(l.href),d=i.querySelector(Cl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=Tv(l),(f=Ln.get(f))&&nm(l,f),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var rm=0;function ub(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&rm===0&&(rm=62500*jw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>rm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,i.forEach(cb,t),jc=null,Hc.call(t))}function cb(t,i){if(!(i.state.loading&4)){var a=jc.get(t);if(a)var l=a.get(null);else{a=new Map,jc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Hc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function hb(t,i,a,l,f,d,_,A,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Rv(t,i,a,l,f,d,_,A,D,z,K,W){return t=new hb(t,i,a,_,D,z,K,W,A),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=Lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qf(d),t}function Cv(t){return t?(t=Ca,t):Ca}function Iv(t,i,a,l,f,d){f=Cv(f),l.context===null?l.context=f:l.pendingContext=f,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(hn(a,t,i),ol(a,t,i))}function Dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sm(t,i){Dv(t,i),(t=t.alternate)&&Dv(t,i)}function Nv(t){if(t.tag===13||t.tag===31){var i=xs(t,67108864);i!==null&&hn(i,t,67108864),sm(t,67108864)}}function Ov(t){if(t.tag===13||t.tag===31){var i=Sn();i=ws(i);var a=xs(t,i);a!==null&&hn(a,t,i),sm(t,i)}}var Gc=!0;function fb(t,i,a,l){var f=Q.T;Q.T=null;var d=ie.p;try{ie.p=2,am(t,i,a,l)}finally{ie.p=d,Q.T=f}}function db(t,i,a,l){var f=Q.T;Q.T=null;var d=ie.p;try{ie.p=8,am(t,i,a,l)}finally{ie.p=d,Q.T=f}}function am(t,i,a,l){if(Gc){var f=om(l);if(f===null)Kd(t,i,l,Kc,a),Vv(t,l);else if(pb(f,t,i,a,l))l.stopPropagation();else if(Vv(t,l),i&4&&-1<mb.indexOf(t)){for(;f!==null;){var d=Rn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-dt(_);A.entanglements[1]|=D,_&=~D}Ri(d),(je&6)===0&&(Ic=tn()+500,Sl(0))}}break;case 31:case 13:A=xs(d,2),A!==null&&hn(A,d,2),Nc(),sm(d,2)}if(d=om(l),d===null&&Kd(t,i,l,Kc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Kd(t,i,l,null,a)}}function om(t){return t=Cn(t),lm(t)}var Kc=null;function lm(t){if(Kc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kc=t,null}function Mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Mo:return 2;case Vo:return 8;case _r:case mf:return 32;case wu:return 268435456;default:return 32}default:return 32}}var um=!1,Gr=null,Kr=null,Qr=null,Nl=new Map,Ol=new Map,Yr=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Nl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Rn(i),i!==null&&Nv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function pb(t,i,a,l,f){switch(i){case"focusin":return Gr=Ml(Gr,t,i,a,l,f),!0;case"dragenter":return Kr=Ml(Kr,t,i,a,l,f),!0;case"mouseover":return Qr=Ml(Qr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Nl.set(d,Ml(Nl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,f)),!0}return!1}function kv(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Ov(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Ov(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return i=Rn(a),i!==null&&Nv(i),t.blockedOn=a,!1;i.shift()}return!0}function Pv(t,i,a){Qc(t)&&a.delete(i)}function gb(){um=!1,Gr!==null&&Qc(Gr)&&(Gr=null),Kr!==null&&Qc(Kr)&&(Kr=null),Qr!==null&&Qc(Qr)&&(Qr=null),Nl.forEach(Pv),Ol.forEach(Pv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gb)))}var $c=null;function xv(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Wa(t){function i(D){return Yc(D,t)}Gr!==null&&Yc(Gr,t),Kr!==null&&Yc(Kr,t),Qr!==null&&Yc(Qr,t),Nl.forEach(i),Ol.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)kv(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||xv(a);else if(_){var A=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)A=_.formAction;else if(lm(f)!==null)continue}else A=_.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),xv(a)}}}function Lv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function cm(t){this._internalRoot=t}Xc.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Sn();Iv(a,l,t,i,null,null)},Xc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Iv(t.current,2,null,t,null,null),Nc(),i[ci]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&kv(t)}};var Uv=e.version;if(Uv!=="19.2.1")throw Error(s(527,Uv,"19.2.1"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var yb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Hn=Wc.inject(yb),qt=Wc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Gy,d=Ky,_=Qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Rv(t,1,!1,null,null,a,l,null,f,d,_,Lv),t[ci]=i.current,Gd(t),new cm(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Gy,_=Ky,A=Qy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Rv(t,1,!0,i,a??null,l,f,D,d,_,A,Lv),i.context=Cv(null),a=i.current,l=Sn(),l=ws(l),f=Vr(l),f.callback=null,kr(a,f,l),a=l,i.current.lanes=a,As(i,a),Ri(i),t[ci]=i.current,Gd(t),new Xc(i)},kl.version="19.2.1",kl}var Yv;function Ib(){if(Yv)return dm.exports;Yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=Cb(),dm.exports}var Db=Ib();const Nb=UT(Db),Ob="modulepreload",Mb=function(r){return"/"+r},$v={},ps=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let h=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=h(n.map(g=>{if(g=Mb(g),g in $v)return;$v[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=E?"stylesheet":Ob,E||(w.as="script"),w.crossOrigin="",w.href=g,p&&w.setAttribute("nonce",p),document.head.appendChild(w),E)return new Promise((k,G)=>{w.addEventListener("load",k),w.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xv="popstate";function Vb(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return km("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Yl(o)}return Pb(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kb(){return Math.random().toString(36).substring(2,10)}function Wv(r,e){return{usr:r.state,key:r.key,idx:e}}function km(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||kb()}}function Yl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Pb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let F=E(),te=F==null?null:F-g;g=F,p&&p({action:m,location:X.location,delta:te})}function w(F,te){m="PUSH";let se=km(X.location,F,te);g=E()+1;let ee=Wv(se,g),pe=X.createHref(se);try{h.pushState(ee,"",pe)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;o.location.assign(pe)}u&&p&&p({action:m,location:X.location,delta:1})}function k(F,te){m="REPLACE";let se=km(X.location,F,te);g=E();let ee=Wv(se,g),pe=X.createHref(se);h.replaceState(ee,"",pe),u&&p&&p({action:m,location:X.location,delta:0})}function G(F){return xb(F)}let X={get action(){return m},get location(){return r(o,h)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Xv,T),p=F,()=>{o.removeEventListener(Xv,T),p=null}},createHref(F){return e(o,F)},createURL:G,encodeLocation(F){let te=G(F);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:w,replace:k,go(F){return h.go(F)}};return X}function xb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Yl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function zT(r,e,n="/"){return Lb(r,e,n,!1)}function Lb(r,e,n,s){let o=typeof e=="string"?yo(e):e,u=or(o.pathname||"/",n);if(u==null)return null;let h=BT(r);Ub(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=$b(u);m=Qb(h[p],g,s)}return m}function BT(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=rr([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(lt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),BT(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:Gb(T,h.index),routesMeta:w})};return r.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of qT(h.path))u(h,m,!0,g)}),e}function qT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=qT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Ub(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Kb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zb=/^:[\w-]+$/,Bb=3,qb=2,Hb=1,jb=10,Fb=-2,Jv=r=>r==="*";function Gb(r,e){let n=r.split("/"),s=n.length;return n.some(Jv)&&(s+=Fb),e&&(s+=qb),n.filter(o=>!Jv(o)).reduce((o,u)=>o+(zb.test(u)?Bb:u===""?Hb:jb),s)}function Kb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Qb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:rr([u,T.pathname]),pathnameBase:e1(rr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=rr([u,T.pathnameBase]))}return h}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Yb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let G=m[w]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const k=m[w];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function Yb(r,e=!1,n=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $b(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wb=r=>Xb.test(r);function Jb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r,u;if(n)if(Wb(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=Zv(n.substring(1),"/"):u=Zv(n,e)}else u=e;return{pathname:u,search:t1(s),hash:n1(o)}}function Zv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mp(r){let e=Zb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function pp(r,e,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=Jb(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var rr=r=>r.join("/").replace(/\/\/+/g,"/"),e1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),t1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,n1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function i1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function r1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var s1=["GET",...HT];new Set(s1);var _o=j.createContext(null);_o.displayName="DataRouter";var Uh=j.createContext(null);Uh.displayName="DataRouterState";j.createContext(!1);var jT=j.createContext({isTransitioning:!1});jT.displayName="ViewTransition";var a1=j.createContext(new Map);a1.displayName="Fetchers";var o1=j.createContext(null);o1.displayName="Await";var qn=j.createContext(null);qn.displayName="Navigation";var lu=j.createContext(null);lu.displayName="Location";var Pi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var gp=j.createContext(null);gp.displayName="RouteError";function l1(r,{relative:e}={}){lt(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(qn),{hash:o,pathname:u,search:h}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function vo(){return j.useContext(lu)!=null}function dr(){return lt(vo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(lu).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(r){j.useContext(qn).static||j.useLayoutEffect(r)}function yp(){let{isDataRoute:r}=j.useContext(Pi);return r?T1():u1()}function u1(){lt(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(_o),{basename:e,navigator:n}=j.useContext(qn),{matches:s}=j.useContext(Pi),{pathname:o}=dr(),u=JSON.stringify(mp(s)),h=j.useRef(!1);return GT(()=>{h.current=!0}),j.useCallback((p,g={})=>{if(Bn(h.current,FT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=pp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:rr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}j.createContext(null);function uu(r,{relative:e}={}){let{matches:n}=j.useContext(Pi),{pathname:s}=dr(),o=JSON.stringify(mp(n));return j.useMemo(()=>pp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function c1(r,e){return KT(r,e)}function KT(r,e,n,s,o){var se;lt(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(qn),{matches:h}=j.useContext(Pi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ee=T&&T.path||"";QT(g,!T||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let w=dr(),k;if(e){let ee=typeof e=="string"?yo(e):e;lt(E==="/"||((se=ee.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),k=ee}else k=w;let G=k.pathname||"/",X=G;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");X="/"+G.replace(/^\//,"").split("/").slice(ee.length).join("/")}let F=zT(r,{pathname:X});Bn(T||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Bn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=p1(F&&F.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:rr([E,u.encodeLocation?u.encodeLocation(ee.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:rr([E,u.encodeLocation?u.encodeLocation(ee.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ee.pathnameBase])})),h,n,s,o);return e&&te?j.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},te):te}function h1(){let r=E1(),e=i1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,h)}var f1=j.createElement(h1,null),d1=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?j.createElement(Pi.Provider,{value:this.props.routeContext},j.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m1({routeContext:r,match:e,children:n}){let s=j.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Pi.Provider,{value:r},n)}function p1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n==null?void 0:n.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:k}=n,G=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{var w,k;s(E,{location:n.location,params:((k=(w=n.matches)==null?void 0:w[0])==null?void 0:k.params)??{},unstable_pattern:r1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let k,G=!1,X=null,F=null;n&&(k=h&&T.route.id?h[T.route.id]:void 0,X=T.route.errorElement||f1,m&&(p<0&&w===0?(QT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,F=null):p===w&&(G=!0,F=T.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,w+1)),se=()=>{let ee;return k?ee=X:G?ee=F:T.route.Component?ee=j.createElement(T.route.Component,null):T.route.element?ee=T.route.element:ee=E,j.createElement(m1,{match:T,routeContext:{outlet:E,matches:te,isDataRoute:n!=null},children:ee})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?j.createElement(d1,{location:n.location,revalidation:n.revalidation,component:X,error:k,children:se(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):se()},null)}function _p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(r){let e=j.useContext(_o);return lt(e,_p(r)),e}function y1(r){let e=j.useContext(Uh);return lt(e,_p(r)),e}function _1(r){let e=j.useContext(Pi);return lt(e,_p(r)),e}function vp(r){let e=_1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function v1(){return vp("useRouteId")}function E1(){var s;let r=j.useContext(gp),e=y1("useRouteError"),n=vp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function T1(){let{router:r}=g1("useNavigate"),e=vp("useNavigate"),n=j.useRef(!1);return GT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Bn(n.current,FT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var eE={};function QT(r,e,n){!e&&!eE[r]&&(eE[r]=!0,Bn(!1,n))}j.memo(A1);function A1({routes:r,future:e,state:n,unstable_onError:s}){return KT(r,void 0,n,s,e)}function _m({to:r,replace:e,state:n,relative:s}){lt(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(qn);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Pi),{pathname:h}=dr(),m=yp(),p=pp(r,mp(u),h,s==="path"),g=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function tr(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){lt(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=yo(n));let{pathname:g="/",search:E="",hash:T="",state:w=null,key:k="default"}=n,G=j.useMemo(()=>{let X=or(g,m);return X==null?null:{location:{pathname:X,search:E,hash:T,state:w,key:k},navigationType:s}},[m,g,E,T,w,k,s]);return Bn(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:j.createElement(qn.Provider,{value:p},j.createElement(lu.Provider,{children:e,value:G}))}function w1({children:r,location:e}){return c1(Pm(r),e)}function Pm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Pm(s.props.children,u));return}lt(s.type===tr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Pm(s.props.children,u)),n.push(h)}),n}var oh="get",lh="application/x-www-form-urlencoded";function zh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function b1(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function R1(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function C1(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function I1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function D1(r,e){return r.button===0&&(!e||e==="_self")&&!I1(r)}var Jc=null;function N1(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var O1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!O1.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):r}function M1(r,e){let n,s,o,u,h;if(R1(r)){let m=r.getAttribute("action");s=m?or(m,e):null,n=r.getAttribute("method")||oh,o=vm(r.getAttribute("enctype"))||lh,u=new FormData(r)}else if(b1(r)||C1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?or(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||oh,o=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||lh,u=new FormData(m,r),!N1()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function V1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&or(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function k1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function x1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await k1(u,n);return h.links?h.links():[]}return[]}));return B1(s.flat(1).filter(P1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function tE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function L1(r,e,{includeHydrateFallback:n}={}){return U1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function U1(r){return[...new Set(r)]}function z1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function B1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(z1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function YT(){let r=j.useContext(_o);return Ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function q1(){let r=j.useContext(Uh);return Ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Tp=j.createContext(void 0);Tp.displayName="FrameworkContext";function $T(){let r=j.useContext(Tp);return Ep(r,"You must render this element inside a <HydratedRouter> element"),r}function H1(r,e){let n=j.useContext(Tp),[s,o]=j.useState(!1),[u,h]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let X=te=>{te.forEach(se=>{h(se.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[r]),j.useEffect(()=>{if(s){let X=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(X)}}},[s]);let k=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Pl(m,k),onBlur:Pl(p,G),onMouseEnter:Pl(g,k),onMouseLeave:Pl(E,G),onTouchStart:Pl(T,k)}]:[!1,w,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function j1({page:r,...e}){let{router:n}=YT(),s=j.useMemo(()=>zT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(G1,{page:r,matches:s,...e}):null}function F1(r){let{manifest:e,routeModules:n}=$T(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return x1(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function G1({page:r,matches:e,...n}){let s=dr(),{manifest:o,routeModules:u}=$T(),{basename:h}=YT(),{loaderData:m,matches:p}=q1(),g=j.useMemo(()=>tE(r,e,p,o,s,"data"),[r,e,p,o,s]),E=j.useMemo(()=>tE(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,X=!1;if(e.forEach(te=>{var ee;let se=o.routes[te.route.id];!se||!se.hasLoader||(!g.some(pe=>pe.route.id===te.route.id)&&te.route.id in m&&((ee=u[te.route.id])!=null&&ee.shouldRevalidate)||se.hasClientLoader?X=!0:G.add(te.route.id))}),G.size===0)return[];let F=V1(r,h,"data");return X&&G.size>0&&F.searchParams.set("_routes",e.filter(te=>G.has(te.route.id)).map(te=>te.route.id).join(",")),[F.pathname+F.search]},[h,m,s,o,g,e,r,u]),w=j.useMemo(()=>L1(E,o),[E,o]),k=F1(E);return j.createElement(j.Fragment,null,T.map(G=>j.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),w.map(G=>j.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),k.map(({key:G,link:X})=>j.createElement("link",{key:G,nonce:n.nonce,...X})))}function K1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XT&&(window.__reactRouterVersion="7.10.1")}catch{}function Q1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=j.useRef();o.current==null&&(o.current=Vb({window:s,v5Compat:!0}));let u=o.current,[h,m]=j.useState({action:u.action,location:u.location}),p=j.useCallback(g=>{n===!1?m(g):j.startTransition(()=>m(g))},[n]);return j.useLayoutEffect(()=>u.listen(p),[u,p]),j.createElement(S1,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n===!0})}var WT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JT=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},k){let{basename:G,unstable_useTransitions:X}=j.useContext(qn),F=typeof g=="string"&&WT.test(g),te,se=!1;if(typeof g=="string"&&F&&(te=g,XT))try{let V=new URL(window.location.href),N=g.startsWith("//")?new URL(V.protocol+g):new URL(g),x=or(N.pathname,G);N.origin===V.origin&&x!=null?g=x+N.search+N.hash:se=!0}catch{Bn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=l1(g,{relative:o}),[pe,Ie,be]=H1(s,w),C=W1(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:X});function b(V){e&&e(V),V.defaultPrevented||C(V)}let R=j.createElement("a",{...w,...be,href:te||ee,onClick:se||u?e:b,ref:K1(k,Ie),target:p,"data-discover":!F&&n==="render"?"true":void 0});return pe&&!F?j.createElement(j.Fragment,null,R,j.createElement(j1,{page:ee})):R});JT.displayName="Link";var Y1=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=uu(h,{relative:g.relative}),w=dr(),k=j.useContext(Uh),{navigator:G,basename:X}=j.useContext(qn),F=k!=null&&nR(T)&&m===!0,te=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,se=w.pathname,ee=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(se=se.toLowerCase(),ee=ee?ee.toLowerCase():null,te=te.toLowerCase()),ee&&X&&(ee=or(ee,X)||ee);const pe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let Ie=se===te||!o&&se.startsWith(te)&&se.charAt(pe)==="/",be=ee!=null&&(ee===te||!o&&ee.startsWith(te)&&ee.charAt(te.length)==="/"),C={isActive:Ie,isPending:be,isTransitioning:F},b=Ie?e:void 0,R;typeof s=="function"?R=s(C):R=[s,Ie?"active":null,be?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return j.createElement(JT,{...g,"aria-current":b,className:R,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(C):p)});Y1.displayName="NavLink";var $1=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=oh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},k)=>{let{unstable_useTransitions:G}=j.useContext(qn),X=eR(),F=tR(m,{relative:g}),te=h.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&WT.test(m),ee=pe=>{if(p&&p(pe),pe.defaultPrevented)return;pe.preventDefault();let Ie=pe.nativeEvent.submitter,be=(Ie==null?void 0:Ie.getAttribute("formmethod"))||h,C=()=>X(Ie||pe.currentTarget,{fetcherKey:e,method:be,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});G&&n!==!1?j.startTransition(()=>C()):C()};return j.createElement("form",{ref:k,method:te,action:F,onSubmit:s?p:ee,...w,"data-discover":!se&&r==="render"?"true":void 0})});$1.displayName="Form";function X1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(r){let e=j.useContext(_o);return lt(e,X1(r)),e}function W1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_useTransitions:m}={}){let p=yp(),g=dr(),E=uu(r,{relative:u});return j.useCallback(T=>{if(D1(T,e)){T.preventDefault();let w=n!==void 0?n:Yl(g)===Yl(E),k=()=>p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h});m?j.startTransition(()=>k()):k()}},[g,p,E,n,s,e,r,o,u,h,m])}var J1=0,Z1=()=>`__${String(++J1)}__`;function eR(){let{router:r}=ZT("useSubmit"),{basename:e}=j.useContext(qn),n=v1(),s=r.fetch,o=r.navigate;return j.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=M1(u,e);if(h.navigate===!1){let w=h.fetcherKey||Z1();await s(w,n,h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function tR(r,{relative:e}={}){let{basename:n}=j.useContext(qn),s=j.useContext(Pi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},h=dr();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),Yl(u)}function nR(r,{relative:e}={}){let n=j.useContext(jT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZT("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=or(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,h)!=null||vh(o.pathname,u)!=null}var ro=(r=>(r.USER="USER",r.OWNER="OWNER",r.ADMIN="ADMIN",r))(ro||{}),iR=(r=>(r.PENDING="PENDING",r.ACCEPTED="ACCEPTED",r.ARRIVED="ARRIVED",r.COMPLETED="COMPLETED",r.CANCELLED="CANCELLED",r))(iR||{});const IV={lat:36.365,lng:6.6147},rR={en:{welcome:"Welcome to DzTow",roleSelect:"Are you a Driver or a Tow Truck Owner?",driver:"Driver",owner:"Truck Owner",login:"Login",signup:"Sign Up",findingTrucks:"Finding nearby trucks...",requestTow:"Request Tow Truck",available:"Available",offline:"Offline",call:"Call",distance:"km away",status:"Status",cancel:"Cancel",resolve:"Resolved",language:"Language",profile:"Profile",dashboard:"Dashboard",truckType:"Truck Type",location:"Location",home:"Home",settings:"Settings",helpSupport:"Help & Support",logout:"Log Out",edit:"Edit",vehicle:"Vehicle",save:"Save",appTheme:"App Theme",primaryColor:"Primary Color",fontStyle:"Font Style",notifications:"Notifications",appInfo:"App Info",version:"Version",emailUs:"Email Us",callSupport:"Call Support",faq:"FAQ",faqs:[{q:"How do I request a tow truck?",a:"Go to the Home screen, confirm your location on the map, and tap the big red 'Request Tow Truck' button. Nearby drivers will be notified."},{q:"How is the price calculated?",a:"For this MVP version, prices are negotiated directly with the truck owner. We will add in-app estimates soon."},{q:"Can I cancel my request?",a:"Yes, you can cancel your request at any time from the home screen before the driver arrives."},{q:"Is this service available 24/7?",a:"It depends on the availability of independent truck owners in your area."}],reportIssue:"Report an Issue",describeIssue:"Describe your issue...",submitReport:"Submit Report",availabilityStatus:"Availability Status",online:"Online",offlineStatus:"Offline",myTruck:"My Truck",plate:"Plate",serviceArea:"Service Area",truckBrand:"Truck Brand",brand:"Brand",required:"Required",truckList:"Truck List",chat:"Chat",typeMessage:"Type a message...",blockUser:"Block User",unblockUser:"Unblock User",muteChat:"Mute Chat",unmuteChat:"Unmute Chat",contacts:"Contacts",noMessages:"No messages yet. Start a conversation!",today:"Today",typing:"Typing...",showAll:"All",showOnline:"Online",showOffline:"Offline",verification:"Verification",enterOtp:"Please enter the verification code sent to your phone.",verify:"Verify",resendOtp:"Resend Code",driverAcceptedTitle:"Driver Accepted!",driverAcceptedBody:"A tow truck is on the way to your location.",newMessageTitle:"New Message",requestCreatedTitle:"Request Sent",requestCreatedBody:"Searching for nearby drivers...",enableNotifications:"Enable Notifications"},fr:{welcome:"Bienvenue sur DzTow",roleSelect:"tes-vous un conducteur ou un propritaire de dpanneuse ?",driver:"Conducteur",owner:"Propritaire",login:"Connexion",signup:"S'inscrire",findingTrucks:"Recherche de camions  proximit...",requestTow:"Demander une dpanneuse",available:"Disponible",offline:"Hors ligne",call:"Appeler",distance:"km",status:"Statut",cancel:"Annuler",resolve:"Rsolu",language:"Langue",profile:"Profil",dashboard:"Tableau de bord",truckType:"Type de camion",location:"Emplacement",home:"Accueil",settings:"Paramtres",helpSupport:"Aide & Support",logout:"Se dconnecter",edit:"Modifier",vehicle:"Vhicule",save:"Enregistrer",appTheme:"Thme de l'application",primaryColor:"Couleur principale",fontStyle:"Style de police",notifications:"Notifications",appInfo:"Info App",version:"Version",emailUs:"Envoyez-nous un email",callSupport:"Appeler le support",faq:"FAQ",faqs:[{q:"Comment demander une dpanneuse ?",a:"Allez sur l'cran d'accueil, confirmez votre position sur la carte, et appuyez sur le grand bouton rouge 'Demander une dpanneuse'. Les dpanneurs  proximit seront notifis."},{q:"Comment le prix est-il calcul ?",a:"Pour cette version MVP, les prix sont ngocis directement avec le propritaire de la dpanneuse. Nous ajouterons bientt des estimations dans l'application."},{q:"Puis-je annuler ma demande ?",a:"Oui, vous pouvez annuler votre demande  tout moment depuis l'cran d'accueil avant l'arrive du dpanneur."},{q:"Ce service est-il disponible 24h/24 et 7j/7 ?",a:"Cela dpend de la disponibilit des propritaires de dpanneuses indpendants dans votre rgion."}],reportIssue:"Signaler un problme",describeIssue:"Dcrivez votre problme...",submitReport:"Soumettre",availabilityStatus:"Statut de disponibilit",online:"En ligne",offlineStatus:"Hors ligne",myTruck:"Mon Camion",plate:"Plaque",serviceArea:"Zone de service",truckBrand:"Marque du camion",brand:"Marque",required:"Requis",truckList:"Liste des camions",chat:"Messagerie",typeMessage:"crivez un message...",blockUser:"Bloquer l'utilisateur",unblockUser:"Dbloquer",muteChat:"Mettre en sourdine",unmuteChat:"Ractiver les notifications",contacts:"Contacts",noMessages:"Pas encore de messages. Commencez une discussion !",today:"Aujourd'hui",typing:"crit...",showAll:"Tous",showOnline:"En ligne",showOffline:"Hors ligne",verification:"Vrification",enterOtp:"Veuillez entrer le code de vrification envoy sur votre tlphone.",verify:"Vrifier",resendOtp:"Renvoyer le code",driverAcceptedTitle:"Chauffeur Accept !",driverAcceptedBody:"Une dpanneuse est en route vers votre position.",newMessageTitle:"Nouveau Message",requestCreatedTitle:"Demande Envoye",requestCreatedBody:"Recherche de chauffeurs  proximit...",enableNotifications:"Activer les notifications"},ar:{welcome:"   DzTow",roleSelect:"      ",driver:"",owner:" ",login:"",signup:"",findingTrucks:"   ...",requestTow:"  ",available:"",offline:" ",call:"",distance:"",status:"",cancel:"",resolve:" ",language:"",profile:" ",dashboard:" ",truckType:" ",location:"",home:"",settings:"",helpSupport:" ",logout:" ",edit:"",vehicle:"",save:"",appTheme:" ",primaryColor:" ",fontStyle:" ",notifications:"",appInfo:" ",version:"",emailUs:"",callSupport:" ",faq:" ",faqs:[{q:"   ",a:"               '  '.    ."},{q:"   ",a:"           .      ."},{q:"   ",a:"            ."},{q:"    24/7",a:"         ."}],reportIssue:"  ",describeIssue:" ...",submitReport:" ",availabilityStatus:" ",online:"",offlineStatus:" ",myTruck:"",plate:"",serviceArea:" ",truckBrand:" ",brand:"",required:"",truckList:" ",chat:"",typeMessage:" ...",blockUser:" ",unblockUser:" ",muteChat:" ",unmuteChat:" ",contacts:" ",noMessages:"  .  !",today:"",typing:"...",showAll:"",showOnline:"",showOffline:" ",verification:"",enterOtp:"      .",verify:"",resendOtp:"  ",driverAcceptedTitle:"  !",driverAcceptedBody:"    .",newMessageTitle:" ",requestCreatedTitle:"  ",requestCreatedBody:"    ...",enableNotifications:" "}},xm=j.createContext({primaryColor:"blue",textColor:"blue",setTheme:()=>{}}),e0=()=>j.useContext(xm);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),nE=r=>{const e=aR(r);return e.charAt(0).toUpperCase()+e.slice(1)},t0=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),oR=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=j.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>j.createElement("svg",{ref:p,...lR,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:t0("lucide",o),...!u&&!oR(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>j.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=(r,e)=>{const n=j.forwardRef(({className:s,...o},u)=>j.createElement(uR,{ref:u,iconNode:e,className:t0(`lucide-${sR(nE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=nE(r),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],hR=cu("list",cR);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dR=cu("map-pin",fR);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pR=cu("message-square",mR);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],yR=cu("truck",gR);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vR=cu("user",_R),ER=({role:r,setLanguage:e,currentLang:n,onLogout:s})=>{const o=yp(),u=dr(),h=rR[n],{primaryColor:m,textColor:p}=e0(),g=({path:E,icon:T,label:w})=>{const k=u.pathname===E;return _e.jsxs("button",{onClick:()=>o(E),className:`flex flex-col items-center justify-center w-full py-2 ${k?`text-${m}-600`:`text-${p}-500`}`,children:[_e.jsx(T,{size:24,strokeWidth:k?2.5:2}),_e.jsx("span",{className:"text-[10px] mt-1",children:w})]})};return _e.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-white border-t border-${p}-200 pb-[env(safe-area-inset-bottom)] flex justify-around shadow-lg z-50`,children:[_e.jsx(g,{path:"/home",icon:dR,label:h.home}),r===ro.USER&&_e.jsx(g,{path:"/trucks",icon:hR,label:h.truckList||"List"}),r===ro.OWNER&&_e.jsx(g,{path:"/chat",icon:pR,label:h.chat}),r===ro.OWNER&&_e.jsx(g,{path:"/dashboard",icon:yR,label:h.dashboard}),_e.jsx(g,{path:"/profile",icon:vR,label:h.profile})]})},TR=({title:r,currentLang:e,setLanguage:n})=>{const{primaryColor:s}=e0();return _e.jsxs("div",{className:`bg-${s}-600 text-white p-4 flex justify-between items-center shadow-md sticky top-0 z-50`,children:[_e.jsx("h1",{className:"text-xl font-bold font-heading",children:r}),_e.jsxs("select",{value:e,onChange:o=>n(o.target.value),className:`bg-${s}-700 text-white text-xs p-1 rounded border-none outline-none`,children:[_e.jsx("option",{value:"en",children:"EN"}),_e.jsx("option",{value:"fr",children:"FR"}),_e.jsx("option",{value:"ar",children:"AR"})]})]})},AR=j.lazy(()=>ps(()=>import("./AuthPage-CQgYchWc.js"),[])),SR=j.lazy(()=>ps(()=>import("./HomePage-2ahR1-Fn.js"),__vite__mapDeps([0,1,2,3]))),wR=j.lazy(()=>ps(()=>import("./TruckListPage-CkmzMvtc.js"),__vite__mapDeps([4,3]))),bR=j.lazy(()=>ps(()=>import("./OwnerChatPage-CX1hPknR.js"),__vite__mapDeps([5,1,6,7,8]))),RR=j.lazy(()=>ps(()=>import("./OwnerDashboard-B7uD7LZf.js"),__vite__mapDeps([9,8,10]))),CR=j.lazy(()=>ps(()=>import("./ProfilePage-BE_dCZ1-.js"),__vite__mapDeps([11,7,8,10,2]))),IR=j.lazy(()=>ps(()=>import("./SettingsPage-cmywuT1J.js"),__vite__mapDeps([12,1,6,2]))),DR=j.lazy(()=>ps(()=>import("./SupportPage-Lll7LX6N.js"),__vite__mapDeps([13,6,3]))),NR=()=>{const[r,e]=j.useState(null),[n,s]=j.useState("en"),[o,u]=j.useState(null),[h,m]=j.useState({primaryColor:"blue",textColor:"gray"}),p=T=>{T.language&&s(T.language),e(T)};j.useEffect(()=>{r&&r.language!==n&&e(T=>T?{...T,language:n}:null)},[n,r]);const g=j.useMemo(()=>({background:h.textColor==="gray"?"bg-gray-50":"bg-blue-50"}),[h.textColor]),E=()=>_e.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:_e.jsx("p",{children:"Loading..."})});return r?_e.jsx(Q1,{children:_e.jsx(xm.Provider,{value:{...h,setTheme:m},children:_e.jsxs("div",{className:`min-h-screen ${g.background} max-w-md mx-auto shadow-2xl relative overflow-hidden ${n==="ar"?"rtl":""}`,children:[_e.jsx(TR,{title:"DzTow",currentLang:n,setLanguage:s}),_e.jsx("div",{className:"pt-2",children:_e.jsx(j.Suspense,{fallback:E(),children:_e.jsxs(w1,{children:[_e.jsx(tr,{path:"/",element:_e.jsx(_m,{to:"/home"})}),_e.jsx(tr,{path:"/home",element:_e.jsx(SR,{user:r,currentLang:n,activeRequest:o,setActiveRequest:u})}),_e.jsx(tr,{path:"/trucks",element:_e.jsx(wR,{currentLang:n})}),_e.jsx(tr,{path:"/chat",element:r.role===ro.OWNER?_e.jsx(bR,{user:r,currentLang:n}):_e.jsx(_m,{to:"/home"})}),_e.jsx(tr,{path:"/dashboard",element:r.role===ro.OWNER?_e.jsx(RR,{user:r,currentLang:n,onUpdateUser:e}):_e.jsx(_m,{to:"/home"})}),_e.jsx(tr,{path:"/profile",element:_e.jsx(CR,{user:r,onLogout:()=>e(null),onUpdateUser:e,currentLang:n})}),_e.jsx(tr,{path:"/settings",element:_e.jsx(IR,{currentLang:n,setLanguage:s})}),_e.jsx(tr,{path:"/support",element:_e.jsx(DR,{currentLang:n})})]})})}),_e.jsx(ER,{role:r.role,setLanguage:s,currentLang:n,onLogout:()=>e(null)})]})})}):_e.jsx(xm.Provider,{value:{...h,setTheme:m},children:_e.jsx(j.Suspense,{fallback:E(),children:_e.jsx(AR,{onLogin:p,currentLang:n,setLanguage:s})})})},OR=()=>{};var iE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},MR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Ap={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(w=64)),s.push(n[E],n[T],n[w],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(n0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):MR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new VR;const w=u<<2|m>>4;if(s.push(w),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const G=g<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class VR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(r){const e=n0(r);return Ap.encodeByteArray(e,!0)},Eh=function(r){return kR(r).replace(/\./g,"")},i0=function(r){try{return Ap.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=()=>r0().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof iE>"u")return;const r=iE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},LR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&i0(r[1]);return e&&JSON.parse(e)},Bh=()=>{try{return OR()||PR()||xR()||LR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},s0=r=>{var e,n;return(n=(e=Bh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},UR=r=>{const e=s0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},a0=()=>{var r;return(r=Bh())==null?void 0:r.config},o0=r=>{var e;return(e=Bh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(h)),""].join(".")}const Hl={};function BR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function qR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let rE=!1;function u0(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Hl[r]===e||Hl[r]||rE)return;Hl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=BR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{rE=!0,h()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=qR(s),k=n("text"),G=document.getElementById(k)||document.createElement("span"),X=n("learnmore"),F=document.getElementById(X)||document.createElement("a"),te=n("preprendIcon"),se=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;m(ee),E(F,X);const pe=g();p(se,te),ee.append(se,G,F,pe),document.body.appendChild(ee)}u?(G.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function jR(){var e;const r=(e=Bh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function KR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function YR(){return!jR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sp(){try{return typeof indexedDB=="object"}catch{return!1}}function $R(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="FirebaseError";class mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=XR,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?WR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new mr(o,m,s)}}function WR(r,e){return r.replace(JR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const JR=/\{\$([^}]+)}/g;function ZR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(sE(u)&&sE(h)){if(!Js(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function sE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function eC(r,e){const n=new tC(r,e);return n.subscribe.bind(n)}class tC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=1e3,rC=2,sC=14400*1e3,aC=.5;function oC(r,e=iC,n=rC){const s=e*Math.pow(n,r),o=Math.round(aC*s*(Math.random()-.5)*2);return Math.min(sC,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(r){return r&&r._delegate?r._delegate:r}class lr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $l;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cC(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(r){return r===$s?void 0:r}function cC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const fC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},dC=Ve.INFO,mC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},pC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=mC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qh{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=pC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const gC=(r,e)=>e.some(n=>r instanceof n);let aE,oE;function yC(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _C(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,Lm=new WeakMap,h0=new WeakMap,Tm=new WeakMap,wp=new WeakMap;function vC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(is(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&c0.set(n,r)}).catch(()=>{}),wp.set(e,r),e}function EC(r){if(Lm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Lm.set(r,e)}let Um={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Lm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||h0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TC(r){Um=r(Um)}function AC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Am(this),e,...n);return h0.set(s,e.sort?e.sort():[e]),is(s)}:_C().includes(r)?function(...e){return r.apply(Am(this),e),is(c0.get(this))}:function(...e){return is(r.apply(Am(this),e))}}function SC(r){return typeof r=="function"?AC(r):(r instanceof IDBTransaction&&EC(r),gC(r,yC())?new Proxy(r,Um):r)}function is(r){if(r instanceof IDBRequest)return vC(r);if(Tm.has(r))return Tm.get(r);const e=SC(r);return e!==r&&(Tm.set(r,e),wp.set(e,r)),e}const Am=r=>wp.get(r);function wC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=is(h);return s&&h.addEventListener("upgradeneeded",p=>{s(is(h.result),p.oldVersion,p.newVersion,is(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const bC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],Sm=new Map;function lE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}TC(r=>({...r,get:(e,n,s)=>lE(e,n)||r.get(e,n,s),has:(e,n)=>!!lE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function IC(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",uE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new qh("@firebase/app"),DC="@firebase/app-compat",NC="@firebase/analytics-compat",OC="@firebase/analytics",MC="@firebase/app-check-compat",VC="@firebase/app-check",kC="@firebase/auth",PC="@firebase/auth-compat",xC="@firebase/database",LC="@firebase/data-connect",UC="@firebase/database-compat",zC="@firebase/functions",BC="@firebase/functions-compat",qC="@firebase/installations",HC="@firebase/installations-compat",jC="@firebase/messaging",FC="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",QC="@firebase/remote-config",YC="@firebase/remote-config-compat",$C="@firebase/storage",XC="@firebase/storage-compat",WC="@firebase/firestore",JC="@firebase/ai",ZC="@firebase/firestore-compat",eI="firebase",tI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",nI={[zm]:"fire-core",[DC]:"fire-core-compat",[OC]:"fire-analytics",[NC]:"fire-analytics-compat",[VC]:"fire-app-check",[MC]:"fire-app-check-compat",[kC]:"fire-auth",[PC]:"fire-auth-compat",[xC]:"fire-rtdb",[LC]:"fire-data-connect",[UC]:"fire-rtdb-compat",[zC]:"fire-fn",[BC]:"fire-fn-compat",[qC]:"fire-iid",[HC]:"fire-iid-compat",[jC]:"fire-fcm",[FC]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[QC]:"fire-rc",[YC]:"fire-rc-compat",[$C]:"fire-gcs",[XC]:"fire-gcs-compat",[WC]:"fire-fst",[ZC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,iI=new Map,qm=new Map;function cE(r,e){try{r.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ls(r){const e=r.name;if(qm.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,r);for(const n of Th.values())cE(n,r);for(const n of iI.values())cE(n,r);return!0}function fu(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new To("app","Firebase",rI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=tI;function f0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=a0()),!n)throw rs.create("no-options");const u=Th.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const h=new hC(o);for(const p of qm.values())h.addComponent(p);const m=new sI(n,s,h);return Th.set(o,m),m}function bp(r=Bm){const e=Th.get(r);if(!e&&r===Bm&&a0())return f0();if(!e)throw rs.create("no-app",{appName:r});return e}function sr(r,e,n){let s=nI[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(h.join(" "));return}ls(new lr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebase-heartbeat-database",oI=1,Xl="firebase-heartbeat-store";let wm=null;function d0(){return wm||(wm=wC(aI,oI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),wm}async function lI(r){try{const n=(await d0()).transaction(Xl),s=await n.objectStore(Xl).get(m0(r));return await n.done,s}catch(e){if(e instanceof mr)ur.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function hE(r,e){try{const s=(await d0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,m0(r)),await s.done}catch(n){if(n instanceof mr)ur.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(s.message)}}}function m0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,cI=30;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=fE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>cI){const h=mI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ur.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fE(),{heartbeatsToSend:s,unsentEntries:o}=fI(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ur.warn(n),""}}}function fE(){return new Date().toISOString().substring(0,10)}function fI(r,e=uI){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),dE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),dE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sp()?$R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function dE(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function mI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r){ls(new lr("platform-logger",e=>new CC(e),"PRIVATE")),ls(new lr("heartbeat",e=>new hI(e),"PRIVATE")),sr(zm,uE,r),sr(zm,uE,"esm2020"),sr("fire-js","")}pI("");var gI="firebase",yI="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(gI,yI,"app");var mE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,p0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,N,x){for(var I=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)I[rt-2]=arguments[rt];return b.prototype[N].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(N=0;N<16;++N)V[N]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],N=C.g[2];let x=C.g[3],I;I=b+(x^R&(N^x))+V[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=x+(N^b&(R^N))+V[1]+3905402710&4294967295,x=b+(I<<12&4294967295|I>>>20),I=N+(R^x&(b^R))+V[2]+606105819&4294967295,N=x+(I<<17&4294967295|I>>>15),I=R+(b^N&(x^b))+V[3]+3250441966&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(x^R&(N^x))+V[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=x+(N^b&(R^N))+V[5]+1200080426&4294967295,x=b+(I<<12&4294967295|I>>>20),I=N+(R^x&(b^R))+V[6]+2821735955&4294967295,N=x+(I<<17&4294967295|I>>>15),I=R+(b^N&(x^b))+V[7]+4249261313&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(x^R&(N^x))+V[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=x+(N^b&(R^N))+V[9]+2336552879&4294967295,x=b+(I<<12&4294967295|I>>>20),I=N+(R^x&(b^R))+V[10]+4294925233&4294967295,N=x+(I<<17&4294967295|I>>>15),I=R+(b^N&(x^b))+V[11]+2304563134&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(x^R&(N^x))+V[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=x+(N^b&(R^N))+V[13]+4254626195&4294967295,x=b+(I<<12&4294967295|I>>>20),I=N+(R^x&(b^R))+V[14]+2792965006&4294967295,N=x+(I<<17&4294967295|I>>>15),I=R+(b^N&(x^b))+V[15]+1236535329&4294967295,R=N+(I<<22&4294967295|I>>>10),I=b+(N^x&(R^N))+V[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=x+(R^N&(b^R))+V[6]+3225465664&4294967295,x=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(x^b))+V[11]+643717713&4294967295,N=x+(I<<14&4294967295|I>>>18),I=R+(x^b&(N^x))+V[0]+3921069994&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^x&(R^N))+V[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=x+(R^N&(b^R))+V[10]+38016083&4294967295,x=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(x^b))+V[15]+3634488961&4294967295,N=x+(I<<14&4294967295|I>>>18),I=R+(x^b&(N^x))+V[4]+3889429448&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^x&(R^N))+V[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=x+(R^N&(b^R))+V[14]+3275163606&4294967295,x=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(x^b))+V[3]+4107603335&4294967295,N=x+(I<<14&4294967295|I>>>18),I=R+(x^b&(N^x))+V[8]+1163531501&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(N^x&(R^N))+V[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=x+(R^N&(b^R))+V[2]+4243563512&4294967295,x=b+(I<<9&4294967295|I>>>23),I=N+(b^R&(x^b))+V[7]+1735328473&4294967295,N=x+(I<<14&4294967295|I>>>18),I=R+(x^b&(N^x))+V[12]+2368359562&4294967295,R=N+(I<<20&4294967295|I>>>12),I=b+(R^N^x)+V[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=x+(b^R^N)+V[8]+2272392833&4294967295,x=b+(I<<11&4294967295|I>>>21),I=N+(x^b^R)+V[11]+1839030562&4294967295,N=x+(I<<16&4294967295|I>>>16),I=R+(N^x^b)+V[14]+4259657740&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^x)+V[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=x+(b^R^N)+V[4]+1272893353&4294967295,x=b+(I<<11&4294967295|I>>>21),I=N+(x^b^R)+V[7]+4139469664&4294967295,N=x+(I<<16&4294967295|I>>>16),I=R+(N^x^b)+V[10]+3200236656&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^x)+V[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=x+(b^R^N)+V[0]+3936430074&4294967295,x=b+(I<<11&4294967295|I>>>21),I=N+(x^b^R)+V[3]+3572445317&4294967295,N=x+(I<<16&4294967295|I>>>16),I=R+(N^x^b)+V[6]+76029189&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(R^N^x)+V[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=x+(b^R^N)+V[12]+3873151461&4294967295,x=b+(I<<11&4294967295|I>>>21),I=N+(x^b^R)+V[15]+530742520&4294967295,N=x+(I<<16&4294967295|I>>>16),I=R+(N^x^b)+V[2]+3299628645&4294967295,R=N+(I<<23&4294967295|I>>>9),I=b+(N^(R|~x))+V[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=x+(R^(b|~N))+V[7]+1126891415&4294967295,x=b+(I<<10&4294967295|I>>>22),I=N+(b^(x|~R))+V[14]+2878612391&4294967295,N=x+(I<<15&4294967295|I>>>17),I=R+(x^(N|~b))+V[5]+4237533241&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~x))+V[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=x+(R^(b|~N))+V[3]+2399980690&4294967295,x=b+(I<<10&4294967295|I>>>22),I=N+(b^(x|~R))+V[10]+4293915773&4294967295,N=x+(I<<15&4294967295|I>>>17),I=R+(x^(N|~b))+V[1]+2240044497&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~x))+V[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=x+(R^(b|~N))+V[15]+4264355552&4294967295,x=b+(I<<10&4294967295|I>>>22),I=N+(b^(x|~R))+V[6]+2734768916&4294967295,N=x+(I<<15&4294967295|I>>>17),I=R+(x^(N|~b))+V[13]+1309151649&4294967295,R=N+(I<<21&4294967295|I>>>11),I=b+(N^(R|~x))+V[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=x+(R^(b|~N))+V[11]+3174756917&4294967295,x=b+(I<<10&4294967295|I>>>22),I=N+(b^(x|~R))+V[2]+718787259&4294967295,N=x+(I<<15&4294967295|I>>>17),I=R+(x^(N|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+x&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,V=this.C;let N=this.h,x=0;for(;x<b;){if(N==0)for(;x<=R;)o(this,C,x),x+=this.blockSize;if(typeof C=="string"){for(;x<b;)if(V[N++]=C.charCodeAt(x++),N==this.blockSize){o(this,V),N=0;break}}else for(;x<b;)if(V[N++]=C[x++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[b++]=this.g[R]>>>V&255;return C};function u(C,b){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function h(C,b){this.h=b;const R=[];let V=!0;for(let N=C.length-1;N>=0;N--){const x=C[N]|0;V&&x==b||(R[N]=x,V=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(b){return new h([b|0],b<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return F(g(-C));const b=[];let R=1;for(let V=0;C>=R;V++)b[V]=C/R|0,R*=4294967296;return new h(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return F(E(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(b,8));let V=T;for(let x=0;x<C.length;x+=8){var N=Math.min(8,C.length-x);const I=parseInt(C.substring(x,x+N),b);N<8?(N=g(Math.pow(b,N)),V=V.j(N).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var T=p(0),w=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(X(this))return-F(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(X(this))return"-"+F(this).toString(C);const b=g(Math.pow(C,6));var R=this;let V="";for(;;){const N=pe(R,b).g;R=te(R,N.j(b));let x=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=N,G(R))return x+V;for(;x.length<6;)x="0"+x;V=x+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function X(C){return C.h==-1}r.l=function(C){return C=te(this,C),X(C)?-1:G(C)?0:1};function F(C){const b=C.g.length,R=[];for(let V=0;V<b;V++)R[V]=~C.g[V];return new h(R,~C.h).add(w)}r.abs=function(){return X(this)?F(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let N=0;N<=b;N++){let x=V+(this.i(N)&65535)+(C.i(N)&65535),I=(x>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=I>>>16,x&=65535,I&=65535,R[N]=I<<16|x}return new h(R,R[R.length-1]&-2147483648?-1:0)};function te(C,b){return C.add(F(b))}r.j=function(C){if(G(this)||G(C))return T;if(X(this))return X(C)?F(this).j(F(C)):F(F(this).j(C));if(X(C))return F(this.j(F(C)));if(this.l(k)<0&&C.l(k)<0)return g(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var V=0;V<2*b;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const x=this.i(V)>>>16,I=this.i(V)&65535,rt=C.i(N)>>>16,Nt=C.i(N)&65535;R[2*V+2*N]+=I*Nt,se(R,2*V+2*N),R[2*V+2*N+1]+=x*Nt,se(R,2*V+2*N+1),R[2*V+2*N+1]+=I*rt,se(R,2*V+2*N+1),R[2*V+2*N+2]+=x*rt,se(R,2*V+2*N+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new h(R,0)};function se(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ee(C,b){this.g=C,this.h=b}function pe(C,b){if(G(b))throw Error("division by zero");if(G(C))return new ee(T,T);if(X(C))return b=pe(F(C),b),new ee(F(b.g),F(b.h));if(X(b))return b=pe(C,F(b)),new ee(F(b.g),b.h);if(C.g.length>30){if(X(C)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var R=w,V=b;V.l(C)<=0;)R=Ie(R),V=Ie(V);var N=be(R,1),x=be(V,1);for(V=be(V,2),R=be(R,2);!G(V);){var I=x.add(V);I.l(C)<=0&&(N=N.add(R),x=I),V=be(V,1),R=be(R,1)}return b=te(C,N.j(b)),new ee(N,b)}for(N=T;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),x=g(R),I=x.j(b);X(I)||I.l(C)>0;)R-=V,x=g(R),I=x.j(b);G(x)&&(x=w),N=N.add(x),C=te(C,I)}return new ee(N,C)}r.B=function(C){return pe(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)&C.i(V);return new h(R,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)|C.i(V);return new h(R,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)^C.i(V);return new h(R,this.h^C.h)};function Ie(C){const b=C.g.length+1,R=[];for(let V=0;V<b;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new h(R,C.h)}function be(C,b){const R=b>>5;b%=32;const V=C.g.length-R,N=[];for(let x=0;x<V;x++)N[x]=b>0?C.i(x+R)>>>b|C.i(x+R+1)<<32-b:C.i(x+R);return new h(N,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,p0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ss=h}).apply(typeof mE<"u"?mE:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g0,Ul,y0,uh,Hm,_0,v0,E0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,q){for(var ne=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ne[Se-2]=arguments[Se];return y.prototype[L].apply(S,ne)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function G(c,y){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let ne=0;ne<q;ne++)c[v+ne]=L[ne]}else c.push(L)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){h.setTimeout(()=>{throw c},0)}function te(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class se{constructor(){this.h=this.g=null}add(y,v){const S=ee.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ee=new X(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,be=!1,C=new se,b=()=>{const c=Promise.resolve(void 0);Ie=()=>{c.then(R)}};function R(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){F(v)}var y=ee;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}be=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(rt,N),rt.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(c,y,v,S,L){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=L,this.key=++Q,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ge(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function M(c){const y={};for(const v in c)y[v]=c[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,y){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let q=0;q<J.length;q++)v=J[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,v,S,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ne=Re(c,y,S,L);return ne>-1?(y=c[ne],v||(y.fa=!1)):(y=new ie(y,this.src,q,!!S,L),y.fa=v,c.push(y)),y};function ve(c,y){const v=y.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,y,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(de(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,y,v,S){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==y&&q.capture==!!v&&q.ha==S)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,y,v,S,L){if(Array.isArray(y)){for(let q=0;q<y.length;q++)st(c,y[q],v,S,L);return null}return v=Oo(v),c&&c[Nt]?c.J(y,v,m(S)?!!S.capture:!1,L):_s(c,y,v,!1,S,L)}function _s(c,y,v,S,L,q){if(!y)throw Error("Invalid event type");const ne=m(L)?!!L.capture:!!L;let Se=vs(c);if(Se||(c[Le]=Se=new le(c)),v=Se.add(y,v,S,ne,q),v.proxy)return v;if(S=la(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)x||(L=ne),L===void 0&&(L=!1),c.addEventListener(y.toString(),S,L);else if(c.attachEvent)c.attachEvent(si(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function la(){function c(v){return y.call(c.src,c.listener,v)}const y=Do;return c}function ua(c,y,v,S,L){if(Array.isArray(y))for(var q=0;q<y.length;q++)ua(c,y[q],v,S,L);else S=m(S)?!!S.capture:!!S,v=Oo(v),c&&c[Nt]?(c=c.i,q=String(y).toString(),q in c.g&&(y=c.g[q],v=Re(y,v,S,L),v>-1&&(de(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[q],c.h--)))):c&&(c=vs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,v,S,L)),(v=c>-1?y[c]:null)&&ca(v))}function ca(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])ve(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(si(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=vs(y))?(ve(v,c),v.h==0&&(v.src=null,y[Le]=null)):de(c)}}}function si(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Do(c,y){if(c.da)c=!0;else{y=new rt(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&ca(c),c=v.call(S,y)}return c}function vs(c){return c=c[Le],c instanceof le?c:null}var No="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(c){return typeof c=="function"?c:(c[No]||(c[No]=function(y){return c.handleEvent(y)}),c[No])}function _t(){V.call(this),this.i=new le(this),this.M=this,this.G=null}T(_t,V),_t.prototype[Nt]=!0,_t.prototype.removeEventListener=function(c,y,v,S){ua(this,c,y,v,S)};function Mt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var L=y;y=new N(S,c),re(y,L)}L=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=y.g=v[ne],L=yr(q,S,!0,y)&&L;if(q=y.g=c,L=yr(q,S,!0,y)&&L,L=yr(q,S,!1,y)&&L,v)for(ne=0;ne<v.length;ne++)q=y.g=v[ne],L=yr(q,S,!1,y)&&L}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)de(v[S]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},_t.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function yr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let L=!0;for(let q=0;q<y.length;++q){const ne=y[q];if(ne&&!ne.da&&ne.capture==v){const Se=ne.listener,mt=ne.ha||ne.src;ne.fa&&ve(c.i,ne),L=Se.call(mt,S)!==!1&&L}}return L&&!S.defaultPrevented}function df(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Su(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class tn extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){V.call(this),this.h=c,this.g={}}T(Es,V);var Mo=[];function Vo(c){ze(c.g,function(y,v){this.g.hasOwnProperty(v)&&ca(y)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Vo(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=h.JSON.stringify,mf=h.JSON.parse,wu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function bu(){}function Ru(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){N.call(this,"d")}T(qt,N);function bn(){N.call(this,"c")}T(bn,N);var dt={},Cu=null;function ha(){return Cu=Cu||new _t}dt.Ia="serverreachability";function Iu(c){N.call(this,dt.Ia,c)}T(Iu,N);function ai(c){const y=ha();Mt(y,new Iu(y))}dt.STAT_EVENT="statevent";function Ts(c,y){N.call(this,dt.STAT_EVENT,c),this.stat=y}T(Ts,N);function vt(c){const y=ha();Mt(y,new Ts(y,c))}dt.Ja="timingevent";function oi(c,y){N.call(this,dt.Ja,c),this.size=y}T(oi,N);function li(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function pf(c,y,v,S,L,q){c.info(function(){if(c.g)if(q){var ne="",Se=q.split("&");for(let He=0;He<Se.length;He++){var mt=Se[He].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const Dn=at.split("_");ne=Dn.length>=2&&Dn[1]=="type"?ne+(at+"="+mt+"&"):ne+(at+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+y+`
`+v+`
`+ne})}function Du(c,y,v,S,L,q,ne){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+y+`
`+v+`
`+q+" "+ne})}function ui(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(c,v)+(S?" "+S:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function gf(c,y){if(!c.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<S.length;ne++)S[ne]=""}}}}return _r(q)}catch{return y}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ko={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function ws(){}T(ws,bu),ws.prototype.g=function(){return new XMLHttpRequest},Po=new ws;function xi(c){return encodeURIComponent(String(c))}function Nu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Fn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Et={},Lt={};function ci(c,y,v){c.M=1,c.A=bs(At(y)),c.u=v,c.R=!0,fa(c,null)}function fa(c,y){c.F=Date.now(),hi(c),c.B=At(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ga(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Gn,c.g=Gu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new tn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Mo[0]=L.toString()),L=Mo);for(let q=0;q<L.length;q++){const ne=st(v,L[q],S||y.handleEvent,!1,y.h||y);if(!ne)break;y.g[ne.key]=ne}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ai(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Yn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Yn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Se!=4||mt==7||(mt==8||He<=0?ai(3):ai(2)),fi(this);var y=this.g.ca();this.X=y;var v=yf(this);if(this.o=y==200,Du(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var q=S;break t}}q=null}if(c=q)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,vt(12),pn(this),Rn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Mu(this,v),at==Lt){Se==4&&(this.m=4,vt(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,at,null),di(this,at);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(ne),ne.P=!0,vt(11))}}else ui(this.i,this.l,v,null),di(this,v);Se==4&&pn(this),this.o&&!this.K&&(Se==4?qu(this.j,this):(this.o=!1,hi(this)))}else Ui(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),pn(this),Rn(this)}}}catch{}finally{}};function yf(c){if(!Ou(c))return c.g.la();const y=Ht(c.g);if(y==="")return"";let v="";const S=y.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),Rn(c),"";c.h.i=new h.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(y[q],{stream:!(L&&q==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Lt:(v=Number(y.substring(v,S)),isNaN(v)?Et:(S+=1,S+v>y.length?Lt:(y=y.slice(S,S+v),c.C=S+v,y)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(c){c.T=Date.now()+c.H,da(c,c.H)}function da(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(g(c.aa,c),y)}function fi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(ai(),vt(17)),pn(this),this.m=2,Rn(this)):da(this,this.T-c)};function Rn(c){c.j.I==0||c.K||qu(c.j,c)}function pn(c){fi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Vo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function di(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),Rr(v);else break e;Ms(v),vt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(g(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&Ta(v),!I(y))for(L=v.Ba.g.parse(y),y=0;y<L.length;y++){let He=L[y];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Dn=He[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ai=He[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const $n=He[5];$n!=null&&typeof $n=="number"&&$n>0&&(S=1.5*$n,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Xn=c.g;if(Xn){const Vs=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var q=S.h;q.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Uo(q,q.h),q.h=null))}if(S.G){const Aa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(S.wa=Aa,Ke(S.J,S.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ne=c;if(S.na=Fu(S,S.L?S.ba:null,S.W),ne.L){zo(S.h,ne);var Se=ne,mt=S.O;mt&&(Se.H=mt),Se.D&&(fi(Se),hi(Se)),S.g=ne}else zu(S);v.i.length>0&&Ei(v)}else He[0]!="stop"&&He[0]!="close"||Ti(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ti(v,7):Yo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ai(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function xo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Uo(c,y){c.g?c.g.add(y):c.h=y}function zo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xo.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,q=null;S>=0?(L=c[v].substring(0,S),q=c[v].substring(S+1)):L=c[v],y(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,qo(this,Lu(c.i)),this.m=c.m):c&&(y=String(c).match(Vu))?(this.l=!1,Ut(this,y[1]||"",!0),this.o=gi(y[2]||""),this.g=gi(y[3]||"",!0),vr(this,y[4]),this.h=gi(y[5]||"",!0),qo(this,y[6]||"",!0),this.m=gi(y[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Rs(y,pa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Rs(y,pa,!0),"@"),c.push(xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Rs(v,v.charAt(0)=="/"?Ho:ku,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Rs(v,Pu)),c.join("")},gn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?Ut(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)vr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=y.h.lastIndexOf("/");L!=-1&&(S=y.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ne=0;ne<L.length;){const Se=L[ne++];Se=="."?S&&ne==L.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&ne==L.length&&q.push("")):(q.push(Se),S=!0)}S=q.join("/")}else S=L}return v?y.h=S:v=c.i.toString()!=="",v?qo(y,Lu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new gn(c)}function Ut(c,y,v){c.j=v?gi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function qo(c,y,v){y instanceof Tr?(c.i=y,ya(c.i,c.l)):(v||(y=Rs(y,Er)),c.i=new Tr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function bs(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Rs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pa=/[#\/\?@]/g,ku=/[#\?:]/g,Ho=/[#\?]/g,Er=/[#\?@]/g,Pu=/#/g;function Tr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&ma(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Tr.prototype,r.add=function(c,y){an(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function xu(c,y){an(c),y=Ar(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jo(c,y){return an(c),y=Ar(c,y),c.g.has(y)}r.forEach=function(c,y){an(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(y,L,S,this)},this)},this)};function Fo(c,y){an(c);let v=[];if(typeof y=="string")jo(c,y)&&(v=v.concat(c.g.get(Ar(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return an(this),this.i=null,c=Ar(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Fo(this,c),c.length>0?String(c[0]):y):y};function ga(c,y,v){xu(c,y),v.length>0&&(c.i=null,c.g.set(Ar(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const L=xi(v);v=Fo(this,v);for(let q=0;q<v.length;q++){let ne=L;v[q]!==""&&(ne+="="+xi(v[q])),c.push(ne)}}return this.i=c.join("&")};function Lu(c){const y=new Tr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ar(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ya(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(xu(this,S),ga(this,L,v))},c)),c.j=y}function Kn(c,y){const v=new jn;if(h.Image){const S=new Image;S.onload=E(Cn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Cn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Cn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Cn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Go(c,y){const v=new jn,S=new AbortController,L=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function Sr(){this.g=new wu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(yi,bu),yi.prototype.g=function(){return new Cs(this.i,this.h)};function Cs(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Cs,_t),r=Cs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wr(this):Qn(this),this.readyState==3&&_a(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let y="";return ze(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Is(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=In(v),typeof c=="string"?v!=null&&xi(v):Ke(c,y,v))}function $e(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,_t);var _i=/^https?$/i,Ko=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(q){Ds(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Ko,y,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ds(this,q)}};function Ds(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Qo(c),Li(c)}function Qo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ns(this):this.Xa())},r.Xa=function(){Ns(this)};function Ns(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=q===0){let ne=String(c.D).match(Vu)[1]||null;!ne&&h.self&&h.self.location&&(ne=h.self.location.protocol.slice(0,-1)),S=!_i.test(ne?ne.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Qo(c)}}finally{Li(c)}}}}function Li(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mf(y)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(c){const y={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=Nu(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=y[L]||[];y[L]=q,q.push(v)}Ge(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function br(c){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new Sr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=br.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){vt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Fu(this,null,this.W),Ei(this)};function Yo(c){if(va(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Os(c,v),y=new Fn(c,c.j,y),y.M=2,y.A=bs(At(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),hi(y)}ju(c)}function Rr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function va(c){Rr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ei(c){if(!Lo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ie||b(),be||(Ie(),be=!0),C.add(y,c),c.D=0}}function Ea(c,y){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(g(c.Ea,c,y),Hu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),re(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uu(this,L,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Os(this,v),q&&(this.R?y="headers="+xi(In(q))+"&"+y:this.u&&Is(v,this.u,q)),Uo(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,y),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||Lo(this.h)||$o(this))};function $o(c,y){var v;y?v=y.l:v=c.V++;const S=At(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),Os(c,S),c.u&&c.o&&Is(S,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),ci(v,S,y)}function Os(c,y){c.H&&ze(c.H,function(v,S){Ke(y,S,v)}),c.l&&ze({},function(v,S){Ke(y,S,v)})}function Uu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var L=c.i;let Se=-1;for(;;){const mt=["count="+v];Se==-1?v>0?(Se=L[0].g,mt.push("ofs="+Se)):Se=0:mt.push("ofs="+Se);let He=!0;for(let at=0;at<v;at++){var q=L[at].g;const Dn=L[at].map;if(q-=Se,q<0)Se=Math.max(0,L[at].g-100),He=!1;else try{q="req"+q+"_"||"";try{var ne=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ai,$n]of ne){let Xn=$n;m($n)&&(Xn=_r($n)),mt.push(q+Ai+"="+encodeURIComponent(Xn))}}catch(Ai){throw mt.push(q+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Dn)}}if(He){ne=mt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),y.G=c,ne}function zu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ie||b(),be||(Ie(),be=!0),C.add(y,c),c.A=0}}function Ms(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(g(c.Da,c),Hu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Rr(this),Bu(this))};function Xo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Os(c,y),c.u&&c.o&&Is(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bs(At(y)),v.u=null,v.R=!0,fa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Ms(this),vt(19))};function Ta(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){Ta(c),Xo(c),c.g=null;var S=2}else if(pi(c.h,y))v=y.G,zo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var L=c.D;S=ha(),Mt(S,new oi(S,v)),Ei(c)}else zu(c);else if(L=y.m,L==3||L==0&&y.X>0||!(S==1&&Ea(c,y)||S==2&&Ms(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Hu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const L=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ut(S,"https"),bs(S),L?Kn(S.toString(),v):Go(S.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(y),ju(c),va(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function ju(c){if(c.I=0,c.ja=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Fu(c,y,v){var S=v instanceof gn?At(v):new gn(v);if(S.g!="")y&&(S.g=y+"."+S.g),vr(S,S.u);else{var L=h.location;S=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);S&&Ut(q,S),y&&(q.g=y),L&&vr(q,L),v&&(q.h=v),S=q}return v=c.G,y=c.wa,v&&y&&Ke(S,v,y),Ke(S,"VER",c.ka),Os(c,S),S}function Gu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new yi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){_t.call(this),this.g=new br(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new zi(this)}T(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Yo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);y.i.push(new Tt(y.Ya++,c)),y.I==3&&Ei(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,nn.Z.N.call(this)};function Qu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Qu,qt);function Yu(){bn.call(this),this.status=1}T(Yu,bn);function zi(c){this.g=c}T(zi,Ku),zi.prototype.ra=function(){Mt(this.g,"a")},zi.prototype.qa=function(c){Mt(this.g,new Qu(c))},zi.prototype.pa=function(c){Mt(this.g,new Yu)},zi.prototype.oa=function(){Mt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,E0=function(){return new Cr},v0=function(){return ha()},_0=dt,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,uh=Ss,ko.COMPLETE="complete",y0=ko,Ru.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ul=Ru,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,g0=$e}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const pE="@firebase/firestore",gE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new qh("@firebase/firestore");function Ja(){return Zs.logLevel}function oe(r,...e){if(Zs.logLevel<=Ve.DEBUG){const n=e.map(Rp);Zs.debug(`Firestore (${So}): ${r}`,...n)}}function cr(r,...e){if(Zs.logLevel<=Ve.ERROR){const n=e.map(Rp);Zs.error(`Firestore (${So}): ${r}`,...n)}}function co(r,...e){if(Zs.logLevel<=Ve.WARN){const n=e.map(Rp);Zs.warn(`Firestore (${So}): ${r}`,...n)}}function Rp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,T0(r,s,n)}function T0(r,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function Fe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||T0(e,o,s)}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class vI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EI{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new A0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class TI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new TI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=wI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function jm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return bm(o)===bm(u)?ke(o,u):bm(o)?1:-1}return ke(r.length,e.length)}const bI=55296,RI=57343;function bm(r){const e=r.charCodeAt(0);return e>=bI&&e<=RI}function ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),o=Ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class et extends Ci{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const CI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ci{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return CI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new Yt([_E])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(et.fromString(e))}static fromName(e){return new fe(et.fromString(e).popFirst(5))}static empty(){return new fe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r,e,n){if(!n)throw new ae($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function II(r,e,n,s){if(e===!0&&s===!0)throw new ae($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vE(r){if(!fe.isDocumentKey(r))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){if(fe.isDocumentKey(r))throw new ae($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function w0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Hh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function ti(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(r);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!w0(r))throw new ae($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ae($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=-62135596800,AE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*AE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TE)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Dt("string",it._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new it(0,0))}static max(){return new Ee(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function DI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new us(o,fe.empty(),e)}function NI(r){return new us(r.readTime,r.key,Wl)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Ee.min(),fe.empty(),Wl)}static max(){return new us(Ee.max(),fe.empty(),Wl)}}function OI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==MI)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,s)=>{n(e)}))}static reject(e){return new Z(((n,s)=>{s(e)}))}static waitFor(e){return new Z(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Z(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new Z(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function kI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Fh(r){return r==null}function Ah(r){return r===0&&1/r==-1/0}function PI(r){return typeof r=="number"&&Number.isInteger(r)&&!Ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="";function xI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=SE(e)),e=LI(r.get(n),e);return SE(e)}function LI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case b0:n+="";break;default:n+=u}}return n}function SE(r){return r+b0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function R0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bE(this.data.getIterator())}getIteratorFrom(e){return new bE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class bE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new kt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C0("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const UI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=UI.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="server_timestamp",D0="__type__",N0="__previous_value__",O0="__local_write_time__";function Dp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[D0])==null?void 0:s.stringValue)===I0}function Gh(r){const e=r.mapValue.fields[N0];return Dp(e)?Gh(e):e}function Jl(r){const e=cs(r.mapValue.fields[O0].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Sh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__type__",BI="__max__",th={mapValue:{}},V0="__vector__",wh="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:HI(r)?9007199254740991:qI(r)?10:11:ye(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=cs(o.timestampValue),m=cs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?Ah(h)===Ah(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(wE(h)!==wE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ki(h[p],m[p])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function eu(r,e){return(r.values||[]).find((n=>ki(n,e)))!==void 0}function fo(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return RE(r.timestampValue,e.timestampValue);case 4:return RE(Jl(r),Jl(e));case 5:return jm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=hs(u),p=hs(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ke(yt(u.latitude),yt(h.latitude));return m!==0?m:ke(yt(u.longitude),yt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return CE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){var w,k,G,X;const m=u.fields||{},p=h.fields||{},g=(w=m[wh])==null?void 0:w.arrayValue,E=(k=p[wh])==null?void 0:k.arrayValue,T=ke(((G=g==null?void 0:g.values)==null?void 0:G.length)||0,((X=E==null?void 0:E.values)==null?void 0:X.length)||0);return T!==0?T:CE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===th.mapValue&&h===th.mapValue)return 0;if(u===th.mapValue)return 1;if(h===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=jm(p[T],E[T]);if(w!==0)return w;const k=fo(m[p[T]],g[E[T]]);if(k!==0)return k}return ke(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:n})}}function RE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=cs(r),s=cs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function CE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function mo(r){return Fm(r)}function Fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return fe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Fm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Fm(n.fields[h])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function ch(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(r);return e?16+ch(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ch(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return gs(s.fields,((u,h)=>{o+=u.length+ch(h)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function IE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gm(r){return!!r&&"integerValue"in r}function Np(r){return!!r&&"arrayValue"in r}function DE(r){return!!r&&"nullValue"in r}function NE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hh(r){return!!r&&"mapValue"in r}function qI(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[M0])==null?void 0:s.stringValue)===V0}function jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=jl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(r.arrayValue.values[n]);return e}return{...r}}function HI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=jl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(jl(this.value))}}function k0(r){const e=[];return gs(r.fields,((n,s)=>{const o=new Yt([n]);if(hh(s)){const u=k0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ee.min(),Ee.min(),Ee.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ee.min(),Ee.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ee.min(),Ee.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function OE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=fe.comparator(fe.fromName(h.referenceValue),n.key):s=fo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ME(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{}class It extends P0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GI(e,n,s):n==="array-contains"?new YI(e,s):n==="in"?new $I(e,s):n==="not-in"?new XI(e,s):n==="array-contains-any"?new WI(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new KI(e,s):new QI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends P0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return x0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x0(r){return r.op==="and"}function L0(r){return FI(r)&&x0(r)}function FI(r){for(const e of r.filters)if(e instanceof ii)return!1;return!0}function Km(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(L0(r))return r.filters.map((e=>Km(e))).join(",");{const e=r.filters.map((n=>Km(n))).join(",");return`${r.op}(${e})`}}function U0(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,e):r instanceof ii?(function(s,o){return o instanceof ii&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&U0(h,o.filters[m])),!0):!1})(r,e):void ye(19439)}function z0(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(z0).join(" ,")+"}"})(r):"Filter"}class GI extends It{constructor(e,n,s){super(e,n,s),this.key=fe.fromName(s.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class KI extends It{constructor(e,n){super(e,"in",n),this.keys=B0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class QI extends It{constructor(e,n){super(e,"not-in",n),this.keys=B0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B0(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>fe.fromName(s.referenceValue)))}class YI extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&eu(n.arrayValue,this.value)}}class $I extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class XI extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class WI extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function VE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new JI(r,e,n,s,o,u,h)}function Op(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Km(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>mo(s))).join(",")),e.Te=n}return e.Te}function Mp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!U0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ME(r.startAt,e.startAt)&&ME(r.endAt,e.endAt)}function Qm(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZI(r,e,n,s,o,u,h,m){return new Ro(r,e,n,s,o,u,h,m)}function Kh(r){return new Ro(r)}function kE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function q0(r){return r.collectionGroup!==null}function Fl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt(Yt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tu(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new tu(Yt.keyField(),s))}return e.Ie}function Ii(r){const e=Ae(r);return e.Ee||(e.Ee=e2(e,Fl(r))),e.Ee}function e2(r,e){if(r.limitType==="F")return VE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)}));const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return VE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ym(r,e){const n=r.filters.concat([e]);return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function $m(r,e,n){return new Ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Qh(r,e){return Mp(Ii(r),Ii(e))&&r.limitType===e.limitType}function H0(r){return`${Op(Ii(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>z0(o))).join(", ")}]`),Fh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function Yh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):fe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=OE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Fl(s),o)||s.endAt&&!(function(h,m,p){const g=OE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Fl(s),o))})(r,e)}function t2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function j0(r){return(e,n)=>{let s=!1;for(const o of Fl(r)){const u=n2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function n2(r,e,n){const s=r.field.isKeyField()?fe.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):ye(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return R0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new ut(fe.comparator);function hr(){return i2}const F0=new ut(fe.comparator);function zl(...r){let e=F0;for(const n of r)e=e.insert(n.key,n);return e}function G0(r){let e=F0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xs(){return Gl()}function K0(){return Gl()}function Gl(){return new ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const r2=new ut(fe.comparator),s2=new kt(fe.comparator);function Pe(...r){let e=s2;for(const n of r)e=e.add(n);return e}const a2=new kt(ke);function o2(){return a2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function Q0(r){return{integerValue:""+r}}function l2(r,e){return PI(e)?Q0(e):Vp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function u2(r,e,n){return r instanceof nu?(function(o,u){const h={fields:{[D0]:{stringValue:I0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Gh(u)),u&&(h.fields[N0]=u),{mapValue:h}})(n,e):r instanceof iu?$0(r,e):r instanceof ru?X0(r,e):(function(o,u){const h=Y0(o,u),m=PE(h)+PE(o.Ae);return Gm(h)&&Gm(o.Ae)?Q0(m):Vp(o.serializer,m)})(r,e)}function c2(r,e,n){return r instanceof iu?$0(r,e):r instanceof ru?X0(r,e):n}function Y0(r,e){return r instanceof Rh?(function(s){return Gm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class nu extends $h{}class iu extends $h{constructor(e){super(),this.elements=e}}function $0(r,e){const n=W0(e);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends $h{constructor(e){super(),this.elements=e}}function X0(r,e){let n=W0(e);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class Rh extends $h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function PE(r){return yt(r.integerValue||r.doubleValue)}function W0(r){return Np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.field=e,this.transform=n}}function f2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?ho(s.elements,o.elements,ki):s instanceof Rh&&o instanceof Rh?ki(s.Ae,o.Ae):s instanceof nu&&o instanceof nu})(r.transform,e.transform)}class d2{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Xh{}function J0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new eA(r.key,ni.none()):new mu(r.key,r.data,ni.none());{const n=r.data,s=dn.empty();let o=new kt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ys(r.key,s,new wn(o.toArray()),ni.none())}}function m2(r,e,n){r instanceof mu?(function(o,u,h){const m=o.value.clone(),p=LE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(o,u,h){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=LE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Z0(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Kl(r,e,n,s){return r instanceof mu?(function(u,h,m,p){if(!fh(u.precondition,h))return m;const g=u.value.clone(),E=UE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(u,h,m,p){if(!fh(u.precondition,h))return m;const g=UE(u.fieldTransforms,p,h),E=h.data;return E.setAll(Z0(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return fh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function p2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Y0(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function xE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,h)=>f2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Xh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends Xh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Z0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function LE(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,c2(h,m,n[o]))}return s}function UE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,u2(u,h,e))}return s}class eA extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&m2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=K0();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=J0(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,s)=>xE(n,s)))&&ho(this.baseMutations,e.baseMutations,((n,s)=>xE(n,s)))}}class kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return r2})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new kp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Ue;function E2(r){switch(r){case $.OK:return ye(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function tA(r){if(r===void 0)return cr("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ct.OK:return $.OK;case Ct.CANCELLED:return $.CANCELLED;case Ct.UNKNOWN:return $.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return $.INTERNAL;case Ct.UNAVAILABLE:return $.UNAVAILABLE;case Ct.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ct.NOT_FOUND:return $.NOT_FOUND;case Ct.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ct.ABORTED:return $.ABORTED;case Ct.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ct.DATA_LOSS:return $.DATA_LOSS;default:return ye(39323,{code:r})}}(Ue=Ct||(Ct={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new ss([4294967295,4294967295],0);function zE(r){const e=T2().encode(r),n=new p0;return n.update(e),new Uint8Array(n.digest())}function BE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Pp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(A2)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zE(e),[s,o]=BE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Pp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=zE(e),[s,o]=BE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wh(Ee.min(),o,new ut(ke),hr(),Pe())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class nA{constructor(e,n){this.targetId=e,this.Ce=n}}class iA{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class qE{constructor(){this.ve=0,this.Fe=HE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:u})}})),new pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=HE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S2{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=nh(),this.He=nh(),this.Ye=new ut(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Qm(u))if(s===0){const h=new fe(u.path);this.et(n,h,Zt.newNoDocument(h,Ee.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=hs(s).toUint8Array()}catch(p){if(p instanceof C0)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Pp(h,o,u)}catch(p){return co(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Qm(m.target)){const p=new fe(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Wh(e,n,this.Ye,this.je,s);return this.je=hr(),this.Je=nh(),this.He=nh(),this.Ye=new ut(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ut(fe.comparator)}function HE(){return new ut(fe.comparator)}const w2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R2={and:"AND",or:"OR"};class C2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xm(r,e){return r.useProto3Json||Fh(e)?e:{value:e}}function Ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function I2(r,e){return Ch(r,e.toTimestamp())}function Di(r){return Fe(!!r,49232),Ee.fromTimestamp((function(n){const s=cs(n);return new it(s.seconds,s.nanos)})(r))}function xp(r,e){return Wm(r,e).canonicalString()}function Wm(r,e){const n=(function(o){return new et(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function sA(r){const e=et.fromString(r);return Fe(cA(e),10190,{key:e.toString()}),e}function Jm(r,e){return xp(r.databaseId,e.path)}function Rm(r,e){const n=sA(e);if(n.get(1)!==r.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new fe(oA(n))}function aA(r,e){return xp(r.databaseId,e)}function D2(r){const e=sA(r);return e.length===4?et.emptyPath():oA(e)}function Zm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oA(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jE(r,e,n){return{name:Jm(r,e),fields:n.value.mapValue.fields}}function N2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ye(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?$.UNKNOWN:tA(g.code);return new ae(E,g.message||"")})(h);n=new iA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rm(r,s.document.name),u=Di(s.document.updateTime),h=s.document.createTime?Di(s.document.createTime):Ee.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rm(r,s.document),u=s.readTime?Di(s.readTime):Ee.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new dh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rm(r,s.document),u=s.removedTargetIds||[];n=new dh([],u,o,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new v2(o,u),m=s.targetId;n=new nA(m,h)}}return n}function O2(r,e){let n;if(e instanceof mu)n={update:jE(r,e.key,e.value)};else if(e instanceof eA)n={delete:Jm(r,e.key)};else if(e instanceof ys)n={update:jE(r,e.key,e.data),updateMask:B2(e.fieldMask)};else{if(!(e instanceof g2))return ye(16599,{Vt:e.type});n={verify:Jm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof nu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:I2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),n}function M2(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Di(o.updateTime):Di(u);return h.isEqual(Ee.min())&&(h=Di(u)),new d2(h,o.transformResults||[])})(n,e)))):[]}function V2(r,e){return{documents:[aA(r,e.path)]}}function k2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=aA(r,o);const u=(function(g){if(g.length!==0)return uA(ii.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:eo(w.field),direction:L2(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Xm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function P2(r){let e=D2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=lA(T);return w instanceof ii&&L0(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(G){return new tu(to(G.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Fh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,k=T.values||[];return new bh(k,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,k=T.values||[];return new bh(k,w)})(n.endAt)),ZI(e,o,h,u,m,"F",p,g)}function x2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=to(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((s=>lA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(n.compositeFilter.op))})(r):ye(30097,{filter:r})}function L2(r){return w2[r]}function U2(r){return b2[r]}function z2(r){return R2[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return Yt.fromServerFormat(r.fieldPath)}function uA(r){return r instanceof It?(function(n){if(n.op==="=="){if(NE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(DE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(DE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:U2(n.op),value:n.value}}})(r):r instanceof ii?(function(n){const s=n.getFilters().map((o=>uA(o)));return s.length===1?s[0]:{compositeFilter:{op:z2(n.op),filters:s}}})(r):ye(54877,{filter:r})}function B2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,u=Ee.min(),h=Ee.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.yt=e}}function H2(r){const e=P2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$m(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Cn=new F2}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(us.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class F2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(hA,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="LruGarbageCollector",G2=1048576;function KE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class K2{constructor(e){this.Ir=e,this.buffer=new kt(KE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(GE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?oe(GE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class Y2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(jh.ce);const s=new K2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(FE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Ja()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function $2(r,e){return new Y2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.changes=new ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Kl(s.mutation,o,wn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=zl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Xs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=hr();const h=Gl(),m=(function(){return Gl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ys)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),it.now())):h.set(g.key,wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new W2(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Gl();let o=new ut(((h,m)=>h-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||wn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=K0();E.forEach((w=>{if(!u.has(w)){const k=J0(n.get(w),s.get(w));k!==null&&T.set(w,k),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return Z.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return fe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(Xs());let m=Wl,p=u;return h.next((g=>Z.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:G0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next((s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=zl();return this.indexManager.getCollectionParents(e,u).next((m=>Z.forEach(m,(p=>{const g=(function(T,w){return new Ro(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))}));let m=zl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,wn.empty(),it.now()),Yh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:H2(o.bundledQuery),readTime:Di(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.overlays=new ut(fe.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xs();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Xs(),u=n.length+1,h=new fe(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Xs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return Z.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new _2(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.Qr=new kt(Bt.$r),this.Ur=new kt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new fe(new et([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new et([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Bt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new y2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ip:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(ke);return n.forEach((o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;fe.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new fe(u),0);let m=new kt(ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),Z.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.ri=e,this.docs=(function(){return new ut(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hr();const h=n.path,m=new fe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||OI(NI(E),s)<=0||(o.has(E.key)||Yh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ye(9500)}ii(e,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new rD(this)}getSize(e){return Z.resolve(this.size)}}class rD extends X2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.persistence=e,this.si=new ra((n=>Op(n)),Mp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Lp,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new tD,this.referenceDelegate=e(this),this.Pi=new sD(this),this.indexManager=new j2,this.remoteDocumentCache=(function(o){return new iD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new q2(n),this.Ii=new Z2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new nD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new aD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class aD extends VI{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Ri=new Lp,this.Vi=null}static mi(e){return new Up(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=fe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new ra((s=>xI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=$2(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}br(e,n,s){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return YR()?8:kI(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new oD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ja()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ja()<=Ve.DEBUG&&oe("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ja()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):Z.resolve())}ys(e,n){if(kE(n))return Z.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Pe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,$m(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return kE(n)||o.isEqual(Ee.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?Z.resolve(null):(Ja()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,h,n,DI(o,Wl)).next((m=>m)))}))}Ds(e,n){let s=new kt(j0(e));return n.forEach(((o,u)=>{Yh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ja()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(e,n,us.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",uD=3e8;class cD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(ke),this.xs=new ra((u=>Op(u)),Mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function hD(r,e,n,s){return new cD(r,e,n,s)}async function dA(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function fD(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let k=Z.resolve();return w.forEach((G=>{k=k.next((()=>E.getEntry(p,G))).next((X=>{const F=g.docVersions.get(G);Fe(F!==null,48541),X.version.compareTo(F)<0&&(T.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function mA(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function dD(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken($t.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(X,F,te){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=uD?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=hr(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(mD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ee.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return Z.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function mD(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=hr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):oe(Bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function pD(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function gD(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ep(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!bo(h))throw h;oe(Bp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function QE(r,e,n){const s=Ae(r);let o=Ee.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ae(p),w=T.xs.get(E);return w!==void 0?Z.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,h,Ii(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ee.min(),n?u:Pe()))).next((m=>(yD(s,t2(e),m),{documents:m,Qs:u})))))}function yD(r,e,n){let s=r.Os.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class YE{constructor(){this.activeTargetIds=o2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _D{constructor(){this.Mo=new YE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new YE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="ConnectivityMonitor";class XE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe($E,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe($E,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function tp(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",ED={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=tp(),m=this.zo(e,n.toUriEncodedString());oe(Cm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Eo(g);return this.Jo(e,m,p,s,E).then((T=>(oe(Cm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw co(Cm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=ED[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class SD extends TD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=tp();return new Promise(((m,p)=>{const g=new g0;g.setWithCredentials(!0),g.listenOnce(y0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case uh.NO_ERROR:const T=g.getResponseJson();oe(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case uh.TIMEOUT:oe(Wt,`RPC '${e}' ${h} timed out`),p(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const w=g.getStatus();if(oe(Wt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k==null?void 0:k.error;if(G&&G.status&&G.message){const X=(function(te){const se=te.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(se)>=0?se:$.UNKNOWN})(G.status);p(new ae(X,G.message))}else p(new ae($.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ae($.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(Wt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);oe(Wt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=tp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=E0(),m=v0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");oe(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,k=!1;const G=new AD({Yo:F=>{k?oe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(w||(oe(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),oe(Wt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),X=(F,te,se)=>{F.listen(te,(ee=>{try{se(ee)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return X(T,Ul.EventType.OPEN,(()=>{k||(oe(Wt,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),X(T,Ul.EventType.CLOSE,(()=>{k||(k=!0,oe(Wt,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),X(T,Ul.EventType.ERROR,(F=>{k||(k=!0,co(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),G.a_(new ae($.UNAVAILABLE,"The operation could not be completed")))})),X(T,Ul.EventType.MESSAGE,(F=>{var te;if(!k){const se=F.data[0];Fe(!!se,16349);const ee=se,pe=(ee==null?void 0:ee.error)||((te=ee[0])==null?void 0:te.error);if(pe){oe(Wt,`RPC '${e}' stream ${o} received error:`,pe);const Ie=pe.status;let be=(function(R){const V=Ct[R];if(V!==void 0)return tA(V)})(Ie),C=pe.message;be===void 0&&(be=$.INTERNAL,C="Unknown error status: "+Ie+" with message "+pe.message),k=!0,G.a_(new ae(be,C)),T.close()}else oe(Wt,`RPC '${e}' stream ${o} received:`,se),G.u_(se)}})),X(m,_0.STAT_EVENT,(F=>{F.stat===Hm.PROXY?oe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Hm.NOPROXY&&oe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(r){return new C2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="PersistentStream";class gA{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ae($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wD extends gA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=N2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Di(h.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Zm(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Qm(p)?{documents:V2(u,p)}:{query:k2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=rA(u,h.resumeToken);const g=Xm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Ch(u,h.snapshotVersion.toTimestamp());const g=Xm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=x2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.q_(n)}}class bD extends gA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=M2(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>O2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{}class CD extends RD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Wm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae($.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Wm(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ae($.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ID{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class DD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{sa(this)&&(oe(ea,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Zh(g)})(this))}))})),this.Ra=new ID(s,o)}}async function Zh(r){if(sa(r))for(const e of r.da)await e(!0)}async function gu(r){for(const e of r.da)await e(!1)}function yA(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fp(n)?jp(n):Co(n).O_()&&Hp(n,e))}function qp(r,e){const n=Ae(r),s=Co(n);n.Ia.delete(e),s.O_()&&_A(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Hp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).Y_(e)}function _A(r,e){r.Va.Ue(e),Co(r).Z_(e)}function jp(r){r.Va=new S2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.Ra.ua()}function Fp(r){return sa(r)&&!Co(r).x_()&&r.Ia.size>0}function sa(r){return Ae(r).Ea.size===0}function vA(r){r.Va=void 0}async function ND(r){r.Ra.set("Online")}async function OD(r){r.Ia.forEach(((e,n)=>{Hp(r,e)}))}async function MD(r,e){vA(r),Fp(r)?(r.Ra.ha(e),jp(r)):r.Ra.set("Unknown")}async function VD(r,e,n){if(r.Ra.set("Online"),e instanceof iA&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){oe(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(r,s)}else if(e instanceof dh?r.Va.Ze(e):e instanceof nA?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await mA(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),_A(u,p);const T=new ts(E.target,p,g,E.sequenceNumber);Hp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){oe(ea,"Failed to raise snapshot:",s),await Dh(r,s)}}async function Dh(r,e,n){if(!bo(e))throw e;r.Ea.add(1),await gu(r),r.Ra.set("Offline"),n||(n=()=>mA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(ea,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Zh(r)}))}function EA(r,e){return e().catch((n=>Dh(r,n,e)))}async function ef(r){const e=Ae(r),n=ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;kD(e);)try{const o=await pD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,PD(e,o)}catch(o){await Dh(e,o)}TA(e)&&AA(e)}function kD(r){return sa(r)&&r.Ta.length<10}function PD(r,e){r.Ta.push(e);const n=ds(r);n.O_()&&n.X_&&n.ea(e.mutations)}function TA(r){return sa(r)&&!ds(r).x_()&&r.Ta.length>0}function AA(r){ds(r).start()}async function xD(r){ds(r).ra()}async function LD(r){const e=ds(r);for(const n of r.Ta)e.ea(n.mutations)}async function UD(r,e,n){const s=r.Ta.shift(),o=kp.from(s,e,n);await EA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ef(r)}async function zD(r,e){e&&ds(r).X_&&await(async function(s,o){if((function(h){return E2(h)&&h!==$.ABORTED})(o.code)){const u=s.Ta.shift();ds(s).B_(),await EA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ef(s)}})(r,e),TA(r)&&AA(r)}async function JE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),oe(ea,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await gu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zh(n)}async function BD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await Zh(n)):e||(n.Ea.add(2),await gu(n),n.Ra.set("Unknown"))}function Co(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new wD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ND.bind(null,r),t_:OD.bind(null,r),r_:MD.bind(null,r),H_:VD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Fp(r)?jp(r):r.Ra.set("Unknown")):(await r.ma.stop(),vA(r))}))),r.ma}function ds(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new bD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:xD.bind(null,r),r_:zD.bind(null,r),ta:LD.bind(null,r),na:UD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ef(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Gp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),bo(r))return new ae($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||fe.comparator(n.key,s.key):(n,s)=>fe.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.ga=new ut(fe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class go{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new go(e,n,so.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HD{constructor(){this.queries=eT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=eT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ae($.ABORTED,"Firestore shutting down"))}}function eT(){return new ra((r=>H0(r)),Qh)}async function SA(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new qD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Kp(h,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Qp(n)}async function wA(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Qp(n)}function FD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Qp(r){r.Ca.forEach((e=>{e.next()}))}var np,tT;(tT=np||(np={})).Ma="default",tT.Cache="cache";class bA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.key=e}}class CA{constructor(e){this.key=e}}class GD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=j0(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ZE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),k=Yh(this.query,T)?T:null,G=!!w&&this.mutatedKeys.has(w.key),X=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;w&&k?w.data.isEqual(k.data)?G!==X&&(s.track({type:3,doc:k}),F=!0):this.su(w,k)||(s.track({type:2,doc:k}),F=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),F=!0):w&&!k&&(s.track({type:1,doc:w}),F=!0,(p||g)&&(m=!0)),F&&(k?(h=h.add(k),u=X?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(k,G){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:F})}};return X(k)-X(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new go(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new CA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new RA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yp="SyncEngine";class KD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class QD{constructor(e){this.key=e,this.hu=!1}}class YD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ra((m=>H0(m)),Qh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(fe.comparator),this.Au=new Map,this.Ru=new Lp,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $D(r,e,n=!0){const s=VA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await IA(s,e,n,!0),o}async function XD(r,e){const n=VA(r);await IA(n,e,!0,!1)}async function IA(r,e,n,s){const o=await gD(r.localStore,Ii(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await WD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&yA(r.remoteStore,o),m}async function WD(r,e,n,s,o){r.pu=(T,w,k)=>(async function(X,F,te,se){let ee=F.view.ru(te);ee.Cs&&(ee=await QE(X.localStore,F.query,!1).then((({documents:C})=>F.view.ru(C,ee))));const pe=se&&se.targetChanges.get(F.targetId),Ie=se&&se.targetMismatches.get(F.targetId)!=null,be=F.view.applyChanges(ee,X.isPrimaryClient,pe,Ie);return iT(X,F.targetId,be.au),be.snapshot})(r,T,w,k);const u=await QE(r.localStore,e,!0),h=new GD(e,u.Qs),m=h.ru(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);iT(r,n,g.au);const E=new KD(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function JD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Qh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&qp(s.remoteStore,o.targetId),ip(s,o.targetId)})).catch(wo)):(ip(s,o.targetId),await ep(s.localStore,o.targetId,!0))}async function ZD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qp(n.remoteStore,s.targetId))}async function eN(r,e,n){const s=oN(r);try{const o=await(function(h,m){const p=Ae(h),g=it.now(),E=m.reduce(((k,G)=>k.add(G.key)),Pe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let G=hr(),X=Pe();return p.Ns.getEntries(k,E).next((F=>{G=F,G.forEach(((te,se)=>{se.isValidDocument()||(X=X.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,G))).next((F=>{T=F;const te=[];for(const se of m){const ee=p2(se,T.get(se.key).overlayedDocument);ee!=null&&te.push(new ys(se.key,ee,k0(ee.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,te,m)})).next((F=>{w=F;const te=F.applyToLocalDocumentSet(T,X);return p.documentOverlayCache.saveOverlays(k,F.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:G0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ut(ke)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await yu(s,o.changes),await ef(s.remoteStore)}catch(o){const u=Kp(o,"Failed to persist write");n.reject(u)}}async function DA(r,e){const n=Ae(r);try{const s=await dD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Fe(h.hu,14607):o.removedDocuments.size>0&&(Fe(h.hu,42227),h.hu=!1))})),await yu(n,s,e)}catch(s){await wo(s)}}function nT(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ae(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Qp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tN(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ut(fe.comparator);h=h.insert(u,Zt.newNoDocument(u,Ee.min()));const m=Pe().add(u),p=new Wh(Ee.min(),new Map,new ut(ke),h,m);await DA(s,p),s.du=s.du.remove(u),s.Au.delete(e),$p(s)}else await ep(s.localStore,e,!1).then((()=>ip(s,e,n))).catch(wo)}async function nN(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await fD(n.localStore,e);OA(n,s,null),NA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await wo(o)}}async function iN(r,e,n){const s=Ae(r);try{const o=await(function(h,m){const p=Ae(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Fe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);OA(s,e,n),NA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await wo(o)}}function NA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function OA(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ip(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||MA(r,s)}))}function MA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(qp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),$p(r))}function iT(r,e,n){for(const s of n)s instanceof RA?(r.Ru.addReference(s.key,e),rN(r,s)):s instanceof CA?(oe(Yp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||MA(r,s.key)):ye(19791,{wu:s})}function rN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(oe(Yp,"New document in limbo: "+n),r.Eu.add(s),$p(r))}function $p(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new fe(et.fromString(e)),s=r.fu.next();r.Au.set(s,new QD(n)),r.du=r.du.insert(n,s),yA(r.remoteStore,new ts(Ii(Kh(n.path)),s,"TargetPurposeLimboResolution",jh.ce))}}async function yu(r,e,n){const s=Ae(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=zp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(g,(w=>Z.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>Z.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!bo(T))throw T;oe(Bp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const k=E.Ms.get(w),G=k.snapshotVersion,X=k.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(w,X)}}})(s.localStore,u))}async function sN(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){oe(Yp,"User change. New user:",e.toKey());const s=await dA(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ae($.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function aN(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function VA(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=DA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tN.bind(null,e),e.Pu.H_=jD.bind(null,e.eventManager),e.Pu.yu=FD.bind(null,e.eventManager),e}function oN(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iN.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return hD(this.persistence,new lD,e.initialUser,this.serializer)}Cu(e){return new fA(Up.mi,this.serializer)}Du(e){return new _D}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class lN extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Q2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new fA((s=>Ih.mi(s,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await BD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HD})()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=(function(u){return new SD(u)})(e.databaseInfo);return(function(u,h,m,p){return new CD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new DD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>nT(this.syncEngine,n,0)),(function(){return XE.v()?new XE:new vD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new YD(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Ae(o);oe(ea,"RemoteStore shutting down."),u.Ea.add(5),await gu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}rp.provider={build:()=>new rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class uN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{oe(ms,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(oe(ms,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await dA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function rT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await cN(r);oe(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>JE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>JE(e.remoteStore,o))),r._onlineComponents=e}async function cN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ms,"Using user provided OfflineComponentProvider");try{await Dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Dm(r,new Nh)}}else oe(ms,"Using default OfflineComponentProvider"),await Dm(r,new lN(void 0));return r._offlineComponents}async function PA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ms,"Using user provided OnlineComponentProvider"),await rT(r,r._uninitializedComponentsProvider._online)):(oe(ms,"Using default OnlineComponentProvider"),await rT(r,new rp))),r._onlineComponents}function hN(r){return PA(r).then((e=>e.syncEngine))}async function sp(r){const e=await PA(r),n=e.eventManager;return n.onListen=$D.bind(null,e.syncEngine),n.onUnlisten=JD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZD.bind(null,e.syncEngine),n}function fN(r,e,n={}){const s=new as;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new kA({next:w=>{E.Nu(),h.enqueueAndForget((()=>wA(u,T)));const k=w.docs.has(m);!k&&w.fromCache?g.reject(new ae($.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?g.reject(new ae($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new bA(Kh(m.path),E,{includeMetadataChanges:!0,qa:!0});return SA(u,T)})(await sp(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firestore.googleapis.com",aT=!0;class oT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LA,this.ssl=aT}else this.host=e.host,this.ssl=e.ssl??aT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G2)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}II("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _I;switch(s.type){case"firstParty":return new AI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=sT.get(n);s&&(oe("ComponentProvider","Removing Datastore"),sT.delete(n),s.terminate())})(this),Promise.resolve()}}function dN(r,e,n,s={}){var g;r=ti(r,tf);const o=Eo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(l0(`https://${m}`),u0("Firestore",!0)),u.host!==LA&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Js(p,h)&&(r._setSettings(p),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Jt.MOCK_USER;else{E=zR(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(w)}r._authCredentials=new vI(new A0(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,ft._jsonSchema))return new ft(e,s||null,new fe(et.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Dt("string",ft._jsonSchemaVersion),referencePath:Dt("string")};class os extends aa{constructor(e,n,s){super(e,n,Kh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new fe(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function NV(r,e,...n){if(r=xt(r),S0("collection","path",e),r instanceof tf){const s=et.fromString(e,...n);return EE(s),new os(r,null,s)}{if(!(r instanceof ft||r instanceof os))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return EE(s),new os(r.firestore,null,s)}}function mN(r,e,...n){if(r=xt(r),arguments.length===1&&(e=Cp.newId()),S0("doc","path",e),r instanceof tf){const s=et.fromString(e,...n);return vE(s),new ft(r,null,new fe(s))}{if(!(r instanceof ft||r instanceof os))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return vE(s),new ft(r.firestore,r instanceof os?r.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pA(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&oe(lT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new as;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bo(e))throw e;oe(lT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",cT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ye(47125,{Pc:cT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function cT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ta extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new uT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function pN(r,e){const n=typeof r=="object"?r:bp(),s=typeof r=="string"?r:Sh,o=fu(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=UR("firestore");u&&dN(o,...u)}return o}function Xp(r){if(r._terminated)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gN(r),r._firestoreClient}function gN(r){var s,o,u;const e=r._freezeSettings(),n=(function(m,p,g,E){return new zI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,xA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new uN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn($t.fromBase64String(e))}catch(n){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(du(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Dt("string",Ni._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Oi(e.vectorValues);throw new ae($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Dt("string",Oi._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^__.*__$/;class _N{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class UA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class Wp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zA(this.Ac)&&yN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}Cc(e,n,s,o=!1){return new Wp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(r){const e=r._freezeSettings(),n=Jh(r._databaseId);return new vN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function BA(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",h,s);const m=qA(s,h);let p,g;if(u.merge)p=new wn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=ap(e,T,n);if(!h.contains(w))throw new ae($.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);jA(E,w)||E.push(w)}p=new wn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new _N(new dn(m),p,g)}class af extends rf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}class Jp extends rf{_toFieldTransform(e){return new h2(e.path,new nu)}isEqual(e){return e instanceof Jp}}function EN(r,e,n,s){const o=r.Cc(1,e,n);Zp("Data must be an object, but it was:",o,s);const u=[],h=dn.empty();gs(s,((p,g)=>{const E=eg(e,p,n);g=xt(g);const T=o.yc(E);if(g instanceof af)u.push(E);else{const w=_u(g,T);w!=null&&(u.push(E),h.set(E,w))}}));const m=new wn(u);return new UA(h,m,o.fieldTransforms)}function TN(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[ap(e,s,n)],p=[o];if(u.length%2!=0)throw new ae($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ap(e,u[w])),p.push(u[w+1]);const g=[],E=dn.empty();for(let w=m.length-1;w>=0;--w)if(!jA(g,m[w])){const k=m[w];let G=p[w];G=xt(G);const X=h.yc(k);if(G instanceof af)g.push(k);else{const F=_u(G,X);F!=null&&(g.push(k),E.set(k,F))}}const T=new wn(g);return new UA(E,T,h.fieldTransforms)}function AN(r,e,n,s=!1){return _u(n,r.Cc(s?4:3,e))}function _u(r,e){if(HA(r=xt(r)))return Zp("Unsupported field value:",e,r),qA(r,e);if(r instanceof rf)return(function(s,o){if(!zA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=_u(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return l2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:rA(o.serializer,s._byteString)};if(s instanceof ft){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Oi)return(function(h,m){return{mapValue:{fields:{[M0]:{stringValue:V0},[wh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Vp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Hh(s)}`)})(r,e)}function qA(r,e){const n={};return R0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,o)=>{const u=_u(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function HA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Ni||r instanceof zn||r instanceof ft||r instanceof rf||r instanceof Oi)}function Zp(r,e,n){if(!HA(n)||!w0(n)){const s=Hh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ap(r,e,n){if((e=xt(e))instanceof nf)return e._internalPath;if(typeof e=="string")return eg(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const SN=new RegExp("[~\\*/\\[\\]]");function eg(r,e,n){if(e.search(SN)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new nf(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ae($.INVALID_ARGUMENT,m+r+p)}function jA(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(of("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wN extends FA{data(){return super.data()}}function of(r,e){return typeof e=="string"?eg(r,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class GA extends tg{}function OV(r,e,...n){let s=[];e instanceof tg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof ng)).length,m=u.filter((p=>p instanceof lf)).length;if(h>1||h>0&&m>0)throw new ae($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class lf extends GA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lf(e,n,s)}_apply(e){const n=this._parse(e);return KA(e._query,n),new aa(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=sf(e.firestore);return(function(u,h,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ae($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){dT(T,E);const G=[];for(const X of T)G.push(fT(p,u,X));w={arrayValue:{values:G}}}else w=fT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||dT(T,E),w=AN(m,h,T,E==="in"||E==="not-in");return It.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function MV(r,e,n){const s=e,o=of("where",r);return lf._create(o,s,n)}class ng extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)KA(h,p),h=Ym(h,p)})(e._query,n),new aa(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends GA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ig(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,h)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Ro(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function VV(r,e="asc"){const n=e,s=of("orderBy",r);return ig._create(s,n)}function fT(r,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new ae($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q0(e)&&n.indexOf("/")!==-1)throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!fe.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return IE(r,new fe(s))}if(n instanceof ft)return IE(r,n._key);throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function dT(r,e){if(!Array.isArray(r)||r.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KA(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RN{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[wh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>yt(h.doubleValue)));return new Oi(n)}convertGeoPoint(e){return new Ni(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=cs(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(cA(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new fe(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends FA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(of("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Dt("string",Ws._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class mh extends Ws{data(e={}){return super.data(e)}}class ao{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new mh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:CN(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(r){r=ti(r,ft);const e=ti(r.firestore,ta);return fN(Xp(e),r._key).then((n=>$A(e,r,n)))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Dt("string",ao._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class YA extends RN{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function PV(r,e,n){r=ti(r,ft);const s=ti(r.firestore,ta),o=QA(r.converter,e);return rg(s,[BA(sf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ni.none())])}function xV(r,e,n,...s){r=ti(r,ft);const o=ti(r.firestore,ta),u=sf(o);let h;return h=typeof(e=xt(e))=="string"||e instanceof nf?TN(u,"updateDoc",r._key,e,n,s):EN(u,"updateDoc",r._key,e),rg(o,[h.toMutation(r._key,ni.exists(!0))])}function LV(r,e){const n=ti(r.firestore,ta),s=mN(r),o=QA(r.converter,e);return rg(n,[BA(sf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ni.exists(!1))]).then((()=>s))}function UV(r,...e){var p,g,E;r=xt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(hT(e[s])){const T=e[s];e[s]=(p=T.next)==null?void 0:p.bind(T),e[s+1]=(g=T.error)==null?void 0:g.bind(T),e[s+2]=(E=T.complete)==null?void 0:E.bind(T)}let u,h,m;if(r instanceof ft)h=ti(r.firestore,ta),m=Kh(r._key.path),u={next:T=>{e[s]&&e[s]($A(h,r,T))},error:e[s+1],complete:e[s+2]};else{const T=ti(r,aa);h=ti(T.firestore,ta),m=T._query;const w=new YA(h);u={next:k=>{e[s]&&e[s](new ao(h,w,T,k))},error:e[s+1],complete:e[s+2]},bN(r._query)}return(function(w,k,G,X){const F=new kA(X),te=new bA(k,F,G);return w.asyncQueue.enqueueAndForget((async()=>SA(await sp(w),te))),()=>{F.Nu(),w.asyncQueue.enqueueAndForget((async()=>wA(await sp(w),te)))}})(Xp(h),m,o,u)}function rg(r,e){return(function(s,o){const u=new as;return s.asyncQueue.enqueueAndForget((async()=>eN(await hN(s),o,u))),u.promise})(Xp(r),e)}function $A(r,e,n){const s=n.docs.get(e._key),o=new YA(r);return new Ws(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}function zV(){return new Jp("serverTimestamp")}(function(e,n=!0){(function(o){So=o})(Ao),ls(new lr("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ta(new EI(s.getProvider("auth-internal")),new SI(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),sr(pE,gE,e),sr(pE,gE,"esm2020")})();function XA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IN=XA,WA=new To("auth","Firebase",XA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new qh("@firebase/auth");function DN(r,...e){Mh.logLevel<=Ve.WARN&&Mh.warn(`Auth (${Ao}): ${r}`,...e)}function ph(r,...e){Mh.logLevel<=Ve.ERROR&&Mh.error(`Auth (${Ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r,...e){throw sg(r,...e)}function Mi(r,...e){return sg(r,...e)}function JA(r,e,n){const s={...IN(),[e]:n};return new To("auth","Firebase",s).create(e,{appName:r.name})}function ar(r){return JA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return WA.create(r,...e)}function ge(r,e,...n){if(!r)throw sg(e,...n)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ph(e),new Error(e)}function fr(r,e){r||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function NN(){return mT()==="http:"||mT()==="https:"}function mT(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NN()||GR()||"connection"in navigator)?navigator.onLine:!0}function MN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=HR()||KR()}get(){return ON()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,e){fr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PN=new vu(3e4,6e4);function pr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function gr(r,e,n,s,o={}){return eS(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=hu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return FR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),ZA.fetch()(await tS(r,r.config.apiHost,n,m),g)})}async function eS(r,e,n){r._canInitEmulator=!1;const s={...VN,...e};try{const o=new LN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw rh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw rh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw JA(r,E,g);ri(r,E)}}catch(o){if(o instanceof mr)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function Eu(r,e,n,s,o={}){const u=await gr(r,e,n,s,o);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tS(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?ag(r.config,o):`${r.config.apiScheme}://${o}`;return kN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function xN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),PN.get())})}}function rh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mi(r,e,s);return o.customData._tokenResponse=n,o}function pT(r){return r!==void 0&&r.enterprise!==void 0}class UN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zN(r,e){return gr(r,"GET","/v2/recaptchaConfig",pr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(r,e){return gr(r,"POST","/v1/accounts:delete",e)}async function Vh(r,e){return gr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(r,e=!1){const n=xt(r),s=await n.getIdToken(e),o=og(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ql(Nm(o.auth_time)),issuedAtTime:Ql(Nm(o.iat)),expirationTime:Ql(Nm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nm(r){return Number(r)*1e3}function og(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=i0(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function gT(r){const e=og(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof mr&&HN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function HN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(r){var T;const e=r.auth,n=await r.getIdToken(),s=await su(r,Vh(e,{idToken:n}));ge(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?nS(o.providerUserInfo):[],h=GN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function FN(r){const e=xt(r);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nS(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(r,e){const n=await eS(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await tS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),ZA.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QN(r,e){return gr(r,"POST","/v2/accounts:revokeToken",pr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=gT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await KN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new oo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new jN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qN(this,e)}reload(){return FN(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await su(this,BN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:G,stsTokenManager:X}=n;ge(T&&X,e,"internal-error");const F=oo.fromJSON(this.name,X);ge(typeof T=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),ge(typeof w=="boolean",e,"internal-error"),ge(typeof k=="boolean",e,"internal-error"),Xr(u,e.name),Xr(h,e.name),Xr(m,e.name),Xr(p,e.name),Xr(g,e.name),Xr(E,e.name);const te=new ei({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return G&&Array.isArray(G)&&(te.providerData=G.map(se=>({...se}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const p=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=new Map;function ir(r){fr(r instanceof Function,"Expected a class definition");let e=yT.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,yT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iS.type="NONE";const _T=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(ir(_T),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ir(_T);const h=gh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await Vh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ei._fromGetAccountInfoResponse(e,w,E)}else T=ei._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uS(e))return"Blackberry";if(cS(e))return"Webos";if(sS(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(lS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function rS(r=en()){return/firefox\//i.test(r)}function sS(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(r=en()){return/crios\//i.test(r)}function oS(r=en()){return/iemobile/i.test(r)}function lS(r=en()){return/android/i.test(r)}function uS(r=en()){return/blackberry/i.test(r)}function cS(r=en()){return/webos/i.test(r)}function lg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YN(r=en()){var e;return lg(r)&&!!((e=window.navigator)!=null&&e.standalone)}function $N(){return QR()&&document.documentMode===10}function hS(r=en()){return lg(r)||lS(r)||cS(r)||uS(r)||/windows phone/i.test(r)||oS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(r,e=[]){let n;switch(r){case"Browser":n=vT(en());break;case"Worker":n=`${vT(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(r,e={}){return gr(r,"GET","/v2/passwordPolicy",pr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class ZN{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),s=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Un(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(ar(this));const n=e?xt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WN(this),n=new ZN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new To("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await QN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&DN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function oa(r){return xt(r)}class ET{constructor(e){this.auth=e,this.observer=null,this.addObserver=eC(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tO(r){uf=r}function dS(r){return uf.loadJS(r)}function nO(){return uf.recaptchaEnterpriseScript}function iO(){return uf.gapiScript}function rO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class sO{constructor(){this.enterprise=new aO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oO="recaptcha-enterprise",mS="NO_RECAPTCHA";class lO{constructor(e){this.type=oO,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{zN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new UN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;pT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(mS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sO().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&pT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=nO();p.length!==0&&(p+=m),dS(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function TT(r,e,n,s=!1,o=!1){const u=new lO(r);let h;if(o)h=mS;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function up(r,e,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await TT(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await TT(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(r,e){const n=fu(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function cO(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function hO(r,e,n){const s=oa(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pS(e),{host:h,port:m}=fO(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(Js(g,s.config.emulator)&&Js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(h)?(l0(`${u}//${h}${p}`),u0("Auth",!0)):dO()}function pS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function fO(r){const e=pS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:AT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:AT(h)}}}function AT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dO(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function mO(r,e){return gr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(r,e){return Eu(r,"POST","/v1/accounts:signInWithPassword",pr(r,e))}async function gO(r,e){return gr(r,"POST","/v1/accounts:sendOobCode",pr(r,e))}async function yO(r,e){return gO(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(r,e){return Eu(r,"POST","/v1/accounts:signInWithEmailLink",pr(r,e))}async function vO(r,e){return Eu(r,"POST","/v1/accounts:signInWithEmailLink",pr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends ug{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,n,"signInWithPassword",pO);case"emailLink":return _O(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,s,"signUpPassword",mO);case"emailLink":return vO(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e){return Eu(r,"POST","/v1/accounts:signInWithIdp",pr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="http://localhost";class na extends ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new na(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:EO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AO(r){const e=xl(Ll(r)).link,n=e?xl(Ll(e)).deep_link_id:null,s=xl(Ll(r)).deep_link_id;return(s?xl(Ll(s)).link:null)||s||n||e||r}class cg{constructor(e){const n=xl(Ll(e)),s=n.apiKey??null,o=n.oobCode??null,u=TO(n.mode??null);ge(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AO(e);try{return new cg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=cg.parseLink(n);return ge(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Tu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Tu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Tu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(r,e){return Eu(r,"POST","/v1/accounts:signUp",pr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ei._fromIdTokenResponse(e,s,o),h=ST(s);return new ia({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ST(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ST(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function yS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(r,u,e,s):u})}async function wO(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ia._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(ar(s));const o="reauthenticate";try{const u=await su(r,yS(s,o,e,r),n);ge(u.idToken,s,"internal-error");const h=og(u.idToken);ge(h,s,"internal-error");const{sub:m}=h;return ge(r.uid===m,s,"user-mismatch"),ia._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(r,e,n=!1){if(Un(r.app))return Promise.reject(ar(r));const s="signIn",o=await yS(r,s,e),u=await ia._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function RO(r,e){return _S(oa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(r){const e=oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BV(r,e,n){if(Un(r.app))return Promise.reject(ar(r));const s=oa(r),h=await up(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vS(r),p}),m=await ia._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function qV(r,e,n){return Un(r.app)?Promise.reject(ar(r)):RO(xt(r),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vS(r),s})}async function HV(r,e){const n=xt(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await yO(n.auth,o);u!==r.email&&await r.reload()}function CO(r,e,n,s){return xt(r).onIdTokenChanged(e,n,s)}function IO(r,e,n){return xt(r).beforeAuthStateChanged(e,n)}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1e3,NO=10;class TS extends ES{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);$N()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TS.type="LOCAL";const OO=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends ES{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AS.type="SESSION";const SS=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await MO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=hg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function kO(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function PO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function LO(){return wS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebaseLocalStorageDb",UO=1,Lh="firebaseLocalStorage",RS="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(r,e){return r.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function zO(){const r=indexedDB.deleteDatabase(bS);return new Au(r).toPromise()}function cp(){const r=indexedDB.open(bS,UO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Lh,{keyPath:RS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Lh)?e(s):(s.close(),await zO(),e(await cp()))})})}async function wT(r,e,n){const s=hf(r,!0).put({[RS]:e,value:n});return new Au(s).toPromise()}async function BO(r,e){const n=hf(r,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function bT(r,e){const n=hf(r,!0).delete(e);return new Au(n).toPromise()}const qO=800,HO=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(LO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await PO(),!this.activeServiceWorker)return;this.sender=new VO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await wT(e,xh,"1"),await bT(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>BO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const jO=CS;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(r,e){return e?ir(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GO(r){return _S(r.auth,new fg(r),r.bypassAuthState)}function KO(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),bO(n,new fg(r),r.bypassAuthState)}async function QO(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),wO(n,new fg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return QO;case"reauthViaPopup":case"reauthViaRedirect":return KO;default:ri(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new vu(2e3,1e4);class no extends IS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YO.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="pendingRedirect",yh=new Map;class XO extends IS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const s=await WO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WO(r,e){const n=eM(e),s=ZO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function JO(r,e){yh.set(r._key(),e)}function ZO(r){return ir(r._redirectPersistence)}function eM(r){return gh($O,r.config.apiKey,r.name)}async function tM(r,e,n=!1){if(Un(r.app))return Promise.reject(ar(r));const s=oa(r),o=FO(s,e),h=await new XO(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=600*1e3;class iM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!DS(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nM&&this.cachedEventUids.clear(),this.cachedEventUids.has(RT(e))}saveEventToCache(e){this.cachedEventUids.add(RT(e)),this.lastProcessedEventTime=Date.now()}}function RT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function DS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rM(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(r,e={}){return gr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oM=/^https?/;async function lM(r){if(r.config.emulator)return;const{authorizedDomains:e}=await sM(r);for(const n of e)try{if(uM(n))return}catch{}ri(r,"unauthorized-domain")}function uM(r){const e=op(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!oM.test(n))return!1;if(aM.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new vu(3e4,6e4);function CT(){const r=Vi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function hM(r){return new Promise((e,n)=>{var o,u,h;function s(){CT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CT(),n(Mi(r,"network-request-failed"))},timeout:cM.get()})}if((u=(o=Vi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Vi().gapi)!=null&&h.load)s();else{const m=rO("iframefcb");return Vi()[m]=()=>{gapi.load?s():n(Mi(r,"network-request-failed"))},dS(`${iO()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw _h=null,e})}let _h=null;function fM(r){return _h=_h||hM(r),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new vu(5e3,15e3),mM="__/auth/iframe",pM="emulator/auth/iframe",gM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _M(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ag(e,pM):`https://${r.config.authDomain}/${mM}`,s={apiKey:e.apiKey,appName:r.name,v:Ao},o=yM.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function vM(r){const e=await fM(r),n=Vi().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:_M(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Mi(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(h)},dM.get());function p(){Vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TM=500,AM=600,SM="_blank",wM="http://localhost";class IT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bM(r,e,n,s=TM,o=AM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...EM,width:s.toString(),height:o.toString(),top:u,left:h},g=en().toLowerCase();n&&(m=aS(g)?SM:n),rS(g)&&(e=e||wM,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[k,G])=>`${w}${k}=${G},`,"");if(YN(g)&&m!=="_self")return RM(e||"",m),new IT(null);const T=window.open(e||"",m,E);ge(T,r,"popup-blocked");try{T.focus()}catch{}return new IT(T)}function RM(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="__/auth/handler",IM="emulator/auth/handler",DM=encodeURIComponent("fac");async function DT(r,e,n,s,o,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof gS){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",ZR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Tu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${DM}=${encodeURIComponent(p)}`:"";return`${NM(r)}?${hu(m).slice(1)}${g}`}function NM({config:r}){return r.emulator?ag(r,IM):`https://${r.authDomain}/${CM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class OM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SS,this._completeRedirectFn=tM,this._overrideRedirectResult=JO}async _openPopup(e,n,s,o){var h;fr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await DT(e,n,s,op(),o);return bM(e,u,hg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await DT(e,n,s,op(),o);return kO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vM(e),s=new iM(e);return n.register("authEvent",o=>(ge(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Om];u!==void 0&&n(!!u),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hS()||sS()||lg()}}const MM=OM;var NT="@firebase/auth",OT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PM(r){ls(new lr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ge(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(r)},g=new eO(s,o,u,p);return cO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ls(new lr("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new VM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(NT,OT,kM(r)),sr(NT,OT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=300,LM=o0("authIdTokenMaxAge")||xM;let MT=null;const UM=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LM)return;const o=n==null?void 0:n.token;MT!==o&&(MT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zM(r=bp()){const e=fu(r,"auth");if(e.isInitialized())return e.getImmediate();const n=uO(r,{popupRedirectResolver:MM,persistence:[jO,OO,SS]}),s=o0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=UM(u.toString());IO(n,h,()=>h(n.currentUser)),CO(n,m=>h(m))}}const o=s0("auth");return o&&hO(n,`http://${o}`),n}function BM(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}tO({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",BM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PM("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new Map,NS={activated:!1,tokenObservers:[]},qM={initialized:!1,enabled:!1};function Pt(r){return hp.get(r)||{...NS}}function HM(r,e){return hp.set(r,e),hp.get(r)}function ff(){return qM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="https://content-firebaseappcheck.googleapis.com/v1",jM="exchangeRecaptchaV3Token",FM="exchangeDebugToken",VT={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},GM=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,s,o,u){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=s,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new $l,this.pending.promise.catch(n=>{}),await QM(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new $l,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function QM(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},mn=new To("appCheck","AppCheck",YM);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r=!1){var e;return r?(e=self.grecaptcha)==null?void 0:e.enterprise:self.grecaptcha}function dg(r){if(!Pt(r).activated)throw mn.create("use-before-activation",{appName:r.name})}function MS(r){const e=Math.round(r/1e3),n=Math.floor(e/(3600*24)),s=Math.floor((e-n*3600*24)/3600),o=Math.floor((e-n*3600*24-s*3600)/60),u=e-n*3600*24-s*3600-o*60;let h="";return n&&(h+=sh(n)+"d:"),s&&(h+=sh(s)+"h:"),h+=sh(o)+"m:"+sh(u)+"s",h}function sh(r){return r===0?"00":r>=10?r.toString():"0"+r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg({url:r,body:e},n){const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const T=await o.getHeartbeatsHeader();T&&(s["X-Firebase-Client"]=T)}const u={method:"POST",body:JSON.stringify(e),headers:s};let h;try{h=await fetch(r,u)}catch(T){throw mn.create("fetch-network-error",{originalErrorMessage:T==null?void 0:T.message})}if(h.status!==200)throw mn.create("fetch-status-error",{httpStatus:h.status});let m;try{m=await h.json()}catch(T){throw mn.create("fetch-parse-error",{originalErrorMessage:T==null?void 0:T.message})}const p=m.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw mn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const g=Number(p[1])*1e3,E=Date.now();return{token:m.token,expireTimeMillis:E+g,issuedAtTimeMillis:E}}function $M(r,e){const{projectId:n,appId:s,apiKey:o}=r.options;return{url:`${OS}/projects/${n}/apps/${s}:${jM}?key=${o}`,body:{recaptcha_v3_token:e}}}function VS(r,e){const{projectId:n,appId:s,apiKey:o}=r.options;return{url:`${OS}/projects/${n}/apps/${s}:${FM}?key=${o}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="firebase-app-check-database",WM=1,ou="firebase-app-check-store",kS="debug-token";let ah=null;function PS(){return ah||(ah=new Promise((r,e)=>{try{const n=indexedDB.open(XM,WM);n.onsuccess=s=>{r(s.target.result)},n.onerror=s=>{var o;e(mn.create("storage-open",{originalErrorMessage:(o=s.target.error)==null?void 0:o.message}))},n.onupgradeneeded=s=>{const o=s.target.result;switch(s.oldVersion){case 0:o.createObjectStore(ou,{keyPath:"compositeKey"})}}}catch(n){e(mn.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),ah)}function JM(r){return LS(US(r))}function ZM(r,e){return xS(US(r),e)}function eV(r){return xS(kS,r)}function tV(){return LS(kS)}async function xS(r,e){const s=(await PS()).transaction(ou,"readwrite"),u=s.objectStore(ou).put({compositeKey:r,value:e});return new Promise((h,m)=>{u.onsuccess=p=>{h()},s.onerror=p=>{var g;m(mn.create("storage-set",{originalErrorMessage:(g=p.target.error)==null?void 0:g.message}))}})}async function LS(r){const n=(await PS()).transaction(ou,"readonly"),o=n.objectStore(ou).get(r);return new Promise((u,h)=>{o.onsuccess=m=>{const p=m.target.result;u(p?p.value:void 0)},n.onerror=m=>{var p;h(mn.create("storage-get",{originalErrorMessage:(p=m.target.error)==null?void 0:p.message}))}})}function US(r){return`${r.options.appId}-${r.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new qh("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nV(r){if(Sp()){let e;try{e=await JM(r)}catch(n){ns.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function Mm(r,e){return Sp()?ZM(r,e).catch(n=>{ns.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function iV(){let r;try{r=await tV()}catch{}if(r)return r;{const e=crypto.randomUUID();return eV(e).catch(n=>ns.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(){return ff().enabled}async function gg(){const r=ff();if(r.enabled&&r.token)return r.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function rV(){const r=r0(),e=ff();if(e.initialized=!0,typeof r.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&r.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new $l;e.token=n,typeof r.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(r.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(iV())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV={error:"UNKNOWN_ERROR"};function aV(r){return Ap.encodeString(JSON.stringify(r),!1)}async function fp(r,e=!1,n=!1){const s=r.app;dg(s);const o=Pt(s);let u=o.token,h;if(u&&!io(u)&&(o.token=void 0,u=void 0),!u){const g=await o.cachedTokenPromise;g&&(io(g)?u=g:await Mm(s,void 0))}if(!e&&u&&io(u))return{token:u.token};let m=!1;if(pg())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=mg(VS(s,await gg()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),m=!0);const g=await o.exchangeTokenPromise;return await Mm(s,g),o.token=g,{token:g.token}}catch(g){return g.code==="appCheck/throttled"||g.code==="appCheck/initial-throttle"?ns.warn(g.message):n&&ns.error(g),Vm(g)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),m=!0),u=await Pt(s).exchangeTokenPromise}catch(g){g.code==="appCheck/throttled"||g.code==="appCheck/initial-throttle"?ns.warn(g.message):n&&ns.error(g),h=g}let p;return u?h?io(u)?p={token:u.token,internalError:h}:p=Vm(h):(p={token:u.token},o.token=u,await Mm(s,u)):p=Vm(h),m&&qS(s,p),p}async function oV(r){const e=r.app;dg(e);const{provider:n}=Pt(e);if(pg()){const s=await gg(),{token:o}=await mg(VS(e,s),r.heartbeatServiceProvider);return{token:o}}else{const{token:s}=await n.getToken();return{token:s}}}function zS(r,e,n,s){const{app:o}=r,u=Pt(o),h={next:n,error:s,type:e};if(u.tokenObservers=[...u.tokenObservers,h],u.token&&io(u.token)){const m=u.token;Promise.resolve().then(()=>{n({token:m.token}),PT(r)}).catch(()=>{})}u.cachedTokenPromise.then(()=>PT(r))}function BS(r,e){const n=Pt(r),s=n.tokenObservers.filter(o=>o.next!==e);s.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=s}function PT(r){const{app:e}=r,n=Pt(e);let s=n.tokenRefresher;s||(s=lV(r),n.tokenRefresher=s),!s.isRunning()&&n.isTokenAutoRefreshEnabled&&s.start()}function lV(r){const{app:e}=r;return new KM(async()=>{const n=Pt(e);let s;if(n.token?s=await fp(r,!0):s=await fp(r),s.error)throw s.error;if(s.internalError)throw s.internalError},()=>!0,()=>{const n=Pt(e);if(n.token){let s=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const o=n.token.expireTimeMillis-300*1e3;return s=Math.min(s,o),Math.max(0,s-Date.now())}else return 0},VT.RETRIAL_MIN_WAIT,VT.RETRIAL_MAX_WAIT)}function qS(r,e){const n=Pt(r).tokenObservers;for(const s of n)try{s.type==="EXTERNAL"&&e.error!=null?s.error(e.error):s.next(e)}catch{}}function io(r){return r.expireTimeMillis-Date.now()>0}function Vm(r){return{token:aV(sV),error:r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Pt(this.app);for(const n of e)BS(this.app,n.next);return Promise.resolve()}}function cV(r,e){return new uV(r,e)}function hV(r){return{getToken:e=>fp(r,e),getLimitedUseToken:()=>oV(r),addTokenListener:e=>zS(r,"INTERNAL",e),removeTokenListener:e=>BS(r.app,e)}}const fV="@firebase/app-check",dV="0.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="https://www.google.com/recaptcha/api.js";function pV(r,e){const n=new $l,s=Pt(r);s.reCAPTCHAState={initialized:n};const o=gV(r),u=kT(!1);return u?xT(r,e,u,o,n):vV(()=>{const h=kT(!1);if(!h)throw new Error("no recaptcha");xT(r,e,h,o,n)}),n.promise}function xT(r,e,n,s,o){n.ready(()=>{_V(r,e,n,s),o.resolve(n)})}function gV(r){const e=`fire_app_check_${r.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function yV(r){dg(r);const n=await Pt(r).reCAPTCHAState.initialized.promise;return new Promise((s,o)=>{const u=Pt(r).reCAPTCHAState;n.ready(()=>{s(n.execute(u.widgetId,{action:"fire_app_check"}))})})}function _V(r,e,n,s){const o=n.render(s,{sitekey:e,size:"invisible",callback:()=>{Pt(r).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Pt(r).reCAPTCHAState.succeeded=!1}}),u=Pt(r);u.reCAPTCHAState={...u.reCAPTCHAState,widgetId:o}}function vV(r){const e=document.createElement("script");e.src=mV,e.onload=r,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var s,o,u;TV(this._throttleData);const e=await yV(this._app).catch(h=>{throw mn.create("recaptcha-error")});if(!((s=Pt(this._app).reCAPTCHAState)!=null&&s.succeeded))throw mn.create("recaptcha-error");let n;try{n=await mg($M(this._app,e),this._heartbeatServiceProvider)}catch(h){throw(o=h.code)!=null&&o.includes("fetch-status-error")?(this._throttleData=EV(Number((u=h.customData)==null?void 0:u.httpStatus),this._throttleData),mn.create("initial-throttle",{time:MS(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):h}return this._throttleData=null,n}initialize(e){this._app=e,this._heartbeatServiceProvider=fu(e,"heartbeat"),pV(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof yg?this._siteKey===e._siteKey:!1}}function EV(r,e){if(r===404||r===403)return{backoffCount:1,allowRequestsAfter:Date.now()+GM,httpStatus:r};{const n=e?e.backoffCount:0,s=oC(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+s,httpStatus:r}}}function TV(r){if(r&&Date.now()-r.allowRequestsAfter<=0)throw mn.create("throttled",{time:MS(r.allowRequestsAfter-Date.now()),httpStatus:r.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(r=bp(),e){r=xt(r);const n=fu(r,"app-check");if(ff().initialized||rV(),pg()&&gg().then(o=>console.log(`App Check debug token: ${o}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(u.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&u.provider.isEqual(e.provider))return o;throw mn.create("already-initialized",{appName:r.name})}const s=n.initialize({options:e});return SV(r,e.provider,e.isTokenAutoRefreshEnabled),Pt(r).isTokenAutoRefreshEnabled&&zS(s,"INTERNAL",()=>{}),s}function SV(r,e,n=!1){const s=HM(r,{...NS});s.activated=!0,s.provider=e,s.cachedTokenPromise=nV(r).then(o=>(o&&io(o)&&(s.token=o,qS(r,{token:o.token})),o)),s.isTokenAutoRefreshEnabled=n&&r.automaticDataCollectionEnabled,!r.automaticDataCollectionEnabled&&n&&ns.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),s.provider.initialize(r)}const wV="app-check",LT="app-check-internal";function bV(){ls(new lr(wV,r=>{const e=r.getProvider("app").getImmediate(),n=r.getProvider("heartbeat");return cV(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,e,n)=>{r.getProvider(LT).initialize()})),ls(new lr(LT,r=>{const e=r.getProvider("app-check").getImmediate();return hV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),sr(fV,dV)}bV();const RV={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},_g=f0(RV);AV(_g,{provider:new yg(void 0),isTokenAutoRefreshEnabled:!0});const jV=pN(_g),FV=zM(_g),HS=document.getElementById("root");if(!HS)throw new Error("Could not find root element to mount to");const CV=Nb.createRoot(HS);CV.render(_e.jsx(Ab.StrictMode,{children:_e.jsx(NR,{})}));export{IV as C,Ni as G,dR as M,iR as R,yR as T,ro as U,rR as a,FV as b,jV as c,mN as d,BV as e,HV as f,kV as g,PV as h,cu as i,_e as j,NV as k,xV as l,zV as m,LV as n,UV as o,Ab as p,OV as q,j as r,qV as s,VV as t,e0 as u,yp as v,MV as w,vR as x};
